System.bundles={"bundles/viewmodel-sandbox/app.css!":["viewmodel-sandbox@1.0.0#app.less!steal-less@1.3.4#less","codemirror@5.42.0#lib/codemirror.css!steal-css@1.3.2#css","viewmodel-sandbox@1.0.0#code-editor/code-editor.less!steal-less@1.3.4#less","vis@4.21.0#dist/vis.css!steal-css@1.3.2#css","viewmodel-sandbox@1.0.0#dependency-data/dependency-data.less!steal-less@1.3.4#less"]},define("npm-utils",function(e,t,i){!function(e,t,i,n){function o(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@\/]*(?::[^:@\/]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}var r=Array.prototype.slice,s=/.+@.+\..+\..+#.+/,a=/#\{[^\}]+\}|#\?.+$/,u=/(git|http(s?)):\/\//,l="function"==typeof Set,h={extend:function(e,t,i,n){var o,s=n;if(i)if(s||(s=l?new Set:[]),l){if(s.has(t))return t;s.add(t)}else{if(-1!==s.indexOf(t))return t;s.push(t)}for(var a in t)o=t[a],i?h.isArray(o)?e[a]=r.call(o):h.isPlainObject(o)?e[a]=h.extend({},o,i,s):e[a]=t[a]:e[a]=t[a];return e},map:function(e,t){for(var i=0,n=e.length,o=[];i<n;i++)o.push(t.call(e,e[i]));return o},filter:function(e,t){for(var i=0,n=e.length,o=[];i<n;i++)t.call(e,e[i])&&o.push(e[i]);return o},forEach:function(e,t){for(var i=0,n=e.length;i<n;i++)t.call(e,e[i],i)},flow:function(e){return function(){for(var t=e[0].apply(this,arguments),i=1;i<e.length;i++)t=e[i].call(this,t);return t}},isObject:function(e){return"object"==typeof e},isPlainObject:function(e){return h.isObject(e)&&(!e||e.__proto__===Object.prototype)},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isEnv:function(e){return this.isEnv?this.isEnv(e):this.env===e},isGitUrl:function(e){return u.test(e)},warnOnce:function(e){var t=this._warnings=this._warnings||{};t[e]||(t[e]=!0,this.warn(e))},warn:function(e){"undefined"!=typeof steal&&"undefined"!=typeof console&&console.warn&&steal.done().then(function(){steal.dev&&steal.dev.warn||(console.warn?console.warn("steal.js WARNING: "+e):console.log(e))})},relativeURI:function(e,t){return"undefined"!=typeof steal?steal.relativeURI(e,t):t},moduleName:{create:function(e,t){if(t)return e.moduleName;if("@empty"===e)return e;var i;e.modulePath&&(i="./"===e.modulePath.substr(0,2)?e.modulePath.substr(2):e.modulePath);var n=e.version;return n&&"^"!==n[0]&&(n=encodeURIComponent(decodeURIComponent(n))),e.packageName+(n?"@"+n:"")+(i?"#"+i:"")+(e.plugin?e.plugin:"")},isNpm:function(e){return s.test(e)},isConditional:function(e){return a.test(e)},isFullyConvertedNpm:function(e){return!!(e.packageName&&e.version&&e.modulePath)},isScoped:function(e){return"@"===e[0]},parse:function(e,t,i,n){var o=e.split("!"),r=o[0].split("#"),s=r[0].split("@");r[1]||s[0]||(s=["@"+s[1]]),3===s.length&&h.moduleName.isScoped(e)&&(s.splice(0,1),s[0]="@"+s[0]);var a,u;if(t&&h.path.isRelative(e))a=t,u=s[0];else if(t&&h.path.isInHomeDir(e,n))a=t,u=s[0].split("/").slice(1).join("/");else if(r[1])a=s[0],u=r[1];else{var l=s[0].split("/");a=l.length&&"@"===l[0][0]?l.splice(0,2).join("/"):l.shift(),u=l.join("/")}return u=h.path.removeJS(u),{plugin:2===o.length?"!"+o[1]:void 0,version:s[1],modulePath:u,packageName:a,moduleName:e,isGlobal:i}},parseFromPackage:function(e,t,i,n){var o=h.pkg.name(t),r=h.moduleName.parse(i,o,void 0,{loader:e}),s=h.path.isRelative(r.modulePath);if(s&&!n)throw new Error("Cannot resolve a relative module identifier with no parent module:",i);if(s){var a=h.moduleName.parse(n,o);if(a.packageName===r.packageName&&a.modulePath){var u=!0;if("../"===i||"./"===i||".."===i){var l=h.path.relativeTo(a.modulePath,i);h.path.isPackageRootDir(l)?(r.modulePath=h.pkg.main(t),u=!1):r.modulePath=i+(h.path.endsWithSlash(i)?"":"/")+"index"}u&&(r.modulePath=h.path.makeRelative(h.path.joinURIs(a.modulePath,r.modulePath)))}}var c,d=h.moduleName.create(r),p=h.pkg.config(t);!(t.browser&&"string"!=typeof t.browser&&d in t.browser)||p&&p.ignoreBrowser||(c=!1===t.browser[d]?"@empty":t.browser[d]);var f=e&&e.globalBrowser&&e.globalBrowser[d];return f&&(c=!1===f.moduleName?"@empty":f.moduleName),c?h.moduleName.parse(c,o,!!f):r},nameAndVersion:function(e){return e.packageName+"@"+e.version},isBareIdentifier:function(e){return e&&"."!==e[0]&&"@"!==e[0]}},pkg:{name:function(e){var t=h.pkg.config(e);return t&&t.name||e.name},main:function(e){var t,i=h.pkg.config(e);return t=i&&i.main?i.main:"string"==typeof e.browser?h.path.endsWithSlash(e.browser)?e.browser+"index":e.browser:"object"==typeof e.jam&&e.jam.main?e.jam.main:e.main?e.main:"index",h.path.removeJS(h.path.removeDotSlash(t))},rootDir:function(e,t){var i=t?h.path.removePackage(e.fileUrl):h.path.pkgDir(e.fileUrl),n=h.pkg.directoriesLib(e);return n&&(i=h.path.joinURIs(h.path.addEndingSlash(i),n)),i},isRoot:function(e,t){var i=h.pkg.getDefault(e);return t&&t.name===i.name&&t.version===i.version},homeAlias:function(e){return e&&e.loader&&e.loader.homeAlias||"~"},getDefault:function(e){return e.npmPaths.__default},findByModuleNameOrAddress:function(e,t,i){if(e.npm){if(t){var n=h.moduleName.parse(t);if(n.version&&n.packageName){var o=n.packageName+"@"+n.version;if(o in e.npm)return e.npm[o]}}if(i){var r=h.relativeURI(e.baseURL,i),s=h.pkg.folderAddress(r);return s?e.npmPaths[s]:h.pkg.getDefault(e)}return h.pkg.getDefault(e)}},folderAddress:function(e){var t=e.lastIndexOf("/node_modules/"),i=e.indexOf("/",t+"/node_modules/".length);if(t>=0)return i>=0?e.substr(0,i):e},findDep:function(e,t,i){if(e.npm&&t&&!h.path.startsWithDotSlash(i)){var n=i+"@"+t.resolutions[i];return e.npm[n]}},findDepWalking:function(e,t,i){if(e.npm&&t&&!h.path.startsWithDotSlash(i))for(var n=h.path.depPackageDir(t.fileUrl,i);n;){var o=e.npmPaths[n];if(o)return o;var r=h.path.parentNodeModuleAddress(n);if(!r)return;n=r+"/"+i}},findByName:function(e,t){if(e.npm&&!h.path.startsWithDotSlash(t))return e.npm[t]},findByNameAndVersion:function(e,t,i){if(e.npm&&!h.path.startsWithDotSlash(t)){var n=t+"@"+i;return e.npm[n]}},findByUrl:function(e,t){if(e.npm){var i=h.pkg.folderAddress(t);return e.npmPaths[i]}},directoriesLib:function(e){var t,i=h.pkg.config(e),n=i&&i.directories&&i.directories.lib,o=[".","/"];if(n){for(;t=o.shift();)n[0]===t&&(n=n.substr(1));return n}},hasDirectoriesLib:function(e){var t=h.pkg.config(e);return t&&t.directories&&!!t.directories.lib},findPackageInfo:function(e,t){var i=e.pkgInfo;if(i){var n;return h.forEach(i,function(e){t.name===e.name&&t.version===e.version&&(n=e)}),n}},saveResolution:function(e,t,i){h.pkg.findPackageInfo(e,t).resolutions[i.name]=t.resolutions[i.name]=i.version},config:function(e){return e.steal||e.system}},path:{makeRelative:function(e){return h.path.isRelative(e)&&"/"!==e.substr(0,1)?e:"./"+e},removeJS:function(e){return e.replace(/\.js(!|$)/,function(e,t){return t})},removePackage:function(e){return e.replace(/\/package\.json.*/,"")},addJS:function(e){return/\.m?js(on)?$/.test(e)?e:e+".js"},isRelative:function(e){return"."===e.substr(0,1)},isInHomeDir:function(e,t){return e.substr(0,2)===h.pkg.homeAlias(t)+"/"},joinURIs:function(e,t){var i=o(t||""),n=o(e||"");return i&&n?(i.protocol||n.protocol)+(i.protocol||i.authority?i.authority:n.authority)+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(i.protocol||i.authority||"/"===i.pathname.charAt(0)?i.pathname:i.pathname?(n.authority&&!n.pathname?"/":"")+n.pathname.slice(0,n.pathname.lastIndexOf("/")+1)+i.pathname:n.pathname)+(i.protocol||i.authority||i.pathname?i.search:i.search||n.search)+i.hash:null},startsWithDotSlash:function(e){return"./"===e.substr(0,2)},removeDotSlash:function(e){return h.path.startsWithDotSlash(e)?e.substr(2):e},endsWithSlash:function(e){return"/"===e[e.length-1]},addEndingSlash:function(e){return h.path.endsWithSlash(e)?e:e+"/"},depPackage:function(e,t){var i=e.replace(/\/package\.json.*/,"");return(i?i+"/":"")+"node_modules/"+t+"/package.json"},peerPackage:function(e,t){var i=e.replace(/\/package\.json.*/,"");return i.substr(0,i.lastIndexOf("/"))+"/"+t+"/package.json"},depPackageDir:function(e,t){return h.path.depPackage(e,t).replace(/\/package\.json.*/,"")},peerNodeModuleAddress:function(e){var t=e.lastIndexOf("/node_modules/");if(t>=0)return e.substr(0,t+"/node_modules/".length-1)},parentNodeModuleAddress:function(e){var t=e.lastIndexOf("/node_modules/"),i=e.lastIndexOf("/node_modules/",t-1);if(i>=0)return e.substr(0,i+"/node_modules/".length-1)},pkgDir:function(e){var t=e.lastIndexOf("/node_modules/"),i=e.indexOf("/",t+"/node_modules/".length);if("@"===e[t+"/node_modules/".length]&&(i=e.indexOf("/",i+1)),t>=0)return i>=0?e.substr(0,i):e},basename:function(e){var t=e.split("/");return t[t.length-1]},relativeTo:function(e,t){for(var i=e.split("/"),n=1;"."===t[n];)i.pop(),n++;return i.join("/")},isPackageRootDir:function(e){return-1===e.indexOf("/")}},json:{transform:function(e,t,i){i.steal=h.pkg.config(i);var n=e.jsonOptions&&e.jsonOptions.transform;return n?n.call(e,t,i):i}},includeInBuild:!0};n.exports=h}(0,0,0,i)}),define("npm-extension",["require","exports","module","@steal","./npm-utils"],function(e,t,i){!function(e,t,i,n){"format cjs";var o=t("@steal"),r=t("./npm-utils");i.includeInBuild=!0;var s="object"==typeof process&&"[object process]"==={}.toString.call(process),a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,u=s&&!!process.versions.electron,l="undefined"!=typeof window&&(!s||u)&&!a;i.addExtension=function(e){function t(e,t){var i=this,n="function"==typeof t.name?t.name(i,e):e.name+t.name,o=r.extend({},e);return o.name=n,o.metadata={dryRun:!0},Promise.resolve(i.locate(o)).then(function(e){return o.address=e,i.fetch(o)}).then(function(t){e.metadata.address=o.address,i.npmParentMap[e.name]=o.name;var n=i.npmContext&&i.npmContext.npmLoad;return n&&(n.saveLoadIfNeeded(i.npmContext),s||r.warnOnce("Some 404s were encountered while loading. Don't panic! These will only happen in dev and are harmless.")),t})}e._extensions&&e._extensions.push(i.addExtension);var n=e.normalize;e.normalize=function(e,t,i,o){function s(e){y.version=e.version,y.modulePath||(y.modulePath=r.pkg.main(e));var t=n.call(S,r.moduleName.create(y),u,i,o);return c&&t.then(function(e){w&&w.forwardSlashMap&&(w.forwardSlashMap[e]=!0)}),t}var a=e,u=t;u&&this.npmParentMap&&this.npmParentMap[u]&&(u=this.npmParentMap[u]);var l=r.path.isRelative(a),h=r.moduleName.isNpm(u),c=r.path.endsWithSlash(a);if(u&&l&&!h)return n.call(this,a,u,i,o);if(r.moduleName.isConditional(a))return n.call(this,a,u,i,o);if("object"==typeof this.map[u]&&this.map[u][a])return n.call(this,a,u,i,o);var d=r.pkg.findByModuleNameOrAddress(this,u,i);if(!d)return n.call(this,a,u,i,o);var p="../"===a||"./"===a;if(h&&p){var f=r.moduleName.parse(u).modulePath||"",m=r.path.relativeTo(f,a);r.path.isPackageRootDir(m)?a=d.name+"#"+r.path.removeJS(r.path.removeDotSlash(d.main)):a+="index"}var g,v,y=r.moduleName.parseFromPackage(this,d,a,u),b=r.pkg.isRoot(this,d),x=y.packageName===d.name;h&&l&&x&&(g=d);var w=this.npmContext,D=w&&w.crawl,C=!!D;if(!g)if(D){if((A=l?null:D.matchedVersion(w,d.name,d.version))&&(v=(F=D.getFullDependencyMap(this,A,b))[y.packageName])){var k=d.resolutions&&d.resolutions[v.name]||v.version,_=D.matchedVersion(this.npmContext,v.name,k);_&&(g=r.pkg.findByUrl(this,_.fileUrl))}}else g=b?r.pkg.findDepWalking(this,d,y.packageName):r.pkg.findDep(this,d,y.packageName);if(x&&(g=r.pkg.findByNameAndVersion(this,y.packageName,d.version)),y.isGlobal,g||(g=r.pkg.findByName(this,y.packageName)),C&&g&&v&&!D.pkgSatisfies(g,v.version)?g=void 0:C&&g&&r.pkg.saveResolution(w,d,g),!g){var E=this.globalBrowser[y.packageName];E&&(y.packageName=E.moduleName,g=r.pkg.findByName(this,y.packageName))}if(!g&&b&&a===d.main&&r.pkg.hasDirectoriesLib(d))return y.version=d.version,y.packageName=d.name,y.modulePath=r.pkg.main(d),n.call(this,r.moduleName.create(y),u,i,o);var S=this;if(g)return s(g);if(D){var A=D.matchedVersion(this.npmContext,d.name,d.version);if(A){var F=D.getFullDependencyMap(this,A,b);if(!(g=F[y.packageName])){var M=D.findPackageAndParents(this.npmContext,y.packageName);M&&(g=M.package)}}}if(!g){if(d.browser&&d.browser[a])return n.call(this,d.browser[a],u,i,o);var T=r.pkg.config(d);if(T&&T.map&&"string"==typeof T.map[a]){var O=T.map[a],B=T.envs&&T.envs[S.env];return B&&B.map&&"string"==typeof B.map[a]&&(O=B.map[a]),S.normalize(O,u,i,o)}return n.call(this,a,u,i,o)}return D.dep(this.npmContext,A,d,g,b).then(s)};var a=e.locate;e.locate=function(t){var i=r.moduleName.parse(t.name),n=this,s=t.metadata.parsedModuleName=i;if(t.metadata.npmPackage=r.pkg.findByNameAndVersion(this,s.packageName,s.version),i.version&&this.npm&&!n.paths[t.name]){var u=this.npm[r.moduleName.nameAndVersion(i)];if(u)return a.call(this,t).then(function(s){var a=s,h=r.path.joinURIs(e.baseURL,t.name);if(l&&(h=h.replace(/#/g,"%23")),a!==h+".js"&&a!==h)return a;var c=r.pkg.rootDir(u,r.pkg.isRoot(n,u));if(i.modulePath){var d=r.path.joinURIs(r.path.addEndingSlash(c),i.plugin?i.modulePath:r.path.addJS(i.modulePath));a=void 0!==o?r.path.joinURIs(n.baseURL,d):d}return a})}return a.call(this,t)};var u=e.fetch;e.fetch=function(e){if(e.metadata.dryRun)return u.apply(this,arguments);var i=this,n=(i.npmContext,Promise.resolve(u.apply(this,arguments)));return r.moduleName.isNpm(e.name)&&(n=n.then(null,function(n){function o(n,r){if(!n.length)throw r;var s=n.shift();if(!s.test(e))throw r;return Promise.resolve(t.call(i,e,s)).then(null,function(e){return o(n,e)})}var r=n.statusCode;return 404!==r&&0!==r?Promise.reject(n):(i.npmContext||(i.npmContext={forwardSlashMap:{}}),o([].slice.call(f),n).then(null,function(e){return Promise.reject(n)}))})),n.catch(function(t){var n=t.statusCode;if(404!==n&&0!==n||!r.moduleName.isBareIdentifier(e.name)||r.pkg.isRoot(i,e.metadata.npmPackage))throw t;var o=new Error(["Could not load '"+e.name+"'","Is this an npm module not saved in your package.json?"].join("\n"));throw o.statusCode=t.statusCode,o})};var h=function(e,t){var i=r.pkg.findByName(e,t.split("/")[0]);if(i){var n=r.moduleName.parse(t,i.name);return n.version=i.version,n.modulePath||(n.modulePath=r.pkg.main(i)),r.moduleName.create(n)}return t},c={map:function(e){var t,i={};for(var n in e)t=e[n],i[h(this,n)]="object"==typeof t?c.map(t):h(this,t);return i},meta:function(e){var t={};for(var i in e)t[h(this,i)]=e[i];return t},paths:function(e){var t={};for(var i in e)t[h(this,i)]=e[i];return t}},d=e.config;e.config=function(e){var t=this;if(t.npmContext){var i=t.npmContext,n=i.versions.__default,o=i.convert.steal(i,n,e,!0);return i.convert.updateConfigOnPackageLoad(o,!1,!0,i.applyBuildConfig),void d.apply(t,arguments)}for(var r in e)c[r]&&(e[r]=c[r].call(t,e[r]));d.apply(t,arguments)};var p=e._newLoader||Function.prototype;e._newLoader=function(e){return e.npmContext=this.npmContext,e.npmParentMap=this.npmParentMap,p.apply(this,arguments)},o.addNpmPackages=function(e){for(var t=e||[],i=this.loader,n=0;n<t.length;n+=1){var o=t[n],r=o&&o.fileUrl;r&&(i.npmContext.paths[r]=o)}},o.getNpmPackages=function(){var e=this.loader.npmContext;return e?e.packages||[]:[]};var f=[{name:function(e,t){if(e.npmContext.forwardSlashMap[t.name]){var i=t.name.split("/");return i.pop(),i.concat(["index"]).join("/")}return t.name+"/index"},test:function(){return!0}},{name:".json",test:function(e){return r.moduleName.isNpm(e.name)&&"package.js"===r.path.basename(e.address)}}]}}(0,e,t)}),define("npm-load",[],function(){return{}}),define("semver",[],function(){return{}}),define("npm-crawl",[],function(){return{}}),define("npm-convert",[],function(){return{}}),define("npm",[],function(){return{}}),define("package.json!npm",["@loader","npm-extension","module"],function(e,t,i){t.addExtension(e),e.main||(e.main="viewmodel-sandbox@1.0.0#app"),e._npmExtensions=[].slice.call(arguments,2),function(e,t,n){var o=e.global;o.process||(o.process={argv:[],cwd:function(){return e.baseURL},browser:!0,env:{NODE_ENV:e.env},version:"",platform:navigator&&navigator.userAgent&&/Windows/.test(navigator.userAgent)?"win":""}),e.npm||(e.npm={},e.npmPaths={},e.globalBrowser={}),e.npmParentMap||(e.npmParentMap=n.npmParentMap||{});var r=e.npmPaths.__default=t[0],s=r.steal||r.system,a=(s&&s.directories&&s.directories.lib,function(t,i){for(var n in t)e.globalBrowser[n]={pkg:i,moduleName:t[n]}}),u=function(t,i){e.npm[t]||(e.npm[t]=i),e.npm[t+"@"+i.version]=i},l=function(e,t){for(var i=0,n=e.length;i<n&&(res=t.call(e,e[i],i),!1!==res);i++);},h=["bundle","configDependencies","transpiler","treeShaking"];t.reverse(),l(t,function(t){var i=t.steal||t.system;if(i){var n=i.main;delete i.main;var o=i.configDependencies;t!==r&&l(h,function(e){delete i[e]}),e.config(i),t===r&&(i.configDependencies=o),i.main=n}t.globalBrowser&&("steal"===t.name&&!1===s.builtins||a(t.globalBrowser,t));var c=i&&i.name;c?u(c,t):u(t.name,t),e.npm[t.name]||(e.npm[t.name]=t),e.npm[t.name+"@"+t.version]=t;var d=t.fileUrl.replace(/\/package\.json.*/,"");e.npmPaths[d]=t}),e.liveReloadInstalled&&e.import("live-reload",{name:i.id}).then(function(t){t.dispose(function(){var t=e.npmContext.pkgInfo;delete t[r.name+"@"+r.version];var i=-1;l(t,function(e,t){if(e.name===r.name&&e.version===r.version)return i=t,!1}),t.splice(i,1)})}),l(e._npmExtensions||[],function(t){t.systemConfig&&e.config(t.systemConfig)})}(e,[{name:"viewmodel-sandbox",version:"1.0.0",fileUrl:"./package.json",main:"app.js",steal:{plugins:["steal-less","steal-css"],meta:{"codemirror@5.42.0#lib/codemirror":{deps:["codemirror/lib/codemirror.css"]},"vis@4.21.0#dist/vis":{deps:["vis/dist/vis.css"]}},npmAlgorithm:"flat"},resolutions:{"viewmodel-sandbox":"1.0.0","steal-less":"1.3.4",can:"5.17.0",esprima:"3.1.3",escodegen:"1.11.0",vis:"4.21.0",codemirror:"5.42.0"},system:{plugins:["steal-less","steal-css"],meta:{"codemirror@5.42.0#lib/codemirror":{deps:["codemirror/lib/codemirror.css"]},"vis@4.21.0#dist/vis":{deps:["vis/dist/vis.css"]}},npmAlgorithm:"flat"}},{name:"steal-less",version:"1.3.4",fileUrl:"./node_modules/steal-less/package.json",main:"less.js",steal:{plugins:["steal-css"],envs:{build:{map:{"steal-less/less-engine":"steal-less/less-engine-node"}},"server-development":{map:{"steal-less/less-engine":"steal-less/less-engine-node"}},"server-production":{map:{"steal-less/less-engine":"steal-less/less-engine-node"}},"bundle-build":{map:{"steal-less/less-engine":"steal-less/less-engine-node"},meta:{"steal-less/less":{useLocalDeps:!0}}}},ext:{less:"steal-less"},meta:{}},resolutions:{}},{name:"steal-css",version:"1.3.2",fileUrl:"./node_modules/steal-css/package.json",main:"css.js",steal:{ext:{css:"steal-css"},map:{$css:"steal-css@1.3.2#css"}},resolutions:{}},{name:"steal",version:"2.1.8",fileUrl:"./node_modules/steal/package.json",main:"main",steal:{npmDependencies:{"console-browserify":!0,"constants-browserify":!0,"crypto-browserify":!0,"http-browserify":!0,buffer:!0,"os-browserify":!0,"vm-browserify":!0,"zlib-browserify":!0,assert:!0,"domain-browser":!0,events:!0,"https-browserify":!0,"path-browserify":!0,string_decoder:!0,"tty-browserify":!0,process:!0,punycode:!0}},globalBrowser:{console:"console-browserify",constants:"constants-browserify",crypto:"crypto-browserify",http:"http-browserify",buffer:"buffer",os:"os-browserify",vm:"vm-browserify",zlib:"zlib-browserify",assert:"assert",child_process:"steal#ext/builtin/child_process",cluster:"steal#ext/builtin/cluster",dgram:"steal#ext/builtin/dgram",dns:"steal#ext/builtin/dns",domain:"domain-browser",events:"events",fs:"steal#ext/builtin/fs",https:"https-browserify",module:"steal#ext/builtin/module",net:"steal#ext/builtin/net",path:"path-browserify",process:"process",querystring:"steal#ext/builtin/querystring",readline:"steal#ext/builtin/readline",repl:"steal#ext/builtin/repl",stream:"steal#ext/builtin/stream",string_decoder:"string_decoder",sys:"steal#ext/builtin/sys",timers:"steal#ext/builtin/timers",tls:"steal#ext/builtin/tls",tty:"tty-browserify",url:"steal#ext/builtin/url",util:"steal#ext/builtin/util",_stream_readable:"steal#ext/builtin/_stream_readable",_stream_writable:"steal#ext/builtin/_stream_writable",_stream_duplex:"steal#ext/builtin/_stream_duplex",_stream_transform:"steal#ext/builtin/_stream_transform",_stream_passthrough:"steal#ext/builtin/_stream_passthrough"},resolutions:{}},{name:"assert",version:"1.4.1",fileUrl:"./node_modules/assert/package.json",main:"./assert.js",resolutions:{}},{name:"buffer",version:"5.0.8",fileUrl:"./node_modules/buffer/package.json",main:"index.js",jspm:{},resolutions:{}},{name:"console-browserify",version:"1.1.0",fileUrl:"./node_modules/console-browserify/package.json",main:"index",resolutions:{}},{name:"constants-browserify",version:"1.0.0",fileUrl:"./node_modules/constants-browserify/package.json",main:"constants.json",resolutions:{}},{name:"crypto-browserify",version:"3.11.1",fileUrl:"./node_modules/crypto-browserify/package.json",browser:{crypto:"@empty"},resolutions:{}},{name:"domain-browser",version:"1.1.7",fileUrl:"./node_modules/domain-browser/package.json",main:"./index.js",jspm:{},resolutions:{}},{name:"events",version:"1.1.1",fileUrl:"./node_modules/events/package.json",main:"./events.js",resolutions:{}},{name:"http-browserify",version:"1.7.0",fileUrl:"./node_modules/http-browserify/package.json",main:"index.js",browser:"index.js",resolutions:{}},{name:"https-browserify",version:"1.0.0",fileUrl:"./node_modules/https-browserify/package.json",main:"index.js",resolutions:{}},{name:"os-browserify",version:"0.3.0",fileUrl:"./node_modules/os-browserify/package.json",main:"main.js",browser:"browser.js",jspm:{},resolutions:{}},{name:"path-browserify",version:"0.0.1",fileUrl:"./node_modules/path-browserify/package.json",main:"index.js",resolutions:{}},{name:"process",version:"0.11.10",fileUrl:"./node_modules/process/package.json",main:"./index.js",browser:"./browser.js",resolutions:{}},{name:"punycode",version:"2.0.1",fileUrl:"./node_modules/punycode/package.json",main:"punycode.js",jspm:{},resolutions:{}},{name:"string_decoder",version:"1.0.3",fileUrl:"./node_modules/string_decoder/package.json",main:"lib/string_decoder.js",resolutions:{}},{name:"tty-browserify",version:"0.0.1",fileUrl:"./node_modules/tty-browserify/package.json",main:"index.js",resolutions:{}},{name:"vm-browserify",version:"0.0.4",fileUrl:"./node_modules/vm-browserify/package.json",main:"index.js",resolutions:{}},{name:"zlib-browserify",version:"0.0.3",fileUrl:"./node_modules/zlib-browserify/package.json",main:"index.js",resolutions:{}},{name:"can",version:"5.17.0",fileUrl:"./node_modules/can/package.json",main:"can.js",steal:{npmAlgorithm:"flat",npmIgnore:{"bit-docs":!0,testee:!0,async:!0,saucelabs:!0,"test-saucelabs":!0,wd:!0,"http-server":!0},meta:{"socket.io-client/dist/socket.io":{format:"cjs"}},main:"can"},resolutions:{can:"5.17.0","can-component":"4.4.9","can-debug":"2.0.1","can-key":"1.2.0","can-reflect":"1.17.7"}},{name:"esprima",version:"3.1.3",fileUrl:"./node_modules/esprima/package.json",main:"dist/esprima.js",resolutions:{}},{name:"escodegen",version:"1.11.0",fileUrl:"./node_modules/escodegen/package.json",main:"escodegen.js",resolutions:{escodegen:"1.11.0",estraverse:"4.2.0",esutils:"2.0.2","source-map":"0.6.1"}},{name:"vis",version:"4.21.0",fileUrl:"./node_modules/vis/package.json",main:"./dist/vis.js",resolutions:{}},{name:"codemirror",version:"5.42.0",fileUrl:"./node_modules/codemirror/package.json",main:"lib/codemirror.js",jspm:{},resolutions:{codemirror:"5.42.0"}},{name:"can-component",version:"4.4.9",fileUrl:"./node_modules/can-component/package.json",main:"can-component",steal:{},resolutions:{"can-component":"4.4.9","can-reflect":"1.17.7","can-namespace":"1.0.0","can-bind":"1.1.1","can-construct":"3.5.3","can-stache":"4.15.8","can-stache-bindings":"4.6.4","can-view-scope":"4.11.1","can-view-callbacks":"4.3.1","can-view-nodelist":"4.3.2","can-stache-key":"1.4.0","can-simple-observable":"2.4.1","can-simple-map":"4.3.0","can-define":"2.7.1","can-log":"1.0.0","can-assign":"1.3.1","can-observation-recorder":"1.2.0","can-view-model":"4.0.1","can-dom-data-state":"1.0.5","can-child-nodes":"1.2.0","can-string":"1.0.0","can-dom-events":"1.3.3","can-dom-mutate":"1.3.5","can-symbol":"1.6.1","can-globals":"1.2.0","can-control":"4.4.1"}},{name:"can-debug",version:"2.0.1",fileUrl:"./node_modules/can-debug/package.json",main:"can-debug",steal:{npmIgnore:{testee:!0,"steal-tools":!0},main:"can-debug"},resolutions:{"can-debug":"2.0.1","can-reflect":"1.17.7","can-symbol":"1.6.1","can-queues":"1.2.1","can-diff":"1.4.2","can-namespace":"1.0.0","can-globals":"1.2.0","can-reflect-dependencies":"1.1.1"}},{name:"can-key",version:"1.2.0",fileUrl:"./node_modules/can-key/package.json",main:"can-key",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},plugins:["steal-less","steal-stache"],main:"can-key"},resolutions:{"can-key":"1.2.0","can-namespace":"1.0.0","can-reflect":"1.17.7","can-symbol":"1.6.1"}},{name:"can-reflect",version:"1.17.7",fileUrl:"./node_modules/can-reflect/package.json",main:"can-reflect",resolutions:{"can-reflect":"1.17.7","can-namespace":"1.0.0","can-symbol":"1.6.1"}},{name:"can-namespace",version:"1.0.0",fileUrl:"./node_modules/can-namespace/package.json",main:"can-namespace",steal:{npmAlgorithm:"flat"},resolutions:{}},{name:"can-bind",version:"1.1.1",fileUrl:"./node_modules/can-bind/package.json",main:"can-bind",steal:{npmIgnore:{"steal-tools":!0,testee:!0},main:"can-bind"},resolutions:{"can-reflect":"1.17.7","can-symbol":"1.6.1","can-namespace":"1.0.0","can-queues":"1.2.1","can-assign":"1.3.1","can-log":"1.0.0","can-reflect-dependencies":"1.1.1"}},{name:"can-construct",version:"3.5.3",fileUrl:"./node_modules/can-construct/package.json",main:"can-construct",steal:{},resolutions:{"can-reflect":"1.17.7","can-log":"1.0.0","can-namespace":"1.0.0","can-string":"1.0.0"}},{name:"can-stache",version:"4.15.8",fileUrl:"./node_modules/can-stache/package.json",main:"can-stache",resolutions:{"can-view-callbacks":"4.3.1","can-stache":"4.15.8","can-log":"1.0.0","can-namespace":"1.0.0","can-globals":"1.2.0","can-assign":"1.3.1","can-reflect":"1.17.7","can-view-scope":"4.11.1","can-observation-recorder":"1.2.0","can-symbol":"1.6.1","can-view-nodelist":"4.3.2","can-view-parser":"4.1.2","can-stache-ast":"1.1.0","can-attribute-encoder":"1.1.1","can-import-module":"1.2.0","can-view-target":"4.1.1","can-dom-mutate":"1.3.5","can-observation":"4.1.1","can-stache-key":"1.4.0","can-stache-helpers":"1.2.0","can-dom-data-state":"1.0.5","can-fragment":"1.3.0","can-define-lazy-value":"1.1.0","can-view-live":"4.2.7","can-simple-observable":"2.4.1","can-join-uris":"1.2.0","can-dom-data":"1.0.1"}},{name:"can-stache-bindings",version:"4.6.4",fileUrl:"./node_modules/can-stache-bindings/package.json",main:"can-stache-bindings",steal:{main:"can-stache-bindings"},resolutions:{"can-bind":"1.1.1","can-stache":"4.15.8","can-view-callbacks":"4.3.1","can-view-model":"4.0.1","can-stache-key":"1.4.0","can-observation-recorder":"1.2.0","can-simple-observable":"2.4.1","can-assign":"1.3.1","can-log":"1.0.0","can-dom-mutate":"1.3.5","can-dom-data-state":"1.0.5","can-symbol":"1.6.1","can-reflect":"1.17.7","can-queues":"1.2.1","can-view-scope":"4.11.1","can-view-nodelist":"4.3.2","can-reflect-dependencies":"1.1.1","can-attribute-encoder":"1.1.1","can-attribute-observable":"1.1.6"}},{name:"can-view-scope",version:"4.11.1",fileUrl:"./node_modules/can-view-scope/package.json",main:"can-view-scope",resolutions:{"can-stache-key":"1.4.0","can-observation-recorder":"1.2.0","can-view-scope":"4.11.1","can-assign":"1.3.1","can-namespace":"1.0.0","can-reflect":"1.17.7","can-log":"1.0.0","can-simple-map":"4.3.0","can-define-lazy-value":"1.1.0","can-stache-helpers":"1.2.0","can-single-reference":"1.2.0","can-observation":"4.1.1","can-symbol":"1.6.1","can-reflect-dependencies":"1.1.1","can-event-queue":"1.1.3","can-simple-observable":"2.4.1"}},{name:"can-view-callbacks",version:"4.3.1",fileUrl:"./node_modules/can-view-callbacks/package.json",main:"can-view-callbacks",resolutions:{"can-observation-recorder":"1.2.0","can-log":"1.0.0","can-globals":"1.2.0","can-dom-mutate":"1.3.5","can-namespace":"1.0.0","can-view-nodelist":"4.3.2","can-symbol":"1.6.1","can-reflect":"1.17.7","can-fragment":"1.3.0"}},{name:"can-view-nodelist",version:"4.3.2",fileUrl:"./node_modules/can-view-nodelist/package.json",main:"can-view-nodelist",resolutions:{"can-namespace":"1.0.0","can-dom-mutate":"1.3.5"}},{name:"can-stache-key",version:"1.4.0",fileUrl:"./node_modules/can-stache-key/package.json",main:"can-stache-key",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-stache-key"},resolutions:{"can-observation-recorder":"1.2.0","can-log":"1.0.0","can-symbol":"1.6.1","can-reflect":"1.17.7","can-reflect-promise":"2.2.0"}},{name:"can-simple-observable",version:"2.4.1",fileUrl:"./node_modules/can-simple-observable/package.json",main:"can-simple-observable",steal:{npmIgnore:{testee:!0,"steal-tools":!0}},resolutions:{"can-reflect":"1.17.7","can-simple-observable":"2.4.1","can-namespace":"1.0.0","can-symbol":"1.6.1","can-observation-recorder":"1.2.0","can-observation":"4.1.1","can-event-queue":"1.1.3","can-queues":"1.2.1","can-log":"1.0.0"}},{name:"can-simple-map",version:"4.3.0",fileUrl:"./node_modules/can-simple-map/package.json",main:"can-simple-map",steal:{npmIgnore:{documentjs:!0,testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-simple-map"},resolutions:{"can-construct":"3.5.3","can-queues":"1.2.1","can-observation-recorder":"1.2.0","can-reflect":"1.17.7","can-log":"1.0.0","can-symbol":"1.6.1","can-event-queue":"1.1.3"}},{name:"can-define",version:"2.7.1",fileUrl:"./node_modules/can-define/package.json",main:"can-define.js",resolutions:{"can-construct":"3.5.3","can-define":"2.7.1","can-observation-recorder":"1.2.0","can-namespace":"1.0.0","can-log":"1.0.0","can-reflect":"1.17.7","can-symbol":"1.6.1","can-queues":"1.2.1","can-assign":"1.3.1","can-diff":"1.4.2","can-event-queue":"1.1.3","can-single-reference":"1.2.0","can-observation":"4.1.1","can-simple-observable":"2.4.1","can-define-lazy-value":"1.1.0","can-string-to-any":"1.2.0","can-data-types":"1.2.0"}},{name:"can-log",version:"1.0.0",fileUrl:"./node_modules/can-log/package.json",main:"dist/cjs/can-log",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-log"},resolutions:{"can-log":"1.0.0"}},{name:"can-assign",version:"1.3.1",fileUrl:"./node_modules/can-assign/package.json",main:"dist/cjs/can-assign",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-assign"},resolutions:{"can-namespace":"1.0.0"}},{name:"can-observation-recorder",version:"1.2.0",fileUrl:"./node_modules/can-observation-recorder/package.json",main:"./can-observation-recorder.js",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0}},resolutions:{"can-namespace":"1.0.0","can-symbol":"1.6.1"}},{name:"can-view-model",version:"4.0.1",fileUrl:"./node_modules/can-view-model/package.json",main:"can-view-model",resolutions:{"can-simple-map":"4.3.0","can-namespace":"1.0.0","can-globals":"1.2.0","can-reflect":"1.17.7","can-symbol":"1.6.1"}},{name:"can-dom-data-state",version:"1.0.5",fileUrl:"./node_modules/can-dom-data-state/package.json",main:"can-dom-data-state.js",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-dom-data-state"},resolutions:{"can-namespace":"1.0.0","can-dom-mutate":"1.3.5","can-cid":"1.3.0"}},{name:"can-child-nodes",version:"1.2.0",fileUrl:"./node_modules/can-child-nodes/package.json",main:"can-child-nodes",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0}},resolutions:{"can-namespace":"1.0.0"}},{name:"can-string",version:"1.0.0",fileUrl:"./node_modules/can-string/package.json",main:"can-string",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},plugins:["steal-less","steal-stache"]},resolutions:{}},{name:"can-dom-events",version:"1.3.3",fileUrl:"./node_modules/can-dom-events/package.json",main:"can-dom-events",resolutions:{"can-namespace":"1.0.0","can-dom-events":"1.3.3","can-globals":"1.2.0","can-reflect":"1.17.7","can-key-tree":"1.2.0"}},{name:"can-dom-mutate",version:"1.3.5",fileUrl:"./node_modules/can-dom-mutate/package.json",main:"can-dom-mutate",steal:{main:"can-dom-mutate"},resolutions:{"can-globals":"1.2.0","can-namespace":"1.0.0","can-dom-mutate":"1.3.5","can-reflect":"1.17.7"}},{name:"can-symbol",version:"1.6.1",fileUrl:"./node_modules/can-symbol/package.json",main:"can-symbol",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-symbol"},resolutions:{"can-namespace":"1.0.0"}},{name:"can-globals",version:"1.2.0",fileUrl:"./node_modules/can-globals/package.json",main:"can-globals.js",resolutions:{"can-globals":"1.2.0","can-namespace":"1.0.0","can-reflect":"1.17.7"}},{name:"can-queues",version:"1.2.1",fileUrl:"./node_modules/can-queues/package.json",main:"./can-queues.js",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-queues"},resolutions:{"can-log":"1.0.0","can-queues":"1.2.1","can-namespace":"1.0.0","can-assign":"1.3.1"}},{name:"can-diff",version:"1.4.2",fileUrl:"./node_modules/can-diff/package.json",main:"can-diff",steal:{main:"can-diff"},resolutions:{"can-reflect":"1.17.7","can-diff":"1.4.2"}},{name:"estraverse",version:"4.2.0",fileUrl:"./node_modules/estraverse/package.json",main:"estraverse.js",resolutions:{estraverse:"4.2.0"}},{name:"esutils",version:"2.0.2",fileUrl:"./node_modules/esutils/package.json",main:"lib/utils.js",resolutions:{esutils:"2.0.2"}},{name:"source-map",version:"0.6.1",fileUrl:"./node_modules/source-map/package.json",main:"./source-map.js",resolutions:{"source-map":"0.6.1"}},{name:"can-control",version:"4.4.1",fileUrl:"./node_modules/can-control/package.json",main:"can-control",resolutions:{"can-construct":"3.5.3","can-namespace":"1.0.0","can-assign":"1.3.1","can-stache-key":"1.4.0","can-reflect":"1.17.7","can-observation":"4.1.1","can-event-queue":"1.1.3","can-log":"1.0.0","can-string":"1.0.0","can-key":"1.2.0","can-dom-mutate":"1.3.5","can-symbol":"1.6.1"}},{name:"can-observation",version:"4.1.1",fileUrl:"./node_modules/can-observation/package.json",main:"can-observation",steal:{npmAlgorithm:"flat"},resolutions:{"can-namespace":"1.0.0","can-reflect":"1.17.7","can-queues":"1.2.1","can-observation-recorder":"1.2.0","can-symbol":"1.6.1","can-log":"1.0.0","can-event-queue":"1.1.3","can-observation":"4.1.1"}},{name:"can-event-queue",version:"1.1.3",fileUrl:"./node_modules/can-event-queue/package.json",main:"./can-event-queue.js",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},plugins:["steal-less","steal-stache"]},resolutions:{"can-reflect":"1.17.7","can-symbol":"1.6.1","can-queues":"1.2.1","can-key-tree":"1.2.0","can-define-lazy-value":"1.1.0","can-event-queue":"1.1.3","can-log":"1.0.0","can-dom-events":"1.3.3"}},{name:"can-cid",version:"1.3.0",fileUrl:"./node_modules/can-cid/package.json",main:"can-cid",resolutions:{"can-namespace":"1.0.0"}},{name:"can-fragment",version:"1.3.0",fileUrl:"./node_modules/can-fragment/package.json",main:"can-fragment",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0}},resolutions:{"can-globals":"1.2.0","can-namespace":"1.0.0","can-reflect":"1.17.7","can-child-nodes":"1.2.0","can-symbol":"1.6.1"}},{name:"can-reflect-promise",version:"2.2.0",fileUrl:"./node_modules/can-reflect-promise/package.json",main:"can-reflect-promise",steal:{npmAlgorithm:"flat"},resolutions:{"can-reflect":"1.17.7","can-symbol":"1.6.1","can-observation-recorder":"1.2.0","can-queues":"1.2.1","can-key-tree":"1.2.0","can-log":"1.0.0"}},{name:"can-reflect-dependencies",version:"1.1.1",fileUrl:"./node_modules/can-reflect-dependencies/package.json",main:"can-reflect-dependencies.js",resolutions:{"can-reflect-dependencies":"1.1.1","can-reflect":"1.17.7","can-symbol":"1.6.1","can-assign":"1.3.1"}},{name:"can-view-parser",version:"4.1.2",fileUrl:"./node_modules/can-view-parser/package.json",main:"can-view-parser",resolutions:{"can-namespace":"1.0.0","can-log":"1.0.0","can-attribute-encoder":"1.1.1"}},{name:"can-stache-ast",version:"1.1.0",fileUrl:"./node_modules/can-stache-ast/package.json",main:"can-stache-ast.js",resolutions:{"can-stache-ast":"1.1.0","can-view-parser":"4.1.2"}},{name:"can-attribute-encoder",version:"1.1.1",fileUrl:"./node_modules/can-attribute-encoder/package.json",main:"can-attribute-encoder",steal:{npmIgnore:{testee:!0,"steal-tools":!0},main:"can-attribute-encoder"},resolutions:{"can-namespace":"1.0.0","can-log":"1.0.0"}},{name:"can-import-module",version:"1.2.0",fileUrl:"./node_modules/can-import-module/package.json",main:"can-import-module.js",resolutions:{"can-globals":"1.2.0","can-namespace":"1.0.0"}},{name:"can-view-target",version:"4.1.1",fileUrl:"./node_modules/can-view-target/package.json",main:"can-view-target",resolutions:{"can-globals":"1.2.0","can-dom-mutate":"1.3.5","can-namespace":"1.0.0"}},{name:"can-single-reference",version:"1.2.0",fileUrl:"./node_modules/can-single-reference/package.json",main:"can-single-reference",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0}},resolutions:{"can-cid":"1.3.0"}},{name:"can-attribute-observable",version:"1.1.6",fileUrl:"./node_modules/can-attribute-observable/package.json",main:"can-attribute-observable",resolutions:{"can-queues":"1.2.1","can-attribute-observable":"1.1.6","can-reflect":"1.17.7","can-observation":"4.1.1","can-reflect-dependencies":"1.1.1","can-observation-recorder":"1.2.0","can-simple-observable":"2.4.1","can-assign":"1.3.1","can-dom-events":"1.3.3","can-event-dom-radiochange":"2.2.0","can-globals":"1.2.0","can-dom-data-state":"1.0.5","can-dom-mutate":"1.3.5","can-diff":"1.4.2"}},{name:"can-define-lazy-value",version:"1.1.0",fileUrl:"./node_modules/can-define-lazy-value/package.json",main:"define-lazy-value",steal:{npmIgnore:{testee:!0,"steal-tools":!0}},resolutions:{}},{name:"can-stache-helpers",version:"1.2.0",fileUrl:"./node_modules/can-stache-helpers/package.json",main:"can-stache-helpers",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0}},resolutions:{"can-namespace":"1.0.0"}},{name:"can-key-tree",version:"1.2.0",fileUrl:"./node_modules/can-key-tree/package.json",main:"dist/cjs/can-key-tree",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},plugins:["steal-less","steal-stache"],main:"can-key-tree"},resolutions:{"can-reflect":"1.17.7"}},{name:"can-view-live",version:"4.2.7",fileUrl:"./node_modules/can-view-live/package.json",main:"can-view-live",steal:{npmIgnore:{documentjs:!0,testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-view-live"},resolutions:{"can-view-live":"4.2.7","can-view-parser":"4.1.2","can-dom-mutate":"1.3.5","can-view-nodelist":"4.3.2","can-fragment":"1.3.0","can-child-nodes":"1.2.0","can-reflect":"1.17.7","can-reflect-dependencies":"1.1.1","can-queues":"1.2.1","can-attribute-observable":"1.1.6","can-view-callbacks":"4.3.1","can-symbol":"1.6.1","can-simple-observable":"2.4.1","can-diff":"1.4.2"}},{name:"can-join-uris",version:"1.2.0",fileUrl:"./node_modules/can-join-uris/package.json",main:"can-join-uris",steal:{},resolutions:{"can-namespace":"1.0.0","can-parse-uri":"1.2.0"}},{name:"can-dom-data",version:"1.0.1",fileUrl:"./node_modules/can-dom-data/package.json",main:"can-dom-data.js",steal:{npmIgnore:{"steal-tools":!0,testee:!0},main:"can-dom-data"},resolutions:{"can-namespace":"1.0.0"}},{name:"can-event-dom-radiochange",version:"2.2.0",fileUrl:"./node_modules/can-event-dom-radiochange/package.json",main:"can-event-dom-radiochange",steal:{npmIgnore:{testee:!0,"steal-tools":!0},main:"can-event-dom-radiochange"},resolutions:{"can-globals":"1.2.0","can-namespace":"1.0.0"}},{name:"can-string-to-any",version:"1.2.0",fileUrl:"./node_modules/can-string-to-any/package.json",main:"can-string-to-any",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-string-to-any"},resolutions:{}},{name:"can-data-types",version:"1.2.0",fileUrl:"./node_modules/can-data-types/package.json",main:"can-data-types",steal:{npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0},main:"can-data-types"},resolutions:{"can-reflect":"1.17.7"}},{name:"can-parse-uri",version:"1.2.0",fileUrl:"./node_modules/can-parse-uri/package.json",main:"can-parse-uri",steal:{main:"can-parse-uri",configDependencies:["live-reload"],npmIgnore:{testee:!0,"generator-donejs":!0,"donejs-cli":!0,"steal-tools":!0}},resolutions:{}}],{npmParentMap:{}})}),define("steal-css@1.3.2#css",["require","exports","module","@loader","@steal"],function(e,t,i){!function(e,t,i,n){function o(){return r()&&!!Function("/*@cc_on return (/^9/.test(@_jscript_version) && /MSIE 9.0(?!.*IEMobile)/i.test(navigator.userAgent)); @*/")()}function r(){if("undefined"!=typeof doneSsr&&doneSsr.globalDocument)return doneSsr.globalDocument;if("undefined"!=typeof document)return document;throw new Error("Unable to load CSS in an environment without a document.")}function s(){var e=r(),t=e.head||e.getElementsByTagName("head")[0];if(!t){var i=e.documentElement||e;t=e.createElement("head"),i.insertBefore(t,i.firstChild)}return t}function a(e,t){"object"==typeof e?(this.load=e,this.loader=t,this.address=this.load.address,this.source=this.load.source):(this.address=e,this.source=t)}var u=t("@loader"),l=t("@steal"),h="object"==typeof process&&"[object process]"==={}.toString.call(process),c=/@import [^uU]['"]?([^'"\)]*)['"]?/g,d=/url\(['"]?([^'"\)]*)['"]?\)/g,p=u.cssOptions&&u.cssOptions.timeout?parseInt(u.cssOptions.timeout,10):60,f=function(e,t){for(var i=r().styleSheets,n=i.length;n--;)if(i[n].href===e.href)return t();setTimeout(function(){f(e,t)})};a.cssCount=0,a.ie9MaxStyleSheets=31,a.currentStyleSheet=null,a.prototype={injectLink:function(){if(this._loaded)return this._loaded;if(this.linkExists())return this._loaded=Promise.resolve(""),this._loaded;var e=r(),t=this.link=e.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=this.address,this._loaded=new Promise(function(e,i){var n=setTimeout(function(){i("Unable to load CSS")},1e3*p),o=function(r){clearTimeout(n),t.removeEventListener("load",o),t.removeEventListener("error",o),r&&"error"===r.type?i("Unable to load CSS"):e("")};"isApplicationInstalled"in navigator||!t.addEventListener?f(t,o):navigator.noUI?o():(t.addEventListener("load",o),t.addEventListener("error",o)),s().appendChild(t)}),this._loaded},injectStyle:function(){var e=r(),t=s(),i=this.style=e.createElement("style");i.type="text/css",i.sheet?i.sheet.cssText=this.source:i.styleSheet?i.styleSheet.cssText=this.source:i.appendChild(e.createTextNode(this.source)),t.appendChild(i)},ie9StyleSheetLimitHack:function(){var e=r();a.cssCount||(a.currentStyleSheet=e.createStyleSheet()),a.cssCount+=1,a.currentStyleSheet.cssText+=this.source,a.cssCount===a.ie9MaxStyleSheets&&(a.cssCount=0)},updateURLs:function(){var e=this.source,t=this.address;return this.source=e.replace(c,function(e,i){return h?"@import url("+i+")":"@import url("+l.joinURIs(t,i)+")"}),u.isEnv("build")||(this.source=this.source+"/*# sourceURL="+t+" */",this.source=this.source.replace(d,function(e,i){return"url("+l.joinURIs(t,i)+")"})),this.source},getExistingNode:function(){var e=r(),t="[href='"+this.address+"']";return e.querySelector&&e.querySelector(t)},linkExists:function(){for(var e=r().styleSheets,t=0;t<e.length;++t)if(this.address===e[t].href)return!0;return!1},setupLiveReload:function(e,t){var i=s(),o=this;if(e.liveReloadInstalled){var r=e.import("live-reload",{name:n.id});Promise.resolve(r).then(function(n){e.import(t).then(function(){n.once("!dispose/"+t,function(){o.style.__isDirty=!0,n.once("!cycleComplete",function(){i.removeChild(o.style)})})})})}}},u.isEnv("production")?i.fetch=function(e){return new a(e.address).injectLink()}:i.instantiate=function(e){var t=this,i=new a(e.address,e.source);e.source=i.updateURLs(),e.metadata.deps=[],e.metadata.format="css",e.metadata.execute=function(){return r()&&(o()?i.ie9StyleSheetLimitHack():i.injectStyle(),i.setupLiveReload(t,e.name)),t.newModule({source:i.source})}},i.CSSModule=a,i.getDocument=r,i.getHead=s,i.locateScheme=!0,i.buildType="css",i.includeInBuild=!0,i.pluginBuilder="steal-css/slim"}(0,e,t,i)}),define("@node-require/steal-less@1.3.4#less-engine-node",[],function(){return{}}),define("steal-less@1.3.4#less-engine-node",[],function(){return{}}),define("steal-less@1.3.4#less",[],function(){return{}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("codemirror@5.42.0#lib/codemirror",t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function i(e,i){return t(e).appendChild(i)}function n(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var r=0;r<t.length;++r)o.appendChild(t[r]);return o}function o(e,t,i,o){var r=n(e,t,i,o);return r.setAttribute("role","presentation"),r}function r(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function s(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function a(t,i){var n=t.className;e(i).test(n)||(t.className+=(n?" ":"")+i)}function u(t,i){for(var n=t.split(" "),o=0;o<n.length;o++)n[o]&&!e(n[o]).test(i)&&(i+=" "+n[o]);return i}function l(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function h(e,t,i){t||(t={});for(var n in e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function c(e,t,i,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var r=n||0,s=o||0;;){var a=e.indexOf("\t",r);if(a<0||a>=t)return s+(t-r);s+=a-r,s+=i-s%i,r=a+1}}function d(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function p(e,t,i){for(var n=0,o=0;;){var r=e.indexOf("\t",n);-1==r&&(r=e.length);var s=r-n;if(r==e.length||o+s>=t)return n+Math.min(s,t-o);if(o+=r-n,o+=i-o%i,n=r+1,o>=t)return n}}function f(e){for(;Ks.length<=e;)Ks.push(m(Ks)+" ");return Ks[e]}function m(e){return e[e.length-1]}function g(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function v(e,t,i){for(var n=0,o=i(t);n<e.length&&i(e[n])<=o;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var i;return Object.create?i=Object.create(e):(y.prototype=e,i=new y),t&&h(t,i),i}function x(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Gs.test(e))}function w(e,t){return t?!!(t.source.indexOf("\\w")>-1&&x(e))||t.test(e):x(e)}function D(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function C(e){return e.charCodeAt(0)>=768&&Ys.test(e)}function k(e,t,i){for(;(i<0?t>0:t<e.length)&&C(e.charAt(t));)t+=i;return t}function _(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var o=(t+i)/2,r=n<0?Math.ceil(o):Math.floor(o);if(r==t)return e(r)?t:i;e(r)?i=r:t=r+n}}function E(e,t,i){var r=this;this.input=i,r.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=o("div",null,"CodeMirror-code"),r.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=n("div",null,"CodeMirror-cursors"),r.measure=n("div",null,"CodeMirror-measure"),r.lineMeasure=n("div",null,"CodeMirror-measure"),r.lineSpace=o("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var s=o("div",[r.lineSpace],"CodeMirror-lines");r.mover=n("div",[s],null,"position: relative"),r.sizer=n("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=n("div",null,null,"position: absolute; height: "+Vs+"px; width: 1px;"),r.gutters=n("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=n("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=n("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),vs&&ys<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),bs||ps&&As||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,i.init(r)}function S(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var o=i.children[n],r=o.chunkSize();if(t<r){i=o;break}t-=r}return i.lines[t]}function A(e,t,i){var n=[],o=t.line;return e.iter(t.line,i.line+1,function(e){var r=e.text;o==i.line&&(r=r.slice(0,i.ch)),o==t.line&&(r=r.slice(t.ch)),n.push(r),++o}),n}function F(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function M(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function T(e){if(null==e.parent)return null;for(var t=e.parent,i=d(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function O(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],r=o.height;if(t<r){e=o;continue e}t-=r,i+=o.chunkSize()}return i}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return i+s}function B(e,t){return t>=e.first&&t<e.first+e.size}function L(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function P(e,t,i){if(void 0===i&&(i=null),!(this instanceof P))return new P(e,t,i);this.line=e,this.ch=t,this.sticky=i}function N(e,t){return e.line-t.line||e.ch-t.ch}function I(e,t){return e.sticky==t.sticky&&0==N(e,t)}function R(e){return P(e.line,e.ch)}function z(e,t){return N(e,t)<0?t:e}function j(e,t){return N(e,t)<0?e:t}function V(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function H(e,t){if(t.line<e.first)return P(e.first,0);var i=e.first+e.size-1;return t.line>i?P(i,S(e,i).text.length):W(t,S(e,t.line).text.length)}function W(e,t){var i=e.ch;return null==i||i>t?P(e.line,t):i<0?P(e.line,0):e}function U(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=H(e,t[n]);return i}function q(){Xs=!0}function K(){Js=!0}function G(e,t,i){this.marker=e,this.from=t,this.to=i}function Y(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function X(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function J(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Z(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var r=e[o],s=r.marker;if(null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t)||r.from==t&&"bookmark"==s.type&&(!i||!r.marker.insertLeft)){var a=null==r.to||(s.inclusiveRight?r.to>=t:r.to>t);(n||(n=[])).push(new G(s,r.from,a?null:r.to))}}return n}function $(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var r=e[o],s=r.marker;if(null==r.to||(s.inclusiveRight?r.to>=t:r.to>t)||r.from==t&&"bookmark"==s.type&&(!i||r.marker.insertLeft)){var a=null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t);(n||(n=[])).push(new G(s,a?null:r.from-t,null==r.to?null:r.to-t))}}return n}function Q(e,t){if(t.full)return null;var i=B(e,t.from.line)&&S(e,t.from.line).markedSpans,n=B(e,t.to.line)&&S(e,t.to.line).markedSpans;if(!i&&!n)return null;var o=t.from.ch,r=t.to.ch,s=0==N(t.from,t.to),a=Z(i,o,s),u=$(n,r,s),l=1==t.text.length,h=m(t.text).length+(l?o:0);if(a)for(var c=0;c<a.length;++c){var d=a[c];if(null==d.to){var p=Y(u,d.marker);p?l&&(d.to=null==p.to?null:p.to+h):d.to=o}}if(u)for(var f=0;f<u.length;++f){var g=u[f];null!=g.to&&(g.to+=h),null==g.from?Y(a,g.marker)||(g.from=h,l&&(a||(a=[])).push(g)):(g.from+=h,l&&(a||(a=[])).push(g))}a&&(a=ee(a)),u&&u!=a&&(u=ee(u));var v=[a];if(!l){var y,b=t.text.length-2;if(b>0&&a)for(var x=0;x<a.length;++x)null==a[x].to&&(y||(y=[])).push(new G(a[x].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(u)}return v}function ee(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function te(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=d(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var o=[{from:t,to:i}],r=0;r<n.length;++r)for(var s=n[r],a=s.find(0),u=0;u<o.length;++u){var l=o[u];if(!(N(l.to,a.from)<0||N(l.from,a.to)>0)){var h=[u,1],c=N(l.from,a.from),p=N(l.to,a.to);(c<0||!s.inclusiveLeft&&!c)&&h.push({from:l.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&h.push({from:a.to,to:l.to}),o.splice.apply(o,h),u+=h.length-3}}return o}function ie(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function ne(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function oe(e){return e.inclusiveLeft?-1:0}function re(e){return e.inclusiveRight?1:0}function se(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),o=t.find(),r=N(n.from,o.from)||oe(e)-oe(t);return r?-r:N(n.to,o.to)||re(e)-re(t)||t.id-e.id}function ae(e,t){var i,n=Js&&e.markedSpans;if(n)for(var o=void 0,r=0;r<n.length;++r)(o=n[r]).marker.collapsed&&null==(t?o.from:o.to)&&(!i||se(i,o.marker)<0)&&(i=o.marker);return i}function ue(e){return ae(e,!0)}function le(e){return ae(e,!1)}function he(e,t){var i,n=Js&&e.markedSpans;if(n)for(var o=0;o<n.length;++o){var r=n[o];r.marker.collapsed&&(null==r.from||r.from<t)&&(null==r.to||r.to>t)&&(!i||se(i,r.marker)<0)&&(i=r.marker)}return i}function ce(e,t,i,n,o){var r=S(e,t),s=Js&&r.markedSpans;if(s)for(var a=0;a<s.length;++a){var u=s[a];if(u.marker.collapsed){var l=u.marker.find(0),h=N(l.from,i)||oe(u.marker)-oe(o),c=N(l.to,n)||re(u.marker)-re(o);if(!(h>=0&&c<=0||h<=0&&c>=0)&&(h<=0&&(u.marker.inclusiveRight&&o.inclusiveLeft?N(l.to,i)>=0:N(l.to,i)>0)||h>=0&&(u.marker.inclusiveRight&&o.inclusiveLeft?N(l.from,n)<=0:N(l.from,n)<0)))return!0}}}function de(e){for(var t;t=ue(e);)e=t.find(-1,!0).line;return e}function pe(e){for(var t;t=le(e);)e=t.find(1,!0).line;return e}function fe(e){for(var t,i;t=le(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function me(e,t){var i=S(e,t),n=de(i);return i==n?t:T(n)}function ge(e,t){if(t>e.lastLine())return t;var i,n=S(e,t);if(!ve(e,n))return t;for(;i=le(n);)n=i.find(1,!0).line;return T(n)+1}function ve(e,t){var i=Js&&t.markedSpans;if(i)for(var n=void 0,o=0;o<i.length;++o)if((n=i[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ye(e,t,n))return!0}}function ye(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return ye(e,n.line,Y(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var o=void 0,r=0;r<t.markedSpans.length;++r)if((o=t.markedSpans[r]).marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&ye(e,t,o))return!0}function be(e){for(var t=0,i=(e=de(e)).parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==e)break;t+=o.height}for(var r=i.parent;r;i=r,r=i.parent)for(var s=0;s<r.children.length;++s){var a=r.children[s];if(a==i)break;t+=a.height}return t}function xe(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=ue(n);){var o=t.find(0,!0);n=o.from.line,i+=o.from.ch-o.to.ch}for(n=e;t=le(n);){var r=t.find(0,!0);i-=n.text.length-r.from.ch,i+=(n=r.to.line).text.length-r.to.ch}return i}function we(e){var t=e.display,i=e.doc;t.maxLine=S(i,i.first),t.maxLineLength=xe(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=xe(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}function De(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var o=!1,r=0;r<e.length;++r){var s=e[r];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr",r),o=!0)}o||n(t,i,"ltr")}function Ce(e,t,i){var n;Zs=null;for(var o=0;o<e.length;++o){var r=e[o];if(r.from<t&&r.to>t)return o;r.to==t&&(r.from!=r.to&&"before"==i?n=o:Zs=o),r.from==t&&(r.from!=r.to&&"before"!=i?n=o:Zs=o)}return null!=n?n:Zs}function ke(e,t){var i=e.order;return null==i&&(i=e.order=$s(e.text,t)),i}function _e(e,t){return e._handlers&&e._handlers[t]||Qs}function Ee(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,o=n&&n[t];if(o){var r=d(o,i);r>-1&&(n[t]=o.slice(0,r).concat(o.slice(r+1)))}}}function Se(e,t){var i=_e(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)}function Ae(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Se(e,i||t.type,e,t),Le(t)||t.codemirrorIgnore}function Fe(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==d(i,t[n])&&i.push(t[n])}function Me(e,t){return _e(e,t).length>0}function Te(e){e.prototype.on=function(e,t){ea(this,e,t)},e.prototype.off=function(e,t){Ee(this,e,t)}}function Oe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Be(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Le(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Pe(e){Oe(e),Be(e)}function Ne(e){return e.target||e.srcElement}function Ie(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Fs&&e.ctrlKey&&1==t&&(t=3),t}function Re(e){if(null==zs){var t=n("span","​");i(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(zs=t.offsetWidth<=1&&t.offsetHeight>2&&!(vs&&ys<8))}var o=zs?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return o.setAttribute("cm-text",""),o}function ze(e){if(null!=js)return js;var n=i(e,document.createTextNode("AخA")),o=Bs(n,0,1).getBoundingClientRect(),r=Bs(n,1,2).getBoundingClientRect();return t(e),!(!o||o.left==o.right)&&(js=r.right-o.right<3)}function je(e){if(null!=ra)return ra;var t=i(e,n("span","x")),o=t.getBoundingClientRect(),r=Bs(t,0,1).getBoundingClientRect();return ra=Math.abs(o.left-r.left)>1}function Ve(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),sa[e]=t}function He(e){if("string"==typeof e&&aa.hasOwnProperty(e))e=aa[e];else if(e&&"string"==typeof e.name&&aa.hasOwnProperty(e.name)){var t=aa[e.name];"string"==typeof t&&(t={name:t}),(e=b(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function We(e,t){t=He(t);var i=sa[t.name];if(!i)return We(e,"text/plain");var n=i(e,t);if(ua.hasOwnProperty(t.name)){var o=ua[t.name];for(var r in o)o.hasOwnProperty(r)&&(n.hasOwnProperty(r)&&(n["_"+r]=n[r]),n[r]=o[r])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)n[s]=t.modeProps[s];return n}function Ue(e,t){h(t,ua.hasOwnProperty(e)?ua[e]:ua[e]={})}function qe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i}function Ke(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function Ge(e,t,i){return!e.startState||e.startState(t,i)}function Ye(e,t,i,n){var o=[e.state.modeGen],r={};it(e,t.text,e.doc.mode,i,function(e,t){return o.push(e,t)},r,n);for(var s=i.state,a=0;a<e.state.overlays.length;++a)!function(n){i.baseTokens=o;var a=e.state.overlays[n],u=1,l=0;i.state=!0,it(e,t.text,a.mode,i,function(e,t){for(var i=u;l<e;){var n=o[u];n>e&&o.splice(u,1,e,o[u+1],n),u+=2,l=Math.min(e,n)}if(t)if(a.opaque)o.splice(i,u-i,e,"overlay "+t),u=i+2;else for(;i<u;i+=2){var r=o[i+1];o[i+1]=(r?r+" ":"")+"overlay "+t}},r),i.state=s,i.baseTokens=null,i.baseTokenPos=1}(a);return{styles:o,classes:r.bgClass||r.textClass?r:null}}function Xe(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Je(e,T(t)),o=t.text.length>e.options.maxHighlightLength&&qe(e.doc.mode,n.state),r=Ye(e,t,n);o&&(n.state=o),t.stateAfter=n.save(!o),t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Je(e,t,i){var n=e.doc,o=e.display;if(!n.mode.startState)return new ca(n,!0,t);var r=nt(e,t,i),s=r>n.first&&S(n,r-1).stateAfter,a=s?ca.fromSaved(n,s,r):new ca(n,Ge(n.mode),r);return n.iter(r,t,function(i){Ze(e,i.text,a);var n=a.line;i.stateAfter=n==t-1||n%5==0||n>=o.viewFrom&&n<o.viewTo?a.save():null,a.nextLine()}),i&&(n.modeFrontier=a.line),a}function Ze(e,t,i,n){var o=e.doc.mode,r=new la(t,e.options.tabSize,i);for(r.start=r.pos=n||0,""==t&&$e(o,i.state);!r.eol();)Qe(o,r,i.state),r.start=r.pos}function $e(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=Ke(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Qe(e,t,i,n){for(var o=0;o<10;o++){n&&(n[0]=Ke(e,i).mode);var r=e.token(t,i);if(t.pos>t.start)return r}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,i,n){var o,r,s=e.doc,a=s.mode,u=S(s,(t=H(s,t)).line),l=Je(e,t.line,i),h=new la(u.text,e.options.tabSize,l);for(n&&(r=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=Qe(a,h,l.state),n&&r.push(new da(h,o,qe(s.mode,l.state)));return n?r:new da(h,o,l.state)}function tt(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function it(e,t,i,n,o,r,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var u,l=0,h=null,c=new la(t,e.options.tabSize,n),d=e.options.addModeClass&&[null];for(""==t&&tt($e(i,n.state),r);!c.eol();){if(c.pos>e.options.maxHighlightLength?(a=!1,s&&Ze(e,t,n,c.pos),c.pos=t.length,u=null):u=tt(Qe(i,c,n.state,d),r),d){var p=d[0].name;p&&(u="m-"+(u?p+" "+u:p))}if(!a||h!=u){for(;l<c.start;)o(l=Math.min(c.start,l+5e3),h);h=u}c.start=c.pos}for(;l<c.pos;){var f=Math.min(c.pos,l+5e3);o(f,h),l=f}}function nt(e,t,i){for(var n,o,r=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=r.first)return r.first;var u=S(r,a-1),l=u.stateAfter;if(l&&(!i||a+(l instanceof ha?l.lookAhead:0)<=r.modeFrontier))return a;var h=c(u.text,null,e.options.tabSize);(null==o||n>h)&&(o=a-1,n=h)}return o}function ot(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var o=S(e,n).stateAfter;if(o&&(!(o instanceof ha)||n+o.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}function rt(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ie(e),ne(e,i);var o=n?n(e):1;o!=e.height&&M(e,o)}function st(e){e.parent=null,ie(e)}function at(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?ga:ma;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function ut(e,t){var i=o("span",null,null,bs?"padding-right: .1px":null),n={pre:o("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var s=r?t.rest[r-1]:t.line,a=void 0;n.pos=0,n.addToken=ht,ze(e.display.measure)&&(a=ke(s,e.doc.direction))&&(n.addToken=dt(n.addToken,a)),n.map=[],ft(s,n,Xe(e,s,t!=e.display.externalMeasured&&T(s))),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=u(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=u(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Re(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(bs){var l=n.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Se(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=u(n.pre.className,n.textClass||"")),n}function lt(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ht(e,t,i,o,r,s,a){if(t){var u,l=e.splitSpaces?ct(t,e.trailingSpace):t,h=e.cm.state.specialChars,c=!1;if(h.test(t)){u=document.createDocumentFragment();for(var d=0;;){h.lastIndex=d;var p=h.exec(t),m=p?p.index-d:t.length-d;if(m){var g=document.createTextNode(l.slice(d,d+m));vs&&ys<9?u.appendChild(n("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;d+=m+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=u.appendChild(n("span",f(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=u.appendChild(n("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),vs&&ys<9?u.appendChild(n("span",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,u),vs&&ys<9&&(c=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),i||o||r||c||s){var x=i||"";o&&(x+=o),r&&(x+=r);var w=n("span",[u],x,s);if(a)for(var D in a)a.hasOwnProperty(D)&&"style"!=D&&"class"!=D&&w.setAttribute(D,a[D]);return e.content.appendChild(w)}e.content.appendChild(u)}}function ct(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",o=0;o<e.length;o++){var r=e.charAt(o);" "!=r||!i||o!=e.length-1&&32!=e.charCodeAt(o+1)||(r=" "),n+=r,i=" "==r}return n}function dt(e,t){return function(i,n,o,r,s,a,u){o=o?o+" cm-force-border":"cm-force-border";for(var l=i.pos,h=l+n.length;;){for(var c=void 0,d=0;d<t.length&&!((c=t[d]).to>l&&c.from<=l);d++);if(c.to>=h)return e(i,n,o,r,s,a,u);e(i,n.slice(0,c.to-l),o,r,null,a,u),r=null,n=n.slice(c.to-l),l=c.to}}}function pt(e,t,i,n){var o=!n&&i.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",i.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function ft(e,t,i){var n=e.markedSpans,o=e.text,r=0;if(n)for(var s,a,u,l,h,c,d,p=o.length,f=0,m=1,g="",v=0;;){if(v==f){u=l=h=a="",d=null,c=null,v=1/0;for(var y=[],b=void 0,x=0;x<n.length;++x){var w=n[x],D=w.marker;if("bookmark"==D.type&&w.from==f&&D.widgetNode)y.push(D);else if(w.from<=f&&(null==w.to||w.to>f||D.collapsed&&w.to==f&&w.from==f)){if(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,l=""),D.className&&(u+=" "+D.className),D.css&&(a=(a?a+";":"")+D.css),D.startStyle&&w.from==f&&(h+=" "+D.startStyle),D.endStyle&&w.to==v&&(b||(b=[])).push(D.endStyle,w.to),D.title&&((d||(d={})).title=D.title),D.attributes)for(var C in D.attributes)(d||(d={}))[C]=D.attributes[C];D.collapsed&&(!c||se(c.marker,D)<0)&&(c=w)}else w.from>f&&v>w.from&&(v=w.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==v&&(l+=" "+b[k]);if(!c||c.from==f)for(var _=0;_<y.length;++_)pt(t,0,y[_]);if(c&&(c.from||0)==f){if(pt(t,(null==c.to?p+1:c.to)-f,c.marker,null==c.from),null==c.to)return;c.to==f&&(c=!1)}}if(f>=p)break;for(var E=Math.min(p,v);;){if(g){var S=f+g.length;if(!c){var A=S>E?g.slice(0,E-f):g;t.addToken(t,A,s?s+u:u,h,f+A.length==v?l:"",a,d)}if(S>=E){g=g.slice(E-f),f=E;break}f=S,h=""}g=o.slice(r,r=i[m++]),s=at(i[m++],t.cm.options)}}else for(var F=1;F<i.length;F+=2)t.addToken(t,o.slice(r,r=i[F]),at(i[F+1],t.cm.options))}function mt(e,t,i){this.line=t,this.rest=fe(t),this.size=this.rest?T(m(this.rest))-i+1:1,this.node=this.text=null,this.hidden=ve(e,t)}function gt(e,t,i){for(var n,o=[],r=t;r<i;r=n){var s=new mt(e.doc,S(e.doc,r),r);n=r+s.size,o.push(s)}return o}function vt(e){va?va.ops.push(e):e.ownsGroup=va={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(i<t.length)}function bt(e,t){var i=e.ownsGroup;if(i)try{yt(i)}finally{va=null,t(i)}}function xt(e,t){var i=_e(e,t);if(i.length){var n,o=Array.prototype.slice.call(arguments,2);va?n=va.delayedCallbacks:ya?n=ya:(n=ya=[],setTimeout(wt,0));for(var r=0;r<i.length;++r)!function(e){n.push(function(){return i[e].apply(null,o)})}(r)}}function wt(){var e=ya;ya=null;for(var t=0;t<e.length;++t)e[t]()}function Dt(e,t,i,n){for(var o=0;o<t.changes.length;o++){var r=t.changes[o];"text"==r?Et(e,t):"gutter"==r?At(e,t,i,n):"class"==r?St(e,t):"widget"==r&&Ft(e,t,n)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),vs&&ys<8&&(e.node.style.zIndex=2)),e.node}function kt(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var o=Ct(t);t.background=o.insertBefore(n("div",null,i),o.firstChild),e.display.input.setUneditable(t.background)}}function _t(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):ut(e,t)}function Et(e,t){var i=t.text.className,n=_t(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,St(e,t)):i&&(t.text.className=i)}function St(e,t){kt(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function At(e,t,i,o){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=Ct(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var a=Ct(t),u=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(e.display.input.setUneditable(u),a.insertBefore(u,t.text),t.line.gutterClass&&(u.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=u.appendChild(n("div",L(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var l=0;l<e.options.gutters.length;++l){var h=e.options.gutters[l],c=s.hasOwnProperty(h)&&s[h];c&&u.appendChild(n("div",[c],"CodeMirror-gutter-elt","left: "+o.gutterLeft[h]+"px; width: "+o.gutterWidth[h]+"px"))}}}function Ft(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,o=void 0;n;n=o)o=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);Tt(e,t,i)}function Mt(e,t,i,n){var o=_t(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),St(e,t),At(e,t,i,n),Tt(e,t,n),t.node}function Tt(e,t,i){if(Ot(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)Ot(e,t.rest[n],t,i,!1)}function Ot(e,t,i,o,r){if(t.widgets)for(var s=Ct(i),a=0,u=t.widgets;a<u.length;++a){var l=u[a],h=n("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),Bt(l,h,i,o),e.display.input.setUneditable(h),r&&l.above?s.insertBefore(h,i.gutter||i.text):s.appendChild(h),xt(l,"redraw")}}function Bt(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Lt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!r(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+t.display.wrapper.clientWidth+"px;"),i(t.display.measure,n("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Pt(e,t){for(var i=Ne(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Nt(e){return e.lineSpace.offsetTop}function It(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Rt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=i(e.measure,n("pre","x")),o=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(o.paddingLeft),right:parseInt(o.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function zt(e){return Vs-e.display.nativeBarWidth}function jt(e){return e.display.scroller.clientWidth-zt(e)-e.display.barWidth}function Vt(e){return e.display.scroller.clientHeight-zt(e)-e.display.barHeight}function Ht(e,t,i){var n=e.options.lineWrapping,o=n&&jt(e);if(!t.measure.heights||n&&t.measure.width!=o){var r=t.measure.heights=[];if(n){t.measure.width=o;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var u=s[a],l=s[a+1];Math.abs(u.bottom-l.bottom)>2&&r.push((u.bottom+l.top)/2-i.top)}}r.push(i.bottom-i.top)}}function Wt(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var o=0;o<e.rest.length;o++)if(T(e.rest[o])>i)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Ut(e,t){var n=T(t=de(t)),o=e.display.externalMeasured=new mt(e.doc,t,n);o.lineN=n;var r=o.built=ut(e,o);return o.text=r.pre,i(e.display.lineMeasure,r.pre),o}function qt(e,t,i,n){return Yt(e,Gt(e,t),i,n)}function Kt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[_i(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function Gt(e,t){var i=T(t),n=Kt(e,i);n&&!n.text?n=null:n&&n.changes&&(Dt(e,n,i,xi(e)),e.curOp.forceUpdate=!0),n||(n=Ut(e,t));var o=Wt(n,t,i);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Yt(e,t,i,n,o){t.before&&(i=-1);var r,s=i+(n||"");return t.cache.hasOwnProperty(s)?r=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ht(e,t.view,t.rect),t.hasHeights=!0),(r=Zt(e,t,i,n)).bogus||(t.cache[s]=r)),{left:r.left,right:r.right,top:o?r.rtop:r.top,bottom:o?r.rbottom:r.bottom}}function Xt(e,t,i){for(var n,o,r,s,a,u,l=0;l<e.length;l+=3)if(a=e[l],u=e[l+1],t<a?(o=0,r=1,s="left"):t<u?r=1+(o=t-a):(l==e.length-3||t==u&&e[l+3]>t)&&(o=(r=u-a)-1,t>=u&&(s="right")),null!=o){if(n=e[l+2],a==u&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==o)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)n=e[2+(l-=3)],s="left";if("right"==i&&o==u-a)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)n=e[(l+=3)+2],s="right";break}return{node:n,start:o,end:r,collapse:s,coverStart:a,coverEnd:u}}function Jt(e,t){var i=ba;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var o=e.length-1;o>=0&&(i=e[o]).left==i.right;o--);return i}function Zt(e,t,i,n){var o,r=Xt(t.map,i,n),s=r.node,a=r.start,u=r.end,l=r.collapse;if(3==s.nodeType){for(var h=0;h<4;h++){for(;a&&C(t.line.text.charAt(r.coverStart+a));)--a;for(;r.coverStart+u<r.coverEnd&&C(t.line.text.charAt(r.coverStart+u));)++u;if((o=vs&&ys<9&&0==a&&u==r.coverEnd-r.coverStart?s.parentNode.getBoundingClientRect():Jt(Bs(s,a,u).getClientRects(),n)).left||o.right||0==a)break;u=a,a-=1,l="right"}vs&&ys<11&&(o=$t(e.display.measure,o))}else{a>0&&(l=n="right");var c;o=e.options.lineWrapping&&(c=s.getClientRects()).length>1?c["right"==n?c.length-1:0]:s.getBoundingClientRect()}if(vs&&ys<9&&!a&&(!o||!o.left&&!o.right)){var d=s.parentNode.getClientRects()[0];o=d?{left:d.left,right:d.left+bi(e.display),top:d.top,bottom:d.bottom}:ba}for(var p=o.top-t.rect.top,f=o.bottom-t.rect.top,m=(p+f)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,b=g[v],x={left:("right"==l?o.right:o.left)-t.rect.left,right:("left"==l?o.left:o.right)-t.rect.left,top:y,bottom:b};return o.left||o.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=p,x.rbottom=f),x}function $t(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!je(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ei(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var i=0;i<e.display.view.length;i++)Qt(e.display.view[i])}function ti(e){ei(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ii(){return ws&&Ss?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ni(){return ws&&Ss?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function oi(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=Lt(e.widgets[i]));return t}function ri(e,t,i,n,o){if(!o){var r=oi(t);i.top+=r,i.bottom+=r}if("line"==n)return i;n||(n="local");var s=be(t);if("local"==n?s+=Nt(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:ni());var u=a.left+("window"==n?0:ii());i.left+=u,i.right+=u}return i.top+=s,i.bottom+=s,i}function si(e,t,i){if("div"==i)return t;var n=t.left,o=t.top;if("page"==i)n-=ii(),o-=ni();else if("local"==i||!i){var r=e.display.sizer.getBoundingClientRect();n+=r.left,o+=r.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:o-s.top}}function ai(e,t,i,n,o){return n||(n=S(e.doc,t.line)),ri(e,n,qt(e,n,t.ch,o),i)}function ui(e,t,i,n,o,r){function s(t,s){var a=Yt(e,o,t,s?"right":"left",r);return s?a.left=a.right:a.right=a.left,ri(e,n,a,i)}function a(e,t,i){var n=1==u[t].level;return s(i?e-1:e,n!=i)}n=n||S(e.doc,t.line),o||(o=Gt(e,n));var u=ke(n,e.doc.direction),l=t.ch,h=t.sticky;if(l>=n.text.length?(l=n.text.length,h="before"):l<=0&&(l=0,h="after"),!u)return s("before"==h?l-1:l,"before"==h);var c=Ce(u,l,h),d=Zs,p=a(l,c,"before"==h);return null!=d&&(p.other=a(l,d,"before"!=h)),p}function li(e,t){var i=0;t=H(e.doc,t),e.options.lineWrapping||(i=bi(e.display)*t.ch);var n=S(e.doc,t.line),o=be(n)+Nt(e.display);return{left:i,right:i,top:o,bottom:o+n.height}}function hi(e,t,i,n,o){var r=P(e,t,i);return r.xRel=o,n&&(r.outside=!0),r}function ci(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return hi(n.first,0,null,!0,-1);var o=O(n,i),r=n.first+n.size-1;if(o>r)return hi(n.first+n.size-1,S(n,r).text.length,null,!0,1);t<0&&(t=0);for(var s=S(n,o);;){var a=mi(e,s,o,t,i),u=he(s,a.ch+(a.xRel>0?1:0));if(!u)return a;var l=u.find(1);if(l.line==o)return l;s=S(n,o=l.line)}}function di(e,t,i,n){n-=oi(t);var o=t.text.length,r=_(function(t){return Yt(e,i,t-1).bottom<=n},o,0);return o=_(function(t){return Yt(e,i,t).top>n},r,o),{begin:r,end:o}}function pi(e,t,i,n){return i||(i=Gt(e,t)),di(e,t,i,ri(e,t,Yt(e,i,n),"line").top)}function fi(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function mi(e,t,i,n,o){o-=be(t);var r=Gt(e,t),s=oi(t),a=0,u=t.text.length,l=!0,h=ke(t,e.doc.direction);if(h){var c=(e.options.lineWrapping?vi:gi)(e,t,i,r,h,n,o);a=(l=1!=c.level)?c.from:c.to-1,u=l?c.to:c.from-1}var d,p,f=null,m=null,g=_(function(t){var i=Yt(e,r,t);return i.top+=s,i.bottom+=s,!!fi(i,n,o,!1)&&(i.top<=o&&i.left<=n&&(f=t,m=i),!0)},a,u),v=!1;if(m){var y=n-m.left<m.right-n,b=y==l;g=f+(b?0:1),p=b?"after":"before",d=y?m.left:m.right}else{l||g!=u&&g!=a||g++,p=0==g?"after":g==t.text.length?"before":Yt(e,r,g-(l?1:0)).bottom+s<=o==l?"after":"before";var x=ui(e,P(i,g,p),"line",t,r);d=x.left,v=o<x.top||o>=x.bottom}return g=k(t.text,g,1),hi(i,g,p,v,n-d)}function gi(e,t,i,n,o,r,s){var a=_(function(a){var u=o[a],l=1!=u.level;return fi(ui(e,P(i,l?u.to:u.from,l?"before":"after"),"line",t,n),r,s,!0)},0,o.length-1),u=o[a];if(a>0){var l=1!=u.level,h=ui(e,P(i,l?u.from:u.to,l?"after":"before"),"line",t,n);fi(h,r,s,!0)&&h.top>s&&(u=o[a-1])}return u}function vi(e,t,i,n,o,r,s){var a=di(e,t,n,s),u=a.begin,l=a.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var h=null,c=null,d=0;d<o.length;d++){var p=o[d];if(!(p.from>=l||p.to<=u)){var f=Yt(e,n,1!=p.level?Math.min(l,p.to)-1:Math.max(u,p.from)).right,m=f<r?r-f+1e9:f-r;(!h||c>m)&&(h=p,c=m)}}return h||(h=o[o.length-1]),h.from<u&&(h={from:u,to:h.to,level:h.level}),h.to>l&&(h={from:h.from,to:l,level:h.level}),h}function yi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==fa){fa=n("pre");for(var o=0;o<49;++o)fa.appendChild(document.createTextNode("x")),fa.appendChild(n("br"));fa.appendChild(document.createTextNode("x"))}i(e.measure,fa);var r=fa.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),t(e.measure),r||1}function bi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),o=n("pre",[t]);i(e.measure,o);var r=t.getBoundingClientRect(),s=(r.right-r.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function xi(e){for(var t=e.display,i={},n={},o=t.gutters.clientLeft,r=t.gutters.firstChild,s=0;r;r=r.nextSibling,++s)i[e.options.gutters[s]]=r.offsetLeft+r.clientLeft+o,n[e.options.gutters[s]]=r.clientWidth;return{fixedPos:wi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function wi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Di(e){var t=yi(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/bi(e.display)-3);return function(o){if(ve(e.doc,o))return 0;var r=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(r+=o.widgets[s].height);return i?r+(Math.ceil(o.text.length/n)||1)*t:r+t}}function Ci(e){var t=e.doc,i=Di(e);t.iter(function(e){var t=i(e);t!=e.height&&M(e,t)})}function ki(e,t,i,n){var o=e.display;if(!i&&"true"==Ne(t).getAttribute("cm-not-content"))return null;var r,s,a=o.lineSpace.getBoundingClientRect();try{r=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var u,l=ci(e,r,s);if(n&&1==l.xRel&&(u=S(e.doc,l.line).text).length==l.ch){var h=c(u,u.length,e.options.tabSize)-u.length;l=P(l.line,Math.max(0,Math.round((r-Rt(e.display).left)/bi(e.display))-h))}return l}function _i(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function Ei(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Si(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},o=n.cursors=document.createDocumentFragment(),r=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var u=a.empty();(u||e.options.showCursorWhenSelecting)&&Ai(e,a.head,o),u||Mi(e,a,r)}}return n}function Ai(e,t,i){var o=ui(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=i.appendChild(n("div"," ","CodeMirror-cursor"));if(r.style.left=o.left+"px",r.style.top=o.top+"px",r.style.height=Math.max(0,o.bottom-o.top)*e.options.cursorHeight+"px",o.other){var s=i.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=o.other.left+"px",s.style.top=o.other.top+"px",s.style.height=.85*(o.other.bottom-o.other.top)+"px"}}function Fi(e,t){return e.top-t.top||e.left-t.left}function Mi(e,t,i){function o(e,t,i,o){t<0&&(t=0),t=Math.round(t),o=Math.round(o),u.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?c-e:i)+"px;\n                             height: "+(o-t)+"px"))}function r(t,i,n){function r(i,n){return ai(e,P(t,i),"div",p,n)}function s(t,i,n){var o=pi(e,p,null,t),s="ltr"==i==("after"==n)?"left":"right";return r("after"==n?o.begin:o.end-(/\s/.test(p.text.charAt(o.end-1))?2:1),s)[s]}var u,l,p=S(a,t),f=p.text.length,m=ke(p,a.direction);return De(m,i||0,null==n?f:n,function(e,t,a,p){var g="ltr"==a,v=r(e,g?"left":"right"),y=r(t-1,g?"right":"left"),b=null==i&&0==e,x=null==n&&t==f,w=0==p,D=!m||p==m.length-1;if(y.top-v.top<=3){var C=(d?b:x)&&w,k=(d?x:b)&&D,_=C?h:(g?v:y).left,E=k?c:(g?y:v).right;o(_,v.top,E-_,v.bottom)}else{var S,A,F,M;g?(S=d&&b&&w?h:v.left,A=d?c:s(e,a,"before"),F=d?h:s(t,a,"after"),M=d&&x&&D?c:y.right):(S=d?s(e,a,"before"):h,A=!d&&b&&w?c:v.right,F=!d&&x&&D?h:y.left,M=d?s(t,a,"after"):c),o(S,v.top,A-S,v.bottom),v.bottom<y.top&&o(h,v.bottom,null,y.top),o(F,y.top,M-F,y.bottom)}(!u||Fi(v,u)<0)&&(u=v),Fi(y,u)<0&&(u=y),(!l||Fi(v,l)<0)&&(l=v),Fi(y,l)<0&&(l=y)}),{start:u,end:l}}var s=e.display,a=e.doc,u=document.createDocumentFragment(),l=Rt(e.display),h=l.left,c=Math.max(s.sizerWidth,jt(e)-s.sizer.offsetLeft)-l.right,d="ltr"==a.direction,p=t.from(),f=t.to();if(p.line==f.line)r(p.line,p.ch,f.ch);else{var m=S(a,p.line),g=S(a,f.line),v=de(m)==de(g),y=r(p.line,p.ch,v?m.text.length+1:null).end,b=r(f.line,v?0:null,f.ch).start;v&&(y.top<b.top-2?(o(y.right,y.top,null,y.bottom),o(h,b.top,b.left,b.bottom)):o(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&o(h,y.bottom,null,b.top)}i.appendChild(u)}function Ti(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Oi(e){e.state.focused||(e.display.input.focus(),Li(e))}function Bi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Pi(e))},100)}function Li(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Se(e,"focus",e,t),e.state.focused=!0,a(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),bs&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ti(e))}function Pi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Se(e,"blur",e,t),e.state.focused=!1,Ns(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ni(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var o=t.view[n],r=e.options.lineWrapping,s=void 0,a=0;if(!o.hidden){if(vs&&ys<8){var u=o.node.offsetTop+o.node.offsetHeight;s=u-i,i=u}else{var l=o.node.getBoundingClientRect();s=l.bottom-l.top,!r&&o.text.firstChild&&(a=o.text.firstChild.getBoundingClientRect().right-l.left-1)}var h=o.line.height-s;if(s<2&&(s=yi(t)),(h>.005||h<-.005)&&(M(o.line,s),Ii(o.line),o.rest))for(var c=0;c<o.rest.length;c++)Ii(o.rest[c]);if(a>e.display.sizerWidth){var d=Math.ceil(a/bi(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function Ii(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function Ri(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Nt(e));var o=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,r=O(t,n),s=O(t,o);if(i&&i.ensure){var a=i.ensure.from.line,u=i.ensure.to.line;a<r?(r=a,s=O(t,be(S(t,a))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=s&&(r=O(t,be(S(t,u))-e.wrapper.clientHeight),s=u)}return{from:r,to:Math.max(s,r+1)}}function zi(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=wi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,r=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=r),i[s].gutterBackground&&(i[s].gutterBackground.style.left=r));var a=i[s].alignable;if(a)for(var u=0;u<a.length;u++)a[u].style.left=r}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function ji(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=L(e.options,t.first+t.size-1),o=e.display;if(i.length!=o.lineNumChars){var r=o.measure.appendChild(n("div",[n("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,a=r.offsetWidth-s;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(s,o.lineGutter.offsetWidth-a)+1,o.lineNumWidth=o.lineNumInnerWidth+a,o.lineNumChars=o.lineNumInnerWidth?i.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",On(e),!0}return!1}function Vi(e,t){if(!Ae(e,"scrollCursorIntoView")){var i=e.display,o=i.sizer.getBoundingClientRect(),r=null;if(t.top+o.top<0?r=!0:t.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!_s){var s=n("div","​",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-Nt(e.display))+"px;\n                         height: "+(t.bottom-t.top+zt(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(r),e.display.lineSpace.removeChild(s)}}}function Hi(e,t,i,n){null==n&&(n=0);var o;e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?P(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?P(t.line,t.ch+1,"before"):t);for(var r=0;r<5;r++){var s=!1,a=ui(e,t),u=i&&i!=t?ui(e,i):a,l=Ui(e,o={left:Math.min(a.left,u.left),top:Math.min(a.top,u.top)-n,right:Math.max(a.left,u.left),bottom:Math.max(a.bottom,u.bottom)+n}),h=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(Zi(e,l.scrollTop),Math.abs(e.doc.scrollTop-h)>1&&(s=!0)),null!=l.scrollLeft&&(Qi(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(s=!0)),!s)break}return o}function Wi(e,t){var i=Ui(e,t);null!=i.scrollTop&&Zi(e,i.scrollTop),null!=i.scrollLeft&&Qi(e,i.scrollLeft)}function Ui(e,t){var i=e.display,n=yi(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,r=Vt(e),s={};t.bottom-t.top>r&&(t.bottom=t.top+r);var a=e.doc.height+It(i),u=t.top<n,l=t.bottom>a-n;if(t.top<o)s.scrollTop=u?0:t.top;else if(t.bottom>o+r){var h=Math.min(t.top,(l?a:t.bottom)-r);h!=o&&(s.scrollTop=h)}var c=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,d=jt(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),p=t.right-t.left>d;return p&&(t.right=t.left+d),t.left<10?s.scrollLeft=0:t.left<c?s.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>d+c-3&&(s.scrollLeft=t.right+(p?0:10)-d),s}function qi(e,t){null!=t&&(Xi(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ki(e){Xi(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Gi(e,t,i){null==t&&null==i||Xi(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function Yi(e,t){Xi(e),e.curOp.scrollToPos=t}function Xi(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Ji(e,li(e,t.from),li(e,t.to),t.margin))}function Ji(e,t,i,n){var o=Ui(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});Gi(e,o.scrollLeft,o.scrollTop)}function Zi(e,t){Math.abs(e.doc.scrollTop-t)<2||(ps||Mn(e,{top:t}),$i(e,t,!0),ps&&Mn(e),Cn(e,100))}function $i(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Qi(e,t,i,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,zi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function en(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+It(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+zt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function tn(e,t){t||(t=en(e));var i=e.display.barWidth,n=e.display.barHeight;nn(e,t);for(var o=0;o<4&&i!=e.display.barWidth||n!=e.display.barHeight;o++)i!=e.display.barWidth&&e.options.lineWrapping&&Ni(e),nn(e,en(e)),i=e.display.barWidth,n=e.display.barHeight}function nn(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function on(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ns(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Da[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ea(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?Qi(e,t):Zi(e,t)},e),e.display.scrollbars.addClass&&a(e.display.wrapper,e.display.scrollbars.addClass)}function rn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ca},vt(e.curOp)}function sn(e){var t=e.curOp;t&&bt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;an(e)})}function an(e){for(var t=e.ops,i=0;i<t.length;i++)un(t[i]);for(var n=0;n<t.length;n++)ln(t[n]);for(var o=0;o<t.length;o++)hn(t[o]);for(var r=0;r<t.length;r++)cn(t[r]);for(var s=0;s<t.length;s++)dn(t[s])}function un(e){var t=e.cm,i=t.display;_n(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ka(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ln(e){e.updatedDisplay=e.mustUpdate&&An(e.cm,e.update)}function hn(e){var t=e.cm,i=t.display;e.updatedDisplay&&Ni(t),e.barMeasure=en(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=qt(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+zt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-jt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function cn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Qi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==s();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&tn(t,e.barMeasure),e.updatedDisplay&&Bn(t,e.barMeasure),e.selectionChanged&&Ti(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&Oi(e.cm)}function dn(e){var t=e.cm,i=t.display,n=t.doc;e.updatedDisplay&&Fn(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&$i(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Qi(t,e.scrollLeft,!0,!0),e.scrollToPos&&Vi(t,Hi(t,H(n,e.scrollToPos.from),H(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,r=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Se(o[s],"hide");if(r)for(var a=0;a<r.length;++a)r[a].lines.length&&Se(r[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Se(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function pn(e,t){if(e.curOp)return t();rn(e);try{return t()}finally{sn(e)}}function fn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);rn(e);try{return t.apply(e,arguments)}finally{sn(e)}}}function mn(e){return function(){if(this.curOp)return e.apply(this,arguments);rn(this);try{return e.apply(this,arguments)}finally{sn(this)}}}function gn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);rn(t);try{return e.apply(this,arguments)}finally{sn(t)}}}function vn(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var o=e.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Js&&me(e.doc,t)<o.viewTo&&bn(e);else if(i<=o.viewFrom)Js&&ge(e.doc,i+n)>o.viewFrom?bn(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&i>=o.viewTo)bn(e);else if(t<=o.viewFrom){var r=xn(e,i,i+n,1);r?(o.view=o.view.slice(r.index),o.viewFrom=r.lineN,o.viewTo+=n):bn(e)}else if(i>=o.viewTo){var s=xn(e,t,t,-1);s?(o.view=o.view.slice(0,s.index),o.viewTo=s.lineN):bn(e)}else{var a=xn(e,t,t,-1),u=xn(e,i,i+n,1);a&&u?(o.view=o.view.slice(0,a.index).concat(gt(e,a.lineN,u.lineN)).concat(o.view.slice(u.index)),o.viewTo+=n):bn(e)}var l=o.externalMeasured;l&&(i<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(o.externalMeasured=null))}function yn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var r=n.view[_i(e,t)];if(null!=r.node){var s=r.changes||(r.changes=[]);-1==d(s,i)&&s.push(i)}}}function bn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function xn(e,t,i,n){var o,r=_i(e,t),s=e.display.view;if(!Js||i==e.doc.first+e.doc.size)return{index:r,lineN:i};for(var a=e.display.viewFrom,u=0;u<r;u++)a+=s[u].size;if(a!=t){if(n>0){if(r==s.length-1)return null;o=a+s[r].size-t,r++}else o=a-t;t+=o,i+=o}for(;me(e.doc,i)!=i;){if(r==(n<0?0:s.length-1))return null;i+=n*s[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function wn(e,t,i){var n=e.display;0==n.view.length||t>=n.viewTo||i<=n.viewFrom?(n.view=gt(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=gt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(_i(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(gt(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,_i(e,i)))),n.viewTo=i}function Dn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++i}return i}function Cn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,l(kn,e))}function kn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=Je(e,t.highlightFrontier),o=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(r){if(n.line>=e.display.viewFrom){var s=r.styles,a=r.text.length>e.options.maxHighlightLength?qe(t.mode,n.state):null,u=Ye(e,r,n,!0);a&&(n.state=a),r.styles=u.styles;var l=r.styleClasses,h=u.classes;h?r.styleClasses=h:l&&(r.styleClasses=null);for(var c=!s||s.length!=r.styles.length||l!=h&&(!l||!h||l.bgClass!=h.bgClass||l.textClass!=h.textClass),d=0;!c&&d<s.length;++d)c=s[d]!=r.styles[d];c&&o.push(n.line),r.stateAfter=n.save(),n.nextLine()}else r.text.length<=e.options.maxHighlightLength&&Ze(e,r.text,n),r.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Cn(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),o.length&&pn(e,function(){for(var t=0;t<o.length;t++)yn(e,o[t],"text")})}}function _n(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=zt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=zt(e)+"px",t.scrollbarsClipped=!0)}function En(e){if(e.hasFocus())return null;var t=s();if(!t||!r(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&r(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Sn(e){if(e&&e.activeElt&&e.activeElt!=s()&&(e.activeElt.focus(),e.anchorNode&&r(document.body,e.anchorNode)&&r(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}function An(e,i){var n=e.display,o=e.doc;if(i.editorIsHidden)return bn(e),!1;if(!i.force&&i.visible.from>=n.viewFrom&&i.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Dn(e))return!1;ji(e)&&(bn(e),i.dims=xi(e));var r=o.first+o.size,s=Math.max(i.visible.from-e.options.viewportMargin,o.first),a=Math.min(r,i.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(o.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),Js&&(s=me(e.doc,s),a=ge(e.doc,a));var u=s!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=i.wrapperHeight||n.lastWrapWidth!=i.wrapperWidth;wn(e,s,a),n.viewOffset=be(S(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Dn(e);if(!u&&0==l&&!i.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var h=En(e);return l>4&&(n.lineDiv.style.display="none"),Tn(e,n.updateLineNumbers,i.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Sn(h),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,u&&(n.lastWrapHeight=i.wrapperHeight,n.lastWrapWidth=i.wrapperWidth,Cn(e,400)),n.updateLineNumbers=null,!0}function Fn(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=jt(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+It(e.display)-Vt(e),i.top)}),t.visible=Ri(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&An(e,t);n=!1){Ni(e);var o=en(e);Ei(e),tn(e,o),Bn(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Mn(e,t){var i=new ka(e,t);if(An(e,i)){Ni(e),Fn(e,i);var n=en(e);Ei(e),tn(e,n),Bn(e,n),i.finish()}}function Tn(e,i,n){function o(t){var i=t.nextSibling;return bs&&Fs&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var r=e.display,s=e.options.lineNumbers,a=r.lineDiv,u=a.firstChild,l=r.view,h=r.viewFrom,c=0;c<l.length;c++){var p=l[c];if(p.hidden);else if(p.node&&p.node.parentNode==a){for(;u!=p.node;)u=o(u);var f=s&&null!=i&&i<=h&&p.lineNumber;p.changes&&(d(p.changes,"gutter")>-1&&(f=!1),Dt(e,p,h,n)),f&&(t(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(L(e.options,h)))),u=p.node.nextSibling}else{var m=Mt(e,p,h,n);a.insertBefore(m,u)}h+=p.size}for(;u;)u=o(u)}function On(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Bn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+zt(e)+"px"}function Ln(e){var i=e.display.gutters,o=e.options.gutters;t(i);for(var r=0;r<o.length;++r){var s=o[r],a=i.appendChild(n("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}i.style.display=r?"":"none",On(e)}function Pn(e){var t=d(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Nn(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function In(e){var t=Nn(e);return t.x*=Ea,t.y*=Ea,t}function Rn(e,t){var i=Nn(t),n=i.x,o=i.y,r=e.display,s=r.scroller,a=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(n&&a||o&&u){if(o&&Fs&&bs)e:for(var l=t.target,h=r.view;l!=s;l=l.parentNode)for(var c=0;c<h.length;c++)if(h[c].node==l){e.display.currentWheelTarget=l;break e}if(n&&!ps&&!Ds&&null!=Ea)return o&&u&&Zi(e,Math.max(0,s.scrollTop+o*Ea)),Qi(e,Math.max(0,s.scrollLeft+n*Ea)),(!o||o&&u)&&Oe(t),void(r.wheelStartX=null);if(o&&null!=Ea){var d=o*Ea,p=e.doc.scrollTop,f=p+r.wrapper.clientHeight;d<0?p=Math.max(0,p+d-50):f=Math.min(e.doc.height,f+d+50),Mn(e,{top:p,bottom:f})}_a<20&&(null==r.wheelStartX?(r.wheelStartX=s.scrollLeft,r.wheelStartY=s.scrollTop,r.wheelDX=n,r.wheelDY=o,setTimeout(function(){if(null!=r.wheelStartX){var e=s.scrollLeft-r.wheelStartX,t=s.scrollTop-r.wheelStartY,i=t&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,i&&(Ea=(Ea*_a+i)/(_a+1),++_a)}},200)):(r.wheelDX+=n,r.wheelDY+=o))}}function zn(e,t,i){var n=e&&e.options.selectionsMayTouch,o=t[i];t.sort(function(e,t){return N(e.from(),t.from())}),i=d(t,o);for(var r=1;r<t.length;r++){var s=t[r],a=t[r-1],u=N(a.to(),s.from());if(n&&!s.empty()?u>0:u>=0){var l=j(a.from(),s.from()),h=z(a.to(),s.to()),c=a.empty()?s.from()==s.head:a.from()==a.head;r<=i&&--i,t.splice(--r,2,new Aa(c?h:l,c?l:h))}}return new Sa(t,i)}function jn(e,t){return new Sa([new Aa(e,t||e)],0)}function Vn(e){return e.text?P(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Hn(e,t){if(N(e,t.from)<0)return e;if(N(e,t.to)<=0)return Vn(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Vn(t).ch-t.to.ch),P(i,n)}function Wn(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];i.push(new Aa(Hn(o.anchor,t),Hn(o.head,t)))}return zn(e.cm,i,e.sel.primIndex)}function Un(e,t,i){return e.line==t.line?P(i.line,e.ch-t.ch+i.ch):P(i.line+(e.line-t.line),e.ch)}function qn(e,t,i){for(var n=[],o=P(e.first,0),r=o,s=0;s<t.length;s++){var a=t[s],u=Un(a.from,o,r),l=Un(Vn(a),o,r);if(o=a.to,r=l,"around"==i){var h=e.sel.ranges[s],c=N(h.head,h.anchor)<0;n[s]=new Aa(c?l:u,c?u:l)}else n[s]=new Aa(u,u)}return new Sa(n,e.sel.primIndex)}function Kn(e){e.doc.mode=We(e.options,e.doc.modeOption),Gn(e)}function Gn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Cn(e,100),e.state.modeGen++,e.curOp&&vn(e)}function Yn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Xn(e,t,i,n){function o(e){return i?i[e]:null}function r(e,i,o){rt(e,i,o,n),xt(e,"change",e,t)}function s(e,t){for(var i=[],r=e;r<t;++r)i.push(new pa(l[r],o(r),n));return i}var a=t.from,u=t.to,l=t.text,h=S(e,a.line),c=S(e,u.line),d=m(l),p=o(l.length-1),f=u.line-a.line;if(t.full)e.insert(0,s(0,l.length)),e.remove(l.length,e.size-l.length);else if(Yn(e,t)){var g=s(0,l.length-1);r(c,c.text,p),f&&e.remove(a.line,f),g.length&&e.insert(a.line,g)}else if(h==c)if(1==l.length)r(h,h.text.slice(0,a.ch)+d+h.text.slice(u.ch),p);else{var v=s(1,l.length-1);v.push(new pa(d+h.text.slice(u.ch),p,n)),r(h,h.text.slice(0,a.ch)+l[0],o(0)),e.insert(a.line+1,v)}else if(1==l.length)r(h,h.text.slice(0,a.ch)+l[0]+c.text.slice(u.ch),o(0)),e.remove(a.line+1,f);else{r(h,h.text.slice(0,a.ch)+l[0],o(0)),r(c,d+c.text.slice(u.ch),p);var y=s(1,l.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,y)}xt(e,"change",e,t)}function Jn(e,t,i){function n(e,o,r){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=o){var u=r&&a.sharedHist;i&&!u||(t(a.doc,u),n(a.doc,e,u))}}}n(e,null,!0)}function Zn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ci(e),Kn(e),$n(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,vn(e)}function $n(e){("rtl"==e.doc.direction?a:Ns)(e.display.lineDiv,"CodeMirror-rtl")}function Qn(e){pn(e,function(){$n(e),vn(e)})}function eo(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function to(e,t){var i={from:R(t.from),to:Vn(t),text:A(e,t.from,t.to)};return uo(e,i,t.from.line,t.to.line+1),Jn(e,function(e){return uo(e,i,t.from.line,t.to.line+1)},!0),i}function io(e){for(;e.length&&m(e).ranges;)e.pop()}function no(e,t){return t?(io(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function oo(e,t,i,n){var o=e.history;o.undone.length=0;var r,s,a=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(r=no(o,o.lastOp==n)))s=m(r.changes),0==N(t.from,t.to)&&0==N(t.from,s.to)?s.to=Vn(t):r.changes.push(to(e,t));else{var u=m(o.done);for(u&&u.ranges||ao(e.sel,o.done),r={changes:[to(e,t)],generation:o.generation},o.done.push(r);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=a,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,s||Se(e,"historyAdded")}function ro(e,t,i,n){var o=t.charAt(0);return"*"==o||"+"==o&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function so(e,t,i,n){var o=e.history,r=n&&n.origin;i==o.lastSelOp||r&&o.lastSelOrigin==r&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==r||ro(e,r,m(o.done),t))?o.done[o.done.length-1]=t:ao(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=r,o.lastSelOp=i,n&&!1!==n.clearRedo&&io(o.undone)}function ao(e,t){var i=m(t);i&&i.ranges&&i.equals(e)||t.push(e)}function uo(e,t,i,n){var o=t["spans_"+e.id],r=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((o||(o=t["spans_"+e.id]={}))[r]=i.markedSpans),++r})}function lo(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function ho(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],o=0;o<t.text.length;++o)n.push(lo(i[o]));return n}function co(e,t){var i=ho(e,t),n=Q(e,t);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var r=i[o],s=n[o];if(r&&s)e:for(var a=0;a<s.length;++a){for(var u=s[a],l=0;l<r.length;++l)if(r[l].marker==u.marker)continue e;r.push(u)}else s&&(i[o]=s)}return i}function po(e,t,i){for(var n=[],o=0;o<e.length;++o){var r=e[o];if(r.ranges)n.push(i?Sa.prototype.deepCopy.call(r):r);else{var s=r.changes,a=[];n.push({changes:a});for(var u=0;u<s.length;++u){var l=s[u],h=void 0;if(a.push({from:l.from,to:l.to,text:l.text}),t)for(var c in l)(h=c.match(/^spans_(\d+)$/))&&d(t,Number(h[1]))>-1&&(m(a)[c]=l[c],delete l[c])}}}return n}function fo(e,t,i,n){if(n){var o=e.anchor;if(i){var r=N(t,o)<0;r!=N(i,o)<0?(o=t,t=i):r!=N(t,i)<0&&(t=i)}return new Aa(o,t)}return new Aa(i||t,t)}function mo(e,t,i,n,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),wo(e,new Sa([fo(e.sel.primary(),t,i,o)],0),n)}function go(e,t,i){for(var n=[],o=e.cm&&(e.cm.display.shift||e.extend),r=0;r<e.sel.ranges.length;r++)n[r]=fo(e.sel.ranges[r],t[r],null,o);wo(e,zn(e.cm,n,e.sel.primIndex),i)}function vo(e,t,i,n){var o=e.sel.ranges.slice(0);o[t]=i,wo(e,zn(e.cm,o,e.sel.primIndex),n)}function yo(e,t,i,n){wo(e,jn(t,i),n)}function bo(e,t,i){var n={ranges:t.ranges,update:function(t){var i=this;this.ranges=[];for(var n=0;n<t.length;n++)i.ranges[n]=new Aa(H(e,t[n].anchor),H(e,t[n].head))},origin:i&&i.origin};return Se(e,"beforeSelectionChange",e,n),e.cm&&Se(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?zn(e.cm,n.ranges,n.ranges.length-1):t}function xo(e,t,i){var n=e.history.done,o=m(n);o&&o.ranges?(n[n.length-1]=t,Do(e,t,i)):wo(e,t,i)}function wo(e,t,i){Do(e,t,i),so(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Do(e,t,i){(Me(e,"beforeSelectionChange")||e.cm&&Me(e.cm,"beforeSelectionChange"))&&(t=bo(e,t,i)),Co(e,_o(e,t,i&&i.bias||(N(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||Ki(e.cm)}function Co(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Fe(e.cm)),xt(e,"cursorActivity",e))}function ko(e){Co(e,_o(e,e.sel,null,!1))}function _o(e,t,i,n){for(var o,r=0;r<t.ranges.length;r++){var s=t.ranges[r],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[r],u=So(e,s.anchor,a&&a.anchor,i,n),l=So(e,s.head,a&&a.head,i,n);(o||u!=s.anchor||l!=s.head)&&(o||(o=t.ranges.slice(0,r)),o[r]=new Aa(u,l))}return o?zn(e.cm,o,t.primIndex):t}function Eo(e,t,i,n,o){var r=S(e,t.line);if(r.markedSpans)for(var s=0;s<r.markedSpans.length;++s){var a=r.markedSpans[s],u=a.marker;if((null==a.from||(u.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(o&&(Se(u,"beforeCursorEnter"),u.explicitlyCleared)){if(r.markedSpans){--s;continue}break}if(!u.atomic)continue;if(i){var l=u.find(n<0?1:-1),h=void 0;if((n<0?u.inclusiveRight:u.inclusiveLeft)&&(l=Ao(e,l,-n,l&&l.line==t.line?r:null)),l&&l.line==t.line&&(h=N(l,i))&&(n<0?h<0:h>0))return Eo(e,l,t,n,o)}var c=u.find(n<0?-1:1);return(n<0?u.inclusiveLeft:u.inclusiveRight)&&(c=Ao(e,c,n,c.line==t.line?r:null)),c?Eo(e,c,t,n,o):null}}return t}function So(e,t,i,n,o){var r=n||1;return Eo(e,t,i,r,o)||!o&&Eo(e,t,i,r,!0)||Eo(e,t,i,-r,o)||!o&&Eo(e,t,i,-r,!0)||(e.cantEdit=!0,P(e.first,0))}function Ao(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?H(e,P(t.line-1)):null:i>0&&t.ch==(n||S(e,t.line)).text.length?t.line<e.first+e.size-1?P(t.line+1,0):null:new P(t.line,t.ch+i)}function Fo(e){e.setSelection(P(e.firstLine(),0),P(e.lastLine()),Ws)}function Mo(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,o,r){t&&(n.from=H(e,t)),i&&(n.to=H(e,i)),o&&(n.text=o),void 0!==r&&(n.origin=r)}),Se(e,"beforeChange",e,n),e.cm&&Se(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function To(e,t,i){if(e.cm){if(!e.cm.curOp)return fn(e.cm,To)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Me(e,"beforeChange")||e.cm&&Me(e.cm,"beforeChange"))||(t=Mo(e,t,!0))){var n=Xs&&!i&&te(e,t.from,t.to);if(n)for(var o=n.length-1;o>=0;--o)Oo(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text,origin:t.origin});else Oo(e,t)}}function Oo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=N(t.from,t.to)){var i=Wn(e,t);oo(e,t,i,e.cm?e.cm.curOp.id:NaN),Po(e,t,i,Q(e,t));var n=[];Jn(e,function(e,i){i||-1!=d(n,e.history)||(jo(e.history,t),n.push(e.history)),Po(e,t,null,Q(e,t))})}}function Bo(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var o,r=e.history,s=e.sel,a="undo"==t?r.done:r.undone,u="undo"==t?r.undone:r.done,l=0;l<a.length&&(o=a[l],i?!o.ranges||o.equals(e.sel):o.ranges);l++);if(l!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;;){if(!(o=a.pop()).ranges){if(n)return void a.push(o);break}if(ao(o,u),i&&!o.equals(e.sel))return void wo(e,o,{clearRedo:!1});s=o}var h=[];ao(s,u),u.push({changes:h,generation:r.generation}),r.generation=o.generation||++r.maxGeneration;for(var c=Me(e,"beforeChange")||e.cm&&Me(e.cm,"beforeChange"),p=o.changes.length-1;p>=0;--p){var f=function(i){var n=o.changes[i];if(n.origin=t,c&&!Mo(e,n,!1))return a.length=0,{};h.push(to(e,n));var r=i?Wn(e,n):m(a);Po(e,n,r,co(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Vn(n)});var s=[];Jn(e,function(e,t){t||-1!=d(s,e.history)||(jo(e.history,n),s.push(e.history)),Po(e,n,null,co(e,n))})}(p);if(f)return f.v}}}}function Lo(e,t){if(0!=t&&(e.first+=t,e.sel=new Sa(g(e.sel.ranges,function(e){return new Aa(P(e.anchor.line+t,e.anchor.ch),P(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){vn(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)yn(e.cm,n,"gutter")}}function Po(e,t,i,n){if(e.cm&&!e.cm.curOp)return fn(e.cm,Po)(e,t,i,n);if(t.to.line<e.first)Lo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Lo(e,o),t={from:P(e.first,0),to:P(t.to.line+o,t.to.ch),text:[m(t.text)],origin:t.origin}}var r=e.lastLine();t.to.line>r&&(t={from:t.from,to:P(r,S(e,r).text.length),text:[t.text[0]],origin:t.origin}),t.removed=A(e,t.from,t.to),i||(i=Wn(e,t)),e.cm?No(e.cm,t,n):Xn(e,t,n),Do(e,i,Ws)}}function No(e,t,i){var n=e.doc,o=e.display,r=t.from,s=t.to,a=!1,u=r.line;e.options.lineWrapping||(u=T(de(S(n,r.line))),n.iter(u,s.line+1,function(e){if(e==o.maxLine)return a=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Fe(e),Xn(n,t,i,Di(e)),e.options.lineWrapping||(n.iter(u,r.line+t.text.length,function(e){var t=xe(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),ot(n,r.line),Cn(e,400);var l=t.text.length-(s.line-r.line)-1;t.full?vn(e):r.line!=s.line||1!=t.text.length||Yn(e.doc,t)?vn(e,r.line,s.line+1,l):yn(e,r.line,"text");var h=Me(e,"changes"),c=Me(e,"change");if(c||h){var d={from:r,to:s,text:t.text,removed:t.removed,origin:t.origin};c&&xt(e,"change",e,d),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Io(e,t,i,n,o){var r;n||(n=i),N(n,i)<0&&(i=(r=[n,i])[0],n=r[1]),"string"==typeof t&&(t=e.splitLines(t)),To(e,{from:i,to:n,text:t,origin:o})}function Ro(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function zo(e,t,i,n){for(var o=0;o<e.length;++o){var r=e[o],s=!0;if(r.ranges){r.copied||((r=e[o]=r.deepCopy()).copied=!0);for(var a=0;a<r.ranges.length;a++)Ro(r.ranges[a].anchor,t,i,n),Ro(r.ranges[a].head,t,i,n)}else{for(var u=0;u<r.changes.length;++u){var l=r.changes[u];if(i<l.from.line)l.from=P(l.from.line+n,l.from.ch),l.to=P(l.to.line+n,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,o+1),o=0)}}}function jo(e,t){var i=t.from.line,n=t.to.line,o=t.text.length-(n-i)-1;zo(e.done,i,n,o),zo(e.undone,i,n,o)}function Vo(e,t,i,n){var o=t,r=t;return"number"==typeof t?r=S(e,V(e,t)):o=T(t),null==o?null:(n(r,o)&&e.cm&&yn(e.cm,o,i),r)}function Ho(e){var t=this;this.lines=e,this.parent=null;for(var i=0,n=0;n<e.length;++n)e[n].parent=t,i+=e[n].height;this.height=i}function Wo(e){var t=this;this.children=e;for(var i=0,n=0,o=0;o<e.length;++o){var r=e[o];i+=r.chunkSize(),n+=r.height,r.parent=t}this.size=i,this.height=n,this.parent=null}function Uo(e,t,i){be(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&qi(e,i)}function qo(e,t,i,n){var o=new Fa(e,i,n),r=e.cm;return r&&o.noHScroll&&(r.display.alignWidgets=!0),Vo(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==o.insertAt?i.push(o):i.splice(Math.min(i.length-1,Math.max(0,o.insertAt)),0,o),o.line=t,r&&!ve(e,t)){var n=be(t)<e.scrollTop;M(t,t.height+Lt(o)),n&&qi(r,o.height),r.curOp.forceUpdate=!0}return!0}),r&&xt(r,"lineWidgetAdded",r,o,"number"==typeof t?t:T(t)),o}function Ko(e,t,i,n,r){if(n&&n.shared)return Go(e,t,i,n,r);if(e.cm&&!e.cm.curOp)return fn(e.cm,Ko)(e,t,i,n,r);var s=new Ta(e,r),a=N(t,i);if(n&&h(n,s,!1),a>0||0==a&&!1!==s.clearWhenEmpty)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=o("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(ce(e,t.line,t,i,s)||t.line!=i.line&&ce(e,i.line,t,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");K()}s.addToHistory&&oo(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var u,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){c&&s.collapsed&&!c.options.lineWrapping&&de(e)==c.display.maxLine&&(u=!0),s.collapsed&&l!=t.line&&M(e,0),J(e,new G(s,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),s.collapsed&&e.iter(t.line,i.line+1,function(t){ve(e,t)&&M(t,0)}),s.clearOnEnter&&ea(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(q(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++Ma,s.atomic=!0),c){if(u&&(c.curOp.updateMaxLine=!0),s.collapsed)vn(c,t.line,i.line+1);else if(s.className||s.startStyle||s.endStyle||s.css||s.attributes||s.title)for(var d=t.line;d<=i.line;d++)yn(c,d,"text");s.atomic&&ko(c.doc),xt(c,"markerAdded",c,s)}return s}function Go(e,t,i,n,o){(n=h(n)).shared=!1;var r=[Ko(e,t,i,n,o)],s=r[0],a=n.widgetNode;return Jn(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),r.push(Ko(e,H(e,t),H(e,i),n,o));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;s=m(r)}),new Oa(r,s)}function Yo(e){return e.findMarks(P(e.first,0),e.clipPos(P(e.lastLine())),function(e){return e.parent})}function Xo(e,t){for(var i=0;i<t.length;i++){var n=t[i],o=n.find(),r=e.clipPos(o.from),s=e.clipPos(o.to);if(N(r,s)){var a=Ko(e,r,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Jo(e){for(var t=0;t<e.length;t++)!function(t){var i=e[t],n=[i.primary.doc];Jn(i.primary.doc,function(e){return n.push(e)});for(var o=0;o<i.markers.length;o++){var r=i.markers[o];-1==d(n,r.doc)&&(r.parent=null,i.markers.splice(o--,1))}}(t)}function Zo(e){var t=this;if(er(t),!Ae(t,e)&&!Pt(t.display,e)){Oe(e),vs&&(Pa=+new Date);var i=ki(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,r=Array(o),s=0,a=function(e,n){if(!t.options.allowDropFileTypes||-1!=d(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=fn(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),r[n]=e,++s==o){var u={from:i=H(t.doc,i),to:i,text:t.doc.splitLines(r.join(t.doc.lineSeparator())),origin:"paste"};To(t.doc,u),xo(t.doc,jn(i,Vn(u)))}}),a.readAsText(e)}},u=0;u<o;++u)a(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var l=e.dataTransfer.getData("Text");if(l){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Do(t.doc,jn(i,i)),h)for(var c=0;c<h.length;++c)Io(t.doc,"",h[c].anchor,h[c].head,"drag");t.replaceSelection(l,"around","paste"),t.display.input.focus()}}catch(e){}}}}function $o(e,t){if(vs&&(!e.state.draggingText||+new Date-Pa<100))Pe(t);else if(!Ae(e,t)&&!Pt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Cs)){var i=n("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ds&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),Ds&&i.parentNode.removeChild(i)}}function Qo(e,t){var o=ki(e,t);if(o){var r=document.createDocumentFragment();Ai(e,o,r),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),i(e.display.dragCursor,r)}}function er(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function tr(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<t.length;n++){var o=t[n].CodeMirror;o&&i.push(o)}i.length&&i[0].operation(function(){for(var t=0;t<i.length;t++)e(i[t])})}}function ir(){Na||(nr(),Na=!0)}function nr(){var e;ea(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,tr(or)},100))}),ea(window,"blur",function(){return tr(Pi)})}function or(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function rr(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var i,n,o,r,s=0;s<t.length-1;s++){var a=t[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);o=!0}}return i&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function sr(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var o=g(i.split(" "),rr),r=0;r<o.length;r++){var s=void 0,a=void 0;r==o.length-1?(a=o.join(" "),s=n):(a=o.slice(0,r+1).join(" "),s="...");var u=t[a];if(u){if(u!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var l in t)e[l]=t[l];return e}function ar(e,t,i,n){var o=(t=cr(t)).call?t.call(e,n):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ar(e,t.fallthrough,i,n);for(var r=0;r<t.fallthrough.length;r++){var s=ar(e,t.fallthrough[r],i,n);if(s)return s}}}function ur(e){var t="string"==typeof e?e:Ia[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function lr(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(Ls?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(Ls?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function hr(e,t){if(Ds&&34==e.keyCode&&e.char)return!1;var i=Ia[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),lr(i,e,t))}function cr(e){return"string"==typeof e?Va[e]:e}function dr(e,t){for(var i=e.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var r=t(i[o]);n.length&&N(r.from,m(n).to)<=0;){var s=n.pop();if(N(s.from,r.from)<0){r.from=s.from;break}}n.push(r)}pn(e,function(){for(var t=n.length-1;t>=0;t--)Io(e.doc,"",n[t].from,n[t].to,"+delete");Ki(e)})}function pr(e,t,i){var n=k(e.text,t+i,i);return n<0||n>e.text.length?null:n}function fr(e,t,i){var n=pr(e,t.ch,i);return null==n?null:new P(t.line,n,i<0?"after":"before")}function mr(e,t,i,n,o){if(e){var r=ke(i,t.doc.direction);if(r){var s,a=o<0?m(r):r[0],u=o<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var l=Gt(t,i);s=o<0?i.text.length-1:0;var h=Yt(t,l,s).top;s=_(function(e){return Yt(t,l,e).top==h},o<0==(1==a.level)?a.from:a.to-1,s),"before"==u&&(s=pr(i,s,1))}else s=o<0?a.to:a.from;return new P(n,s,u)}}return new P(n,o<0?i.text.length:0,o<0?"before":"after")}function gr(e,t,i,n){var o=ke(t,e.doc.direction);if(!o)return fr(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var r=Ce(o,i.ch,i.sticky),s=o[r];if("ltr"==e.doc.direction&&s.level%2==0&&(n>0?s.to>i.ch:s.from<i.ch))return fr(t,i,n);var a,u=function(e,i){return pr(t,e instanceof P?e.ch:e,i)},l=function(i){return e.options.lineWrapping?(a=a||Gt(e,t),pi(e,t,a,i)):{begin:0,end:t.text.length}},h=l("before"==i.sticky?u(i,-1):i.ch);if("rtl"==e.doc.direction||1==s.level){var c=1==s.level==n<0,d=u(i,c?1:-1);if(null!=d&&(c?d<=s.to&&d<=h.end:d>=s.from&&d>=h.begin)){var p=c?"before":"after";return new P(i.line,d,p)}}var f=function(e,t,n){for(var r=function(e,t){return t?new P(i.line,u(e,1),"before"):new P(i.line,e,"after")};e>=0&&e<o.length;e+=t){var s=o[e],a=t>0==(1!=s.level),l=a?n.begin:u(n.end,-1);if(s.from<=l&&l<s.to)return r(l,a);if(l=a?s.from:u(s.to,-1),n.begin<=l&&l<n.end)return r(l,a)}},m=f(r+n,n,h);if(m)return m;var g=n>0?h.end:u(h.begin,-1);return null==g||n>0&&g==t.text.length||!(m=f(n>0?0:o.length-1,n,l(g)))?null:m}function vr(e,t){var i=S(e.doc,t),n=de(i);return n!=i&&(t=T(n)),mr(!0,e,n,t,1)}function yr(e,t){var i=S(e.doc,t),n=pe(i);return n!=i&&(t=T(n)),mr(!0,e,i,t,-1)}function br(e,t){var i=vr(e,t.line),n=S(e.doc,i.line),o=ke(n,e.doc.direction);if(!o||0==o[0].level){var r=Math.max(0,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=r&&t.ch;return P(i.line,s?0:r,i.sticky)}return i}function xr(e,t,i){if("string"==typeof t&&!(t=Ha[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),o=t(e)!=Hs}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}function wr(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var o=ar(t,e.state.keyMaps[n],i,e);if(o)return o}return e.options.extraKeys&&ar(t,e.options.extraKeys,i,e)||ar(t,e.options.keyMap,i,e)}function Dr(e,t,i,n){var o=e.state.keySeq;if(o){if(ur(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Wa.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),Cr(e,o+" "+t,i,n))return!0}return Cr(e,t,i,n)}function Cr(e,t,i,n){var o=wr(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&xt(e,"keyHandled",e,t,i),"handled"!=o&&"multi"!=o||(Oe(i),Ti(e)),!!o}function kr(e,t){var i=hr(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?Dr(e,"Shift-"+i,t,function(t){return xr(e,t,!0)})||Dr(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return xr(e,t)}):Dr(e,i,t,function(t){return xr(e,t)}))}function _r(e,t,i){return Dr(e,"'"+i+"'",t,function(t){return xr(e,t,!0)})}function Er(e){var t=this;if(t.curOp.focus=s(),!Ae(t,e)){vs&&ys<11&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=kr(t,e);Ds&&(Ua=n?i:null,!n&&88==i&&!oa&&(Fs?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Sr(t)}}function Sr(e){function t(e){18!=e.keyCode&&e.altKey||(Ns(i,"CodeMirror-crosshair"),Ee(document,"keyup",t),Ee(document,"mouseover",t))}var i=e.display.lineDiv;a(i,"CodeMirror-crosshair"),ea(document,"keyup",t),ea(document,"mouseover",t)}function Ar(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ae(this,e)}function Fr(e){var t=this;if(!(Pt(t.display,e)||Ae(t,e)||e.ctrlKey&&!e.altKey||Fs&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(Ds&&i==Ua)return Ua=null,void Oe(e);if(!Ds||e.which&&!(e.which<10)||!kr(t,e)){var o=String.fromCharCode(null==n?i:n);"\b"!=o&&(_r(t,e,o)||t.display.input.onKeyPress(e))}}}function Mr(e,t){var i=+new Date;return Ga&&Ga.compare(i,e,t)?(Ka=Ga=null,"triple"):Ka&&Ka.compare(i,e,t)?(Ga=new qa(i,e,t),Ka=null,"double"):(Ka=new qa(i,e,t),Ga=null,"single")}function Tr(e){var t=this,i=t.display;if(!(Ae(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=e.shiftKey,Pt(i,e))bs||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));else if(!jr(t,e)){var n=ki(t,e),o=Ie(e),r=n?Mr(n,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),n&&Or(t,o,n,r,e)||(1==o?n?Lr(t,n,r,e):Ne(e)==i.scroller&&Oe(e):2==o?(n&&mo(t.doc,n),setTimeout(function(){return i.input.focus()},20)):3==o&&(Ps?t.display.input.onContextMenu(e):Bi(t)))}}function Or(e,t,i,n,o){var r="Click";return"double"==n?r="Double"+r:"triple"==n&&(r="Triple"+r),r=(1==t?"Left":2==t?"Middle":"Right")+r,Dr(e,lr(r,o),o,function(t){if("string"==typeof t&&(t=Ha[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,i)!=Hs}finally{e.state.suppressEdits=!1}return n})}function Br(e,t,i){var n=e.getOption("configureMouse"),o=n?n(e,t,i):{};if(null==o.unit){var r=Ms?i.shiftKey&&i.metaKey:i.altKey;o.unit=r?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||i.shiftKey),null==o.addNew&&(o.addNew=Fs?i.metaKey:i.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(Fs?i.altKey:i.ctrlKey)),o}function Lr(e,t,i,n){vs?setTimeout(l(Oi,e),0):e.curOp.focus=s();var o,r=Br(e,i,n),a=e.doc.sel;e.options.dragDrop&&ta&&!e.isReadOnly()&&"single"==i&&(o=a.contains(t))>-1&&(N((o=a.ranges[o]).from(),t)<0||t.xRel>0)&&(N(o.to(),t)>0||t.xRel<0)?Pr(e,n,t,r):Ir(e,n,t,r)}function Pr(e,t,i,n){var o=e.display,r=!1,s=fn(e,function(t){bs&&(o.scroller.draggable=!1),e.state.draggingText=!1,Ee(o.wrapper.ownerDocument,"mouseup",s),Ee(o.wrapper.ownerDocument,"mousemove",a),Ee(o.scroller,"dragstart",u),Ee(o.scroller,"drop",s),r||(Oe(t),n.addNew||mo(e.doc,i,null,null,n.extend),bs||vs&&9==ys?setTimeout(function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()},20):o.input.focus())}),a=function(e){r=r||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return r=!0};bs&&(o.scroller.draggable=!0),e.state.draggingText=s,s.copy=!n.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),ea(o.wrapper.ownerDocument,"mouseup",s),ea(o.wrapper.ownerDocument,"mousemove",a),ea(o.scroller,"dragstart",u),ea(o.scroller,"drop",s),Bi(e),setTimeout(function(){return o.input.focus()},20)}function Nr(e,t,i){if("char"==i)return new Aa(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new Aa(P(t.line,0),H(e.doc,P(t.line+1,0)));var n=i(e,t);return new Aa(n.from,n.to)}function Ir(e,t,i,n){function o(t){if(0!=N(v,t))if(v=t,"rectangle"==n.unit){for(var o=[],r=e.options.tabSize,s=c(S(l,i.line).text,i.ch,r),a=c(S(l,t.line).text,t.ch,r),u=Math.min(s,a),m=Math.max(s,a),g=Math.min(i.line,t.line),y=Math.min(e.lastLine(),Math.max(i.line,t.line));g<=y;g++){var b=S(l,g).text,x=p(b,u,r);u==m?o.push(new Aa(P(g,x),P(g,x))):b.length>x&&o.push(new Aa(P(g,x),P(g,p(b,m,r))))}o.length||o.push(new Aa(i,i)),wo(l,zn(e,f.ranges.slice(0,d).concat(o),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w,D=h,C=Nr(e,t,n.unit),k=D.anchor;N(C.anchor,k)>0?(w=C.head,k=j(D.from(),C.anchor)):(w=C.anchor,k=z(D.to(),C.head));var _=f.ranges.slice(0);_[d]=Rr(e,new Aa(H(l,k),w)),wo(l,zn(e,_,d),Us)}}function r(t){var i=++b,a=ki(e,t,!0,"rectangle"==n.unit);if(a)if(0!=N(a,v)){e.curOp.focus=s(),o(a);var h=Ri(u,l);(a.line>=h.to||a.line<h.from)&&setTimeout(fn(e,function(){b==i&&r(t)}),150)}else{var c=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;c&&setTimeout(fn(e,function(){b==i&&(u.scroller.scrollTop+=c,r(t))}),50)}}function a(t){e.state.selectingText=!1,b=1/0,Oe(t),u.input.focus(),Ee(u.wrapper.ownerDocument,"mousemove",x),Ee(u.wrapper.ownerDocument,"mouseup",w),l.history.lastSelOrigin=null}var u=e.display,l=e.doc;Oe(t);var h,d,f=l.sel,m=f.ranges;if(n.addNew&&!n.extend?(d=l.sel.contains(i),h=d>-1?m[d]:new Aa(i,i)):(h=l.sel.primary(),d=l.sel.primIndex),"rectangle"==n.unit)n.addNew||(h=new Aa(i,i)),i=ki(e,t,!0,!0),d=-1;else{var g=Nr(e,i,n.unit);h=n.extend?fo(h,g.anchor,g.head,n.extend):g}n.addNew?-1==d?(d=m.length,wo(l,zn(e,m.concat([h]),d),{scroll:!1,origin:"*mouse"})):m.length>1&&m[d].empty()&&"char"==n.unit&&!n.extend?(wo(l,zn(e,m.slice(0,d).concat(m.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),f=l.sel):vo(l,d,h,Us):(d=0,wo(l,new Sa([h],0),Us),f=l.sel);var v=i,y=u.wrapper.getBoundingClientRect(),b=0,x=fn(e,function(e){0!==e.buttons&&Ie(e)?r(e):a(e)}),w=fn(e,a);e.state.selectingText=w,ea(u.wrapper.ownerDocument,"mousemove",x),ea(u.wrapper.ownerDocument,"mouseup",w)}function Rr(e,t){var i=t.anchor,n=t.head,o=S(e.doc,i.line);if(0==N(i,n)&&i.sticky==n.sticky)return t;var r=ke(o);if(!r)return t;var s=Ce(r,i.ch,i.sticky),a=r[s];if(a.from!=i.ch&&a.to!=i.ch)return t;var u=s+(a.from==i.ch==(1!=a.level)?0:1);if(0==u||u==r.length)return t;var l;if(n.line!=i.line)l=(n.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var h=Ce(r,n.ch,n.sticky),c=h-s||(n.ch-i.ch)*(1==a.level?-1:1);l=h==u-1||h==u?c<0:c>0}var d=r[u+(l?-1:0)],p=l==(1==d.level),f=p?d.from:d.to,m=p?"after":"before";return i.ch==f&&i.sticky==m?t:new Aa(new P(i.line,f,m),n)}function zr(e,t,i,n){var o,r;if(t.touches)o=t.touches[0].clientX,r=t.touches[0].clientY;else try{o=t.clientX,r=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Oe(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(r>a.bottom||!Me(e,i))return Le(t);r-=a.top-s.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=s.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=o)return Se(e,i,e,O(e.doc,r),e.options.gutters[u],t),Le(t)}}function jr(e,t){return zr(e,t,"gutterClick",!0)}function Vr(e,t){Pt(e.display,t)||Hr(e,t)||Ae(e,t,"contextmenu")||Ps||e.display.input.onContextMenu(t)}function Hr(e,t){return!!Me(e,"gutterContextMenu")&&zr(e,t,"gutterContextMenu",!1)}function Wr(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ti(e)}function Ur(e){Ln(e),vn(e),zi(e)}function qr(e,t,i){if(!t!=!(i&&i!=Ya)){var n=e.display.dragFunctions,o=t?ea:Ee;o(e.display.scroller,"dragstart",n.start),o(e.display.scroller,"dragenter",n.enter),o(e.display.scroller,"dragover",n.over),o(e.display.scroller,"dragleave",n.leave),o(e.display.scroller,"drop",n.drop)}}function Kr(e){e.options.lineWrapping?(a(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ns(e.display.wrapper,"CodeMirror-wrap"),we(e)),Ci(e),vn(e),ti(e),setTimeout(function(){return tn(e)},100)}function Gr(e,t){var i=this;if(!(this instanceof Gr))return new Gr(e,t);this.options=t=t?h(t):{},h(Xa,t,!1),Pn(t);var n=t.value;"string"==typeof n?n=new La(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var o=new Gr.inputStyles[t.inputStyle](this),r=this.display=new E(e,n,o);r.wrapper.CodeMirror=this,Ln(this),Wr(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),on(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Rs,keySeq:null,specialChars:null},t.autofocus&&!As&&r.input.focus(),vs&&ys<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Yr(this),ir(),rn(this),this.curOp.forceUpdate=!0,Zn(this,n),t.autofocus&&!As||this.hasFocus()?setTimeout(l(Li,this),20):Pi(this);for(var s in Ja)Ja.hasOwnProperty(s)&&Ja[s](i,t[s],Ya);ji(this),t.finishInit&&t.finishInit(this);for(var a=0;a<Za.length;++a)Za[a](i);sn(this),bs&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(r.lineDiv).textRendering&&(r.lineDiv.style.textRendering="auto")}function Yr(e){function t(){o.activeTouch&&(r=setTimeout(function(){return o.activeTouch=null},1e3),(s=o.activeTouch).end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}var o=e.display;ea(o.scroller,"mousedown",fn(e,Tr)),vs&&ys<11?ea(o.scroller,"dblclick",fn(e,function(t){if(!Ae(e,t)){var i=ki(e,t);if(i&&!jr(e,t)&&!Pt(e.display,t)){Oe(t);var n=e.findWordAt(i);mo(e.doc,n.anchor,n.head)}}})):ea(o.scroller,"dblclick",function(t){return Ae(e,t)||Oe(t)}),ea(o.scroller,"contextmenu",function(t){return Vr(e,t)});var r,s={end:0};ea(o.scroller,"touchstart",function(t){if(!Ae(e,t)&&!i(t)&&!jr(e,t)){o.input.ensurePolled(),clearTimeout(r);var n=+new Date;o.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==t.touches.length&&(o.activeTouch.left=t.touches[0].pageX,o.activeTouch.top=t.touches[0].pageY)}}),ea(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),ea(o.scroller,"touchend",function(i){var r=o.activeTouch;if(r&&!Pt(o,i)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,a=e.coordsChar(o.activeTouch,"page");s=!r.prev||n(r,r.prev)?new Aa(a,a):!r.prev.prev||n(r,r.prev.prev)?e.findWordAt(a):new Aa(P(a.line,0),H(e.doc,P(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Oe(i)}t()}),ea(o.scroller,"touchcancel",t),ea(o.scroller,"scroll",function(){o.scroller.clientHeight&&(Zi(e,o.scroller.scrollTop),Qi(e,o.scroller.scrollLeft,!0),Se(e,"scroll",e))}),ea(o.scroller,"mousewheel",function(t){return Rn(e,t)}),ea(o.scroller,"DOMMouseScroll",function(t){return Rn(e,t)}),ea(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(t){Ae(e,t)||Pe(t)},over:function(t){Ae(e,t)||(Qo(e,t),Pe(t))},start:function(t){return $o(e,t)},drop:fn(e,Zo),leave:function(t){Ae(e,t)||er(e)}};var a=o.input.getField();ea(a,"keyup",function(t){return Ar.call(e,t)}),ea(a,"keydown",fn(e,Er)),ea(a,"keypress",fn(e,Fr)),ea(a,"focus",function(t){return Li(e,t)}),ea(a,"blur",function(t){return Pi(e,t)})}function Xr(e,t,i,n){var o,r=e.doc;null==i&&(i="add"),"smart"==i&&(r.mode.indent?o=Je(e,t).state:i="prev");var s=e.options.tabSize,a=S(r,t),u=c(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var l,h=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((l=r.mode.indent(o,a.text.slice(h.length),a.text))==Hs||l>150)){if(!n)return;i="prev"}}else l=0,i="not";"prev"==i?l=t>r.first?c(S(r,t-1).text,null,s):0:"add"==i?l=u+e.options.indentUnit:"subtract"==i?l=u-e.options.indentUnit:"number"==typeof i&&(l=u+i),l=Math.max(0,l);var d="",p=0;if(e.options.indentWithTabs)for(var m=Math.floor(l/s);m;--m)p+=s,d+="\t";if(p<l&&(d+=f(l-p)),d!=h)return Io(r,d,P(t,0),P(t,h.length),"+input"),a.stateAfter=null,!0;for(var g=0;g<r.sel.ranges.length;g++){var v=r.sel.ranges[g];if(v.head.line==t&&v.head.ch<h.length){var y=P(t,h.length);vo(r,g,new Aa(y,y));break}}}function Jr(e){$a=e}function Zr(e,t,i,n,o){var r=e.doc;e.display.shift=!1,n||(n=r.sel);var s=e.state.pasteIncoming||"paste"==o,a=ia(t),u=null;if(s&&n.ranges.length>1)if($a&&$a.text.join("\n")==t){if(n.ranges.length%$a.text.length==0){u=[];for(var l=0;l<$a.text.length;l++)u.push(r.splitLines($a.text[l]))}}else a.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=g(a,function(e){return[e]}));for(var h,c=n.ranges.length-1;c>=0;c--){var d=n.ranges[c],p=d.from(),f=d.to();d.empty()&&(i&&i>0?p=P(p.line,p.ch-i):e.state.overwrite&&!s?f=P(f.line,Math.min(S(r,f.line).text.length,f.ch+m(a).length)):s&&$a&&$a.lineWise&&$a.text.join("\n")==t&&(p=f=P(p.line,0))),h=e.curOp.updateInput;var v={from:p,to:f,text:u?u[c%u.length]:a,origin:o||(s?"paste":e.state.cutIncoming?"cut":"+input")};To(e.doc,v),xt(e,"inputRead",e,v)}t&&!s&&Qr(e,t),Ki(e),e.curOp.updateInput=h,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function $r(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||pn(t,function(){return Zr(t,i,0,null,"paste")}),!0}function Qr(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var o=i.ranges[n];if(!(o.head.ch>100||n&&i.ranges[n-1].head.line==o.head.line)){var r=e.getModeAt(o.head),s=!1;if(r.electricChars){for(var a=0;a<r.electricChars.length;a++)if(t.indexOf(r.electricChars.charAt(a))>-1){s=Xr(e,o.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(S(e.doc,o.head.line).text.slice(0,o.head.ch))&&(s=Xr(e,o.head.line,"smart"));s&&xt(e,"electricInput",e,o.head.line)}}}function es(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,r={anchor:P(o,0),head:P(o+1,0)};i.push(r),t.push(e.getRange(r.anchor,r.head))}return{text:t,ranges:i}}function ts(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function is(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return bs?e.style.width="1000px":e.setAttribute("wrap","off"),Es&&(e.style.border="1px solid black"),ts(e),t}function ns(e,t,i,n,o){function r(){var n=t.line+i;return!(n<e.first||n>=e.first+e.size)&&(t=new P(n,t.ch,t.sticky),l=S(e,n))}function s(n){var s;if(null==(s=o?gr(e.cm,l,t,i):fr(l,t,i))){if(n||!r())return!1;t=mr(o,e.cm,l,t.line,i)}else t=s;return!0}var a=t,u=i,l=S(e,t.line);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,c="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(i<0)||s(!p);p=!1){var f=l.text.charAt(t.ch)||"\n",m=w(f,d)?"w":c&&"\n"==f?"n":!c||/\s/.test(f)?null:"p";if(!c||p||m||(m="s"),h&&h!=m){i<0&&(i=1,s(),t.sticky="after");break}if(m&&(h=m),i>0&&!s(!p))break}var g=So(e,t,a,u,!0);return I(a,g)&&(g.hitSide=!0),g}function os(e,t,i,n){var o,r=e.doc,s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(a-.5*yi(e.display),3);o=(i>0?t.bottom:t.top)+i*u}else"line"==n&&(o=i>0?t.bottom+3:t.top-3);for(var l;(l=ci(e,s,o)).outside;){if(i<0?o<=0:o>=r.height){l.hitSide=!0;break}o+=5*i}return l}function rs(e,t){var i=Kt(e,t.line);if(!i||i.hidden)return null;var n=S(e.doc,t.line),o=Wt(i,n,t.line),r=ke(n,e.doc.direction),s="left";r&&(s=Ce(r,t.ch)%2?"right":"left");var a=Xt(o.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function ss(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function as(e,t){return t&&(e.bad=!0),e}function us(e,t,i,n,o){function r(e){return function(t){return t.id==e}}function s(){h&&(l+=c,d&&(l+=c),h=d=!1)}function a(e){e&&(s(),l+=e)}function u(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void a(i);var l,p=t.getAttribute("cm-marker");if(p){var f=e.findMarks(P(n,0),P(o+1,0),r(+p));return void(f.length&&(l=f[0].find(0))&&a(A(e.doc,l.from,l.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&s();for(var g=0;g<t.childNodes.length;g++)u(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(d=!0),m&&(h=!0)}else 3==t.nodeType&&a(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var l="",h=!1,c=e.doc.lineSeparator(),d=!1;u(t),t!=i;)t=t.nextSibling,d=!1;return l}function ls(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return as(e.clipPos(P(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var r=e.display.view[o];if(r.node==n)return hs(r,t,i)}}function hs(e,t,i){function n(t,i,n){for(var o=-1;o<(c?c.length:0);o++)for(var r=o<0?h.map:c[o],s=0;s<r.length;s+=3){var a=r[s+2];if(a==t||a==i){var u=T(o<0?e.line:e.rest[o]),l=r[s]+n;return(n<0||a!=t)&&(l=r[s+(n?1:0)]),P(u,l)}}}var o=e.text.firstChild,s=!1;if(!t||!r(o,t))return as(P(T(e.line),0),!0);if(t==o&&(s=!0,t=o.childNodes[i],i=0,!t)){var a=e.rest?m(e.rest):e.line;return as(P(T(a),a.text.length),s)}var u=3==t.nodeType?t:null,l=t;for(u||1!=t.childNodes.length||3!=t.firstChild.nodeType||(u=t.firstChild,i&&(i=u.nodeValue.length));l.parentNode!=o;)l=l.parentNode;var h=e.measure,c=h.maps,d=n(u,l,i);if(d)return as(d,s);for(var p=l.nextSibling,f=u?u.nodeValue.length-i:0;p;p=p.nextSibling){if(d=n(p,p.firstChild,0))return as(P(d.line,d.ch-f),s);f+=p.textContent.length}for(var g=l.previousSibling,v=i;g;g=g.previousSibling){if(d=n(g,g.firstChild,-1))return as(P(d.line,d.ch+v),s);v+=g.textContent.length}}var cs=navigator.userAgent,ds=navigator.platform,ps=/gecko\/\d/i.test(cs),fs=/MSIE \d/.test(cs),ms=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cs),gs=/Edge\/(\d+)/.exec(cs),vs=fs||ms||gs,ys=vs&&(fs?document.documentMode||6:+(gs||ms)[1]),bs=!gs&&/WebKit\//.test(cs),xs=bs&&/Qt\/\d+\.\d+/.test(cs),ws=!gs&&/Chrome\//.test(cs),Ds=/Opera\//.test(cs),Cs=/Apple Computer/.test(navigator.vendor),ks=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(cs),_s=/PhantomJS/.test(cs),Es=!gs&&/AppleWebKit/.test(cs)&&/Mobile\/\w+/.test(cs),Ss=/Android/.test(cs),As=Es||Ss||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(cs),Fs=Es||/Mac/.test(ds),Ms=/\bCrOS\b/.test(cs),Ts=/win/i.test(ds),Os=Ds&&cs.match(/Version\/(\d*\.\d*)/);Os&&(Os=Number(Os[1])),Os&&Os>=15&&(Ds=!1,bs=!0);var Bs,Ls=Fs&&(xs||Ds&&(null==Os||Os<12.11)),Ps=ps||vs&&ys>=9,Ns=function(t,i){var n=t.className,o=e(i).exec(n);if(o){var r=n.slice(o.index+o[0].length);t.className=n.slice(0,o.index)+(r?o[1]+r:"")}};Bs=document.createRange?function(e,t,i,n){var o=document.createRange();return o.setEnd(n||e,i),o.setStart(e,t),o}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var Is=function(e){e.select()};Es?Is=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:vs&&(Is=function(e){try{e.select()}catch(e){}});var Rs=function(){this.id=null};Rs.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var zs,js,Vs=30,Hs={toString:function(){return"CodeMirror.Pass"}},Ws={scroll:!1},Us={origin:"*mouse"},qs={origin:"+move"},Ks=[""],Gs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ys=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Xs=!1,Js=!1,Zs=null,$s=function(){function e(e){return e<=247?i.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,i){this.level=e,this.from=t,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,u=/[1n]/;return function(i,n){var l="ltr"==n?"L":"R";if(0==i.length||"ltr"==n&&!o.test(i))return!1;for(var h=i.length,c=[],d=0;d<h;++d)c.push(e(i.charCodeAt(d)));for(var p=0,f=l;p<h;++p){var g=c[p];"m"==g?c[p]=f:f=g}for(var v=0,y=l;v<h;++v){var b=c[v];"1"==b&&"r"==y?c[v]="n":s.test(b)&&(y=b,"r"==b&&(c[v]="R"))}for(var x=1,w=c[0];x<h-1;++x){var D=c[x];"+"==D&&"1"==w&&"1"==c[x+1]?c[x]="1":","!=D||w!=c[x+1]||"1"!=w&&"n"!=w||(c[x]=w),w=D}for(var C=0;C<h;++C){var k=c[C];if(","==k)c[C]="N";else if("%"==k){var _=void 0;for(_=C+1;_<h&&"%"==c[_];++_);for(var E=C&&"!"==c[C-1]||_<h&&"1"==c[_]?"1":"N",S=C;S<_;++S)c[S]=E;C=_-1}}for(var A=0,F=l;A<h;++A){var M=c[A];"L"==F&&"1"==M?c[A]="L":s.test(M)&&(F=M)}for(var T=0;T<h;++T)if(r.test(c[T])){var O=void 0;for(O=T+1;O<h&&r.test(c[O]);++O);for(var B="L"==(T?c[T-1]:l),L=B==("L"==(O<h?c[O]:l))?B?"L":"R":l,P=T;P<O;++P)c[P]=L;T=O-1}for(var N,I=[],R=0;R<h;)if(a.test(c[R])){var z=R;for(++R;R<h&&a.test(c[R]);++R);I.push(new t(0,z,R))}else{var j=R,V=I.length;for(++R;R<h&&"L"!=c[R];++R);for(var H=j;H<R;)if(u.test(c[H])){j<H&&I.splice(V,0,new t(1,j,H));var W=H;for(++H;H<R&&u.test(c[H]);++H);I.splice(V,0,new t(2,W,H)),j=H}else++H;j<R&&I.splice(V,0,new t(1,j,R))}return"ltr"==n&&(1==I[0].level&&(N=i.match(/^\s+/))&&(I[0].from=N[0].length,I.unshift(new t(0,0,N[0].length))),1==m(I).level&&(N=i.match(/\s+$/))&&(m(I).to-=N[0].length,I.push(new t(0,h-N[0].length,h)))),"rtl"==n?I.reverse():I}}(),Qs=[],ea=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Qs).concat(i)}},ta=function(){if(vs&&ys<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),ia=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var r=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),s=r.indexOf("\r");-1!=s?(i.push(r.slice(0,s)),t+=s+1):(i.push(r),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)},na=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},oa=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ra=null,sa={},aa={},ua={},la=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};la.prototype.eol=function(){return this.pos>=this.string.length},la.prototype.sol=function(){return this.pos==this.lineStart},la.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},la.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},la.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},la.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},la.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},la.prototype.skipToEnd=function(){this.pos=this.string.length},la.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},la.prototype.backUp=function(e){this.pos-=e},la.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=c(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},la.prototype.indentation=function(){return c(this.string,null,this.tabSize)-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},la.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var o=function(e){return i?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},la.prototype.current=function(){return this.string.slice(this.start,this.pos)},la.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},la.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},la.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ha=function(e,t){this.state=e,this.lookAhead=t},ca=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};ca.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ca.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ca.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ca.fromSaved=function(e,t,i){return t instanceof ha?new ca(e,qe(e.mode,t.state),i,t.lookAhead):new ca(e,qe(e.mode,t),i)},ca.prototype.save=function(e){var t=!1!==e?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ha(t,this.maxLookAhead):t};var da=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i},pa=function(e,t,i){this.text=e,ne(this,t),this.height=i?i(this):1};pa.prototype.lineNo=function(){return T(this)},Te(pa);var fa,ma={},ga={},va=null,ya=null,ba={left:0,right:0,top:0,bottom:0},xa=function(e,t,i){this.cm=i;var o=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=r.tabIndex=-1,e(o),e(r),ea(o,"scroll",function(){o.clientHeight&&t(o.scrollTop,"vertical")}),ea(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,vs&&ys<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};xa.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var r=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+r)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},xa.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},xa.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},xa.prototype.zeroWidthHack=function(){var e=Fs&&!ks?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Rs,this.disableVert=new Rs},xa.prototype.enableZeroWidthBar=function(e,t,i){function n(){var o=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},xa.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var wa=function(){};wa.prototype.update=function(){return{bottom:0,right:0}},wa.prototype.setScrollLeft=function(){},wa.prototype.setScrollTop=function(){},wa.prototype.clear=function(){};var Da={native:xa,null:wa},Ca=0,ka=function(e,t,i){var n=e.display;this.viewport=t,this.visible=Ri(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=jt(e),this.force=i,this.dims=xi(e),this.events=[]};ka.prototype.signal=function(e,t){Me(e,t)&&this.events.push(arguments)},ka.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Se.apply(null,e.events[t])};var _a=0,Ea=null;vs?Ea=-.53:ps?Ea=15:ws?Ea=-.7:Cs&&(Ea=-1/3);var Sa=function(e,t){this.ranges=e,this.primIndex=t};Sa.prototype.primary=function(){return this.ranges[this.primIndex]},Sa.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var n=t.ranges[i],o=e.ranges[i];if(!I(n.anchor,o.anchor)||!I(n.head,o.head))return!1}return!0},Sa.prototype.deepCopy=function(){for(var e=this,t=[],i=0;i<this.ranges.length;i++)t[i]=new Aa(R(e.ranges[i].anchor),R(e.ranges[i].head));return new Sa(t,this.primIndex)},Sa.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Sa.prototype.contains=function(e,t){var i=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var o=i.ranges[n];if(N(t,o.from())>=0&&N(e,o.to())<=0)return n}return-1};var Aa=function(e,t){this.anchor=e,this.head=t};Aa.prototype.from=function(){return j(this.anchor,this.head)},Aa.prototype.to=function(){return z(this.anchor,this.head)},Aa.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ho.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=this,n=e,o=e+t;n<o;++n){var r=i.lines[n];i.height-=r.height,st(r),xt(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){var n=this;this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var o=0;o<t.length;++o)t[o].parent=n},iterN:function(e,t,i){for(var n=this,o=e+t;e<o;++e)if(i(n.lines[e]))return!0}},Wo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var i=this;this.size-=t;for(var n=0;n<this.children.length;++n){var o=i.children[n],r=o.chunkSize();if(e<r){var s=Math.min(t,r-e),a=o.height;if(o.removeInner(e,s),i.height-=a-o.height,r==s&&(i.children.splice(n--,1),o.parent=null),0==(t-=s))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ho))){var u=[];this.collapse(u),this.children=[new Ho(u)],this.children[0].parent=this}},collapse:function(e){for(var t=this,i=0;i<this.children.length;++i)t.children[i].collapse(e)},insertInner:function(e,t,i){var n=this;this.size+=t.length,this.height+=i;for(var o=0;o<this.children.length;++o){var r=n.children[o],s=r.chunkSize();if(e<=s){if(r.insertInner(e,t,i),r.lines&&r.lines.length>50){for(var a=r.lines.length%25+25,u=a;u<r.lines.length;){var l=new Ho(r.lines.slice(u,u+=25));r.height-=l.height,n.children.splice(++o,0,l),l.parent=n}r.lines=r.lines.slice(0,a),n.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Wo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=d(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new Wo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=this,o=0;o<this.children.length;++o){var r=n.children[o],s=r.chunkSize();if(e<s){var a=Math.min(t,s-e);if(r.iterN(e,a,i))return!0;if(0==(t-=a))break;e=0}else e-=s}}};var Fa=function(e,t,i){var n=this;if(i)for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);this.doc=e,this.node=t};Fa.prototype.clear=function(){var e=this,t=this.doc.cm,i=this.line.widgets,n=this.line,o=T(n);if(null!=o&&i){for(var r=0;r<i.length;++r)i[r]==e&&i.splice(r--,1);i.length||(n.widgets=null);var s=Lt(this);M(n,Math.max(0,n.height-s)),t&&(pn(t,function(){Uo(t,n,-s),yn(t,o,"widget")}),xt(t,"lineWidgetCleared",t,this,o))}},Fa.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var o=Lt(this)-t;o&&(ve(this.doc,n)||M(n,n.height+o),i&&pn(i,function(){i.curOp.forceUpdate=!0,Uo(i,n,o),xt(i,"lineWidgetChanged",i,e,T(n))}))},Te(Fa);var Ma=0,Ta=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ma};Ta.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,i=t&&!t.curOp;if(i&&rn(t),Me(this,"clear")){var n=this.find();n&&xt(this,"clear",n.from,n.to)}for(var o=null,r=null,s=0;s<this.lines.length;++s){var a=e.lines[s],u=Y(a.markedSpans,e);t&&!e.collapsed?yn(t,T(a),"text"):t&&(null!=u.to&&(r=T(a)),null!=u.from&&(o=T(a))),a.markedSpans=X(a.markedSpans,u),null==u.from&&e.collapsed&&!ve(e.doc,a)&&t&&M(a,yi(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var h=de(e.lines[l]),c=xe(h);c>t.display.maxLineLength&&(t.display.maxLine=h,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=o&&t&&this.collapsed&&vn(t,o,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ko(t.doc)),t&&xt(t,"markerCleared",t,this,o,r),i&&sn(t),this.parent&&this.parent.clear()}},Ta.prototype.find=function(e,t){var i=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,o,r=0;r<this.lines.length;++r){var s=i.lines[r],a=Y(s.markedSpans,i);if(null!=a.from&&(n=P(t?s:T(s),a.from),-1==e))return n;if(null!=a.to&&(o=P(t?s:T(s),a.to),1==e))return o}return n&&{from:n,to:o}},Ta.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&pn(n,function(){var o=t.line,r=T(t.line),s=Kt(n,r);if(s&&(Qt(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ve(i.doc,o)&&null!=i.height){var a=i.height;i.height=null;var u=Lt(i)-a;u&&M(o,o.height+u)}xt(n,"markerChanged",n,e)})},Ta.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=d(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ta.prototype.detachLine=function(e){if(this.lines.splice(d(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Te(Ta);var Oa=function(e,t){var i=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=i};Oa.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();xt(this,"clear")}},Oa.prototype.find=function(e,t){return this.primary.find(e,t)},Te(Oa);var Ba=0,La=function(e,t,i,n,o){if(!(this instanceof La))return new La(e,t,i,n,o);null==i&&(i=0),Wo.call(this,[new Ho([new pa("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var r=P(i,0);this.sel=jn(r),this.history=new eo(null),this.id=++Ba,this.modeOption=t,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Xn(this,{from:r,to:r,text:e}),wo(this,jn(r),Ws)};La.prototype=b(Wo.prototype,{constructor:La,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=F(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:gn(function(e){var t=P(this.first,0),i=this.first+this.size-1;To(this,{from:t,to:P(i,S(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Gi(this.cm,0,0),wo(this,jn(t),Ws)}),replaceRange:function(e,t,i,n){Io(this,e,t=H(this,t),i=i?H(this,i):t,n)},getRange:function(e,t,i){var n=A(this,H(this,e),H(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(B(this,e))return S(this,e)},getLineNumber:function(e){return T(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=S(this,e)),de(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return H(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gn(function(e,t,i){yo(this,H(this,"number"==typeof e?P(e,t||0):e),null,i)}),setSelection:gn(function(e,t,i){yo(this,H(this,e),H(this,t||e),i)}),extendSelection:gn(function(e,t,i){mo(this,H(this,e),t&&H(this,t),i)}),extendSelections:gn(function(e,t){go(this,U(this,e),t)}),extendSelectionsBy:gn(function(e,t){go(this,U(this,g(this.sel.ranges,e)),t)}),setSelections:gn(function(e,t,i){var n=this;if(e.length){for(var o=[],r=0;r<e.length;r++)o[r]=new Aa(H(n,e[r].anchor),H(n,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),wo(this,zn(this.cm,o,t),i)}}),addSelection:gn(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new Aa(H(this,e),H(this,t||e))),wo(this,zn(this.cm,n,n.length-1),i)}),getSelection:function(e){for(var t,i=this,n=this.sel.ranges,o=0;o<n.length;o++){var r=A(i,n[o].from(),n[o].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,i=[],n=this.sel.ranges,o=0;o<n.length;o++){var r=A(t,n[o].from(),n[o].to());!1!==e&&(r=r.join(e||t.lineSeparator())),i[o]=r}return i},replaceSelection:function(e,t,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:gn(function(e,t,i){for(var n=this,o=[],r=this.sel,s=0;s<r.ranges.length;s++){var a=r.ranges[s];o[s]={from:a.from(),to:a.to(),text:n.splitLines(e[s]),origin:i}}for(var u=t&&"end"!=t&&qn(this,o,t),l=o.length-1;l>=0;l--)To(n,o[l]);u?xo(this,u):this.cm&&Ki(this.cm)}),undo:gn(function(){Bo(this,"undo")}),redo:gn(function(){Bo(this,"redo")}),undoSelection:gn(function(){Bo(this,"undo",!0)}),redoSelection:gn(function(){Bo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new eo(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:po(this.history.done),undone:po(this.history.undone)}},setHistory:function(e){var t=this.history=new eo(this.history.maxGeneration);t.done=po(e.done.slice(0),null,!0),t.undone=po(e.undone.slice(0),null,!0)},setGutterMarker:gn(function(e,t,i){return Vo(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&D(n)&&(e.gutterMarkers=null),!0})}),clearGutter:gn(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&Vo(t,i,"gutter",function(){return i.gutterMarkers[e]=null,D(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!B(this,e))return null;if(t=e,!(e=S(this,e)))return null}else if(null==(t=T(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:gn(function(t,i,n){return Vo(this,t,"gutter"==i?"gutter":"class",function(t){var o="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(t[o]){if(e(n).test(t[o]))return!1;t[o]+=" "+n}else t[o]=n;return!0})}),removeLineClass:gn(function(t,i,n){return Vo(this,t,"gutter"==i?"gutter":"class",function(t){var o="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass",r=t[o];if(!r)return!1;if(null==n)t[o]=null;else{var s=r.match(e(n));if(!s)return!1;var a=s.index+s[0].length;t[o]=r.slice(0,s.index)+(s.index&&a!=r.length?" ":"")+r.slice(a)||null}return!0})}),addLineWidget:gn(function(e,t,i){return qo(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Ko(this,H(this,e),H(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=H(this,e),Ko(this,e,e,i,"bookmark")},findMarksAt:function(e){var t=[],i=S(this,(e=H(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,i){e=H(this,e),t=H(this,t);var n=[],o=e.line;return this.iter(e.line,t.line+1,function(r){var s=r.markedSpans;if(s)for(var a=0;a<s.length;a++){var u=s[a];null!=u.to&&o==e.line&&e.ch>=u.to||null==u.from&&o!=e.line||null!=u.from&&o==t.line&&u.from>=t.ch||i&&!i(u.marker)||n.push(u.marker.parent||u.marker)}++o}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(o){var r=o.text.length+n;if(r>e)return t=e,!0;e-=r,++i}),H(this,P(i,t))},indexFromPos:function(e){var t=(e=H(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new La(F(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new La(F(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Xo(n,Yo(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof Gr&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i)if(t.linked[i].doc==e){t.linked.splice(i,1),e.unlinkDoc(t),Jo(Yo(t));break}if(e.history==this.history){var n=[e.id];Jn(e,function(e){return n.push(e.id)},!0),e.history=new eo(null),e.history.done=po(this.history.done,n),e.history.undone=po(this.history.undone,n)}},iterLinkedDocs:function(e){Jn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ia(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gn(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qn(this.cm))})}),La.prototype.eachLine=La.prototype.iter;for(var Pa=0,Na=!1,Ia={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ra=0;Ra<10;Ra++)Ia[Ra+48]=Ia[Ra+96]=String(Ra);for(var za=65;za<=90;za++)Ia[za]=String.fromCharCode(za);for(var ja=1;ja<=12;ja++)Ia[ja+111]=Ia[ja+63235]="F"+ja;var Va={};Va.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Va.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Va.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Va.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Va.default=Fs?Va.macDefault:Va.pcDefault;var Ha={selectAll:Fo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ws)},killLine:function(e){return dr(e,function(t){if(t.empty()){var i=S(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:P(t.head.line+1,0)}:{from:t.head,to:P(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return dr(e,function(t){return{from:P(t.from().line,0),to:H(e.doc,P(t.to().line+1,0))}})},delLineLeft:function(e){return dr(e,function(e){return{from:P(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return dr(e,function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}})},delWrappedLineRight:function(e){return dr(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(P(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(P(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return vr(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return br(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return yr(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},qs)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},qs)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?br(e,t.head):n},qs)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,o=0;o<i.length;o++){var r=i[o].from(),s=c(e.getLine(r.line),r.ch,n);t.push(f(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return pn(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var o=t[n].head,r=S(e.doc,o.line).text;if(r)if(o.ch==r.length&&(o=new P(o.line,o.ch-1)),o.ch>0)o=new P(o.line,o.ch+1),e.replaceRange(r.charAt(o.ch-1)+r.charAt(o.ch-2),P(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var s=S(e.doc,o.line-1).text;s&&(o=new P(o.line,1),e.replaceRange(r.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),P(o.line-1,s.length-1),o,"+transpose"))}i.push(new Aa(o,o))}e.setSelections(i)})},newlineAndIndent:function(e){return pn(e,function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Ki(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Wa=new Rs,Ua=null,qa=function(e,t,i){this.time=e,this.pos=t,this.button=i};qa.prototype.compare=function(e,t,i){return this.time+400>e&&0==N(t,this.pos)&&i==this.button};var Ka,Ga,Ya={toString:function(){return"CodeMirror.Init"}},Xa={},Ja={};Gr.defaults=Xa,Gr.optionHandlers=Ja;var Za=[];Gr.defineInitHook=function(e){return Za.push(e)};var $a=null,Qa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Rs,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Qa.prototype.init=function(e){function t(e){if(!Ae(o,e)){if(o.somethingSelected())Jr({lineWise:!1,text:o.getSelections()}),"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var t=es(o);Jr({lineWise:!0,text:t.text}),"cut"==e.type&&o.operation(function(){o.setSelections(t.ranges,0,Ws),o.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var i=$a.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var s=is(),a=s.firstChild;o.display.lineSpace.insertBefore(s,o.display.lineSpace.firstChild),a.value=$a.text.join("\n");var u=document.activeElement;Is(a),setTimeout(function(){o.display.lineSpace.removeChild(s),u.focus(),u==r&&n.showPrimarySelection()},50)}}var i=this,n=this,o=n.cm,r=n.div=e.lineDiv;ts(r,o.options.spellcheck),ea(r,"paste",function(e){Ae(o,e)||$r(e,o)||ys<=11&&setTimeout(fn(o,function(){return i.updateFromDOM()}),20)}),ea(r,"compositionstart",function(e){i.composing={data:e.data,done:!1}}),ea(r,"compositionupdate",function(e){i.composing||(i.composing={data:e.data,done:!1})}),ea(r,"compositionend",function(e){i.composing&&(e.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),ea(r,"touchstart",function(){return n.forceCompositionEnd()}),ea(r,"input",function(){i.composing||i.readFromDOMSoon()}),ea(r,"copy",t),ea(r,"cut",t)},Qa.prototype.prepareSelection=function(){var e=Si(this.cm,!1);return e.focus=this.cm.state.focused,e},Qa.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Qa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),n=i.from(),o=i.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var r=ls(t,e.anchorNode,e.anchorOffset),s=ls(t,e.focusNode,e.focusOffset);if(!r||r.bad||!s||s.bad||0!=N(j(r,s),n)||0!=N(z(r,s),o)){var a=t.display.view,u=n.line>=t.display.viewFrom&&rs(t,n)||{node:a[0].measure.map[2],offset:0},l=o.line<t.display.viewTo&&rs(t,o);if(!l){var h=a[a.length-1].measure,c=h.maps?h.maps[h.maps.length-1]:h.map;l={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}if(u&&l){var d,p=e.rangeCount&&e.getRangeAt(0);try{d=Bs(u.node,u.offset,l.offset,l.node)}catch(e){}d&&(!ps&&t.state.focused?(e.collapse(u.node,u.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),p&&null==e.anchorNode?e.addRange(p):ps&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Qa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Qa.prototype.showMultipleSelections=function(e){i(this.cm.display.cursorDiv,e.cursors),i(this.cm.display.selectionDiv,e.selection)},Qa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Qa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return r(this.div,t)},Qa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Qa.prototype.blur=function(){this.div.blur()},Qa.prototype.getField=function(){return this.div},Qa.prototype.supportsTouch=function(){return!0},Qa.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():pn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Qa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Qa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Ss&&ws&&this.cm.options.gutters.length&&ss(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=ls(t,e.anchorNode,e.anchorOffset),n=ls(t,e.focusNode,e.focusOffset);i&&n&&pn(t,function(){wo(t.doc,jn(i,n),Ws),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Qa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,i=e.doc.sel.primary(),n=i.from(),o=i.to();if(0==n.ch&&n.line>e.firstLine()&&(n=P(n.line-1,S(e.doc,n.line-1).length)),o.ch==S(e.doc,o.line).text.length&&o.line<e.lastLine()&&(o=P(o.line+1,0)),n.line<t.viewFrom||o.line>t.viewTo-1)return!1;var r,s,a;n.line==t.viewFrom||0==(r=_i(e,n.line))?(s=T(t.view[0].line),a=t.view[0].node):(s=T(t.view[r].line),a=t.view[r-1].node.nextSibling);var u,l,h=_i(e,o.line);if(h==t.view.length-1?(u=t.viewTo-1,l=t.lineDiv.lastChild):(u=T(t.view[h+1].line)-1,l=t.view[h+1].node.previousSibling),!a)return!1;for(var c=e.doc.splitLines(us(e,a,l,s,u)),d=A(e.doc,P(s,0),P(u,S(e.doc,u).text.length));c.length>1&&d.length>1;)if(m(c)==m(d))c.pop(),d.pop(),u--;else{if(c[0]!=d[0])break;c.shift(),d.shift(),s++}for(var p=0,f=0,g=c[0],v=d[0],y=Math.min(g.length,v.length);p<y&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var b=m(c),x=m(d),w=Math.min(b.length-(1==c.length?p:0),x.length-(1==d.length?p:0));f<w&&b.charCodeAt(b.length-f-1)==x.charCodeAt(x.length-f-1);)++f;if(1==c.length&&1==d.length&&s==n.line)for(;p&&p>n.ch&&b.charCodeAt(b.length-f-1)==x.charCodeAt(x.length-f-1);)p--,f++;c[c.length-1]=b.slice(0,b.length-f).replace(/^\u200b+/,""),c[0]=c[0].slice(p).replace(/\u200b+$/,"");var D=P(s,p),C=P(u,d.length?m(d).length-f:0);return c.length>1||c[0]||N(D,C)?(Io(e.doc,c,D,C,"+input"),!0):void 0},Qa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qa.prototype.reset=function(){this.forceCompositionEnd()},Qa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Qa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Qa.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||pn(this.cm,function(){return vn(e.cm)})},Qa.prototype.setUneditable=function(e){e.contentEditable="false"},Qa.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||fn(this.cm,Zr)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Qa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Qa.prototype.onContextMenu=function(){},Qa.prototype.resetPosition=function(){},Qa.prototype.needsContentAttribute=!0;var eu=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Rs,this.hasSelection=!1,this.composing=null};eu.prototype.init=function(e){function t(e){if(!Ae(o,e)){if(o.somethingSelected())Jr({lineWise:!1,text:o.getSelections()});else{if(!o.options.lineWiseCopyCut)return;var t=es(o);Jr({lineWise:!0,text:t.text}),"cut"==e.type?o.setSelections(t.ranges,null,Ws):(n.prevInput="",r.value=t.text.join("\n"),Is(r))}"cut"==e.type&&(o.state.cutIncoming=!0)}}var i=this,n=this,o=this.cm;this.createField(e);var r=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Es&&(r.style.width="0px"),ea(r,"input",function(){vs&&ys>=9&&i.hasSelection&&(i.hasSelection=null),n.poll()}),ea(r,"paste",function(e){Ae(o,e)||$r(e,o)||(o.state.pasteIncoming=!0,n.fastPoll())}),ea(r,"cut",t),ea(r,"copy",t),ea(e.scroller,"paste",function(t){Pt(e,t)||Ae(o,t)||(o.state.pasteIncoming=!0,n.focus())}),ea(e.lineSpace,"selectstart",function(t){Pt(e,t)||Oe(t)}),ea(r,"compositionstart",function(){var e=o.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:o.markText(e,o.getCursor("to"),{className:"CodeMirror-composing"})}}),ea(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},eu.prototype.createField=function(e){this.wrapper=is(),this.textarea=this.wrapper.firstChild},eu.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=Si(e);if(e.options.moveInputWithCursor){var o=ui(e,i.sel.primary().head,"div"),r=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+s.top-r.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+s.left-r.left))}return n},eu.prototype.showSelection=function(e){var t=this.cm.display;i(t.cursorDiv,e.cursors),i(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},eu.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&Is(this.textarea),vs&&ys>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",vs&&ys>=9&&(this.hasSelection=null))}},eu.prototype.getField=function(){return this.textarea},eu.prototype.supportsTouch=function(){return!1},eu.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!As||s()!=this.textarea))try{this.textarea.focus()}catch(e){}},eu.prototype.blur=function(){this.textarea.blur()},eu.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},eu.prototype.receivedFocus=function(){this.slowPoll()},eu.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},eu.prototype.fastPoll=function(){function e(){i.poll()||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))}var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,e)},eu.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||na(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=i.value;if(o==n&&!t.somethingSelected())return!1;if(vs&&ys>=9&&this.hasSelection===o||Fs&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=o.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var s=0,a=Math.min(n.length,o.length);s<a&&n.charCodeAt(s)==o.charCodeAt(s);)++s;return pn(t,function(){Zr(t,o.slice(s),n.length-s,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},eu.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},eu.prototype.onKeyPress=function(){vs&&ys>=9&&(this.hasSelection=null),this.fastPoll()},eu.prototype.onContextMenu=function(e){function t(){if(null!=s.selectionStart){var e=o.somethingSelected(),t="​"+(e?s.value:"");s.value="⇚",s.value=t,n.prevInput=e?"":"​",s.selectionStart=1,s.selectionEnd=t.length,r.selForContextMenu=o.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=h,s.style.cssText=l,vs&&ys<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=s.selectionStart){(!vs||vs&&ys<9)&&t();var e=0,i=function(){r.selForContextMenu==o.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==n.prevInput?fn(o,Fo)(o):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}var n=this,o=n.cm,r=o.display,s=n.textarea,a=ki(o,e),u=r.scroller.scrollTop;if(a&&!Ds){o.options.resetSelectionOnContextMenu&&-1==o.doc.sel.contains(a)&&fn(o,wo)(o.doc,jn(a),Ws);var l=s.style.cssText,h=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var c=n.wrapper.getBoundingClientRect();s.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-c.top-5)+"px; left: "+(e.clientX-c.left-5)+"px;\n      z-index: 1000; background: "+(vs?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(bs&&(d=window.scrollY),r.input.focus(),bs&&window.scrollTo(null,d),r.input.reset(),o.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,r.selForContextMenu=o.doc.sel,clearTimeout(r.detectingSelectAll),vs&&ys>=9&&t(),Ps){Pe(e);var p=function(){Ee(window,"mouseup",p),setTimeout(i,20)};ea(window,"mouseup",p)}else setTimeout(i,50)}},eu.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},eu.prototype.setUneditable=function(){},eu.prototype.needsContentAttribute=!1,function(e){function t(t,n,o,r){e.defaults[t]=n,o&&(i[t]=r?function(e,t,i){i!=Ya&&o(e,t,i)}:o)}var i=e.optionHandlers;e.defineOption=t,e.Init=Ya,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Kn(e)},!0),t("indentUnit",2,Kn,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Gn(e),ti(e),vn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var r=e.text.indexOf(t,o);if(-1==r)break;o=r+t.length,i.push(P(n,r))}n++});for(var o=i.length-1;o>=0;o--)Io(e.doc,t,i[o],P(i[o].line,i[o].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=Ya&&e.refresh()}),t("specialCharPlaceholder",lt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",As?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Ts),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Wr(e),Ur(e)},!0),t("keyMap","default",function(e,t,i){var n=cr(t),o=i!=Ya&&cr(i);o&&o.detach&&o.detach(e,n),n.attach&&n.attach(e,o||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Kr,!0),t("gutters",[],function(e){Pn(e.options),Ur(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?wi(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return tn(e)},!0),t("scrollbarStyle","native",function(e){on(e),tn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Pn(e.options),Ur(e)},!0),t("firstLineNumber",1,Ur,!0),t("lineNumberFormatter",function(e){return e},Ur,!0),t("showCursorWhenSelecting",!1,Ei,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,t){"nocursor"==t&&(Pi(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,qr),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Ei,!0),t("singleCursorHeightPerLine",!0,Ei,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Gn,!0),t("addModeClass",!1,Gn,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Gn,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),t("phrases",null)}(Gr),function(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,i){var n=this.options,o=n[e];n[e]==i&&"mode"!=e||(n[e]=i,t.hasOwnProperty(e)&&fn(this,t[e])(this,i,o),Se(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](cr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:mn(function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:n,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},function(e){return e.priority}),this.state.modeGen++,vn(this)}),removeOverlay:mn(function(e){for(var t=this,i=this.state.overlays,n=0;n<i.length;++n){var o=i[n].modeSpec;if(o==e||"string"==typeof e&&o.name==e)return i.splice(n,1),t.state.modeGen++,void vn(t)}}),indentLine:mn(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),B(this.doc,e)&&Xr(this,e,t,i)}),indentSelection:mn(function(e){for(var t=this,i=this.doc.sel.ranges,n=-1,o=0;o<i.length;o++){var r=i[o];if(r.empty())r.head.line>n&&(Xr(t,r.head.line,e,!0),n=r.head.line,o==t.doc.sel.primIndex&&Ki(t));else{var s=r.from(),a=r.to(),u=Math.max(n,s.line);n=Math.min(t.lastLine(),a.line-(a.ch?0:1))+1;for(var l=u;l<n;++l)Xr(t,l,e);var h=t.doc.sel.ranges;0==s.ch&&i.length==h.length&&h[o].from().ch>0&&vo(t.doc,o,new Aa(s,h[o].to()),Ws)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,P(e),t,!0)},getTokenTypeAt:function(e){e=H(this.doc,e);var t,i=Xe(this,S(this.doc,e.line)),n=0,o=(i.length-1)/2,r=e.ch;if(0==r)t=i[2];else for(;;){var s=n+o>>1;if((s?i[2*s-1]:0)>=r)o=s;else{if(!(i[2*s+1]<r)){t=i[2*s+2];break}n=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,o=[];if(!i.hasOwnProperty(t))return o;var r=i[t],s=this.getModeAt(e);if("string"==typeof s[t])r[s[t]]&&o.push(r[s[t]]);else if(s[t])for(var a=0;a<s[t].length;a++){var u=r[s[t][a]];u&&o.push(u)}else s.helperType&&r[s.helperType]?o.push(r[s.helperType]):r[s.name]&&o.push(r[s.name]);for(var l=0;l<r._global.length;l++){var h=r._global[l];h.pred(s,n)&&-1==d(o,h.val)&&o.push(h.val)}return o},getStateAfter:function(e,t){var i=this.doc;return e=V(i,null==e?i.first+i.size-1:e),Je(this,e+1,t).state},cursorCoords:function(e,t){var i,n=this.doc.sel.primary();return i=null==e?n.head:"object"==typeof e?H(this.doc,e):e?n.from():n.to(),ui(this,i,t||"page")},charCoords:function(e,t){return ai(this,H(this.doc,e),t||"page")},coordsChar:function(e,t){return e=si(this,e,t||"page"),ci(this,e.left,e.top)},lineAtHeight:function(e,t){return e=si(this,{top:e,left:0},t||"page").top,O(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,o=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,o=!0),n=S(this.doc,e)}else n=e;return ri(this,n,{top:0,left:0},t||"page",i||o).top+(o?this.doc.height-be(n):0)},defaultTextHeight:function(){return yi(this.display)},defaultCharWidth:function(){return bi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,o){var r=this.display,s=(e=ui(this,H(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),r.sizer.appendChild(t),"over"==n)s=e.top;else if("above"==n||"near"==n){var u=Math.max(r.wrapper.clientHeight,this.doc.height),l=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(s=e.bottom),a+t.offsetWidth>l&&(a=l-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==o?(a=r.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(r.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),i&&Wi(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:mn(Er),triggerOnKeyPress:mn(Fr),triggerOnKeyUp:Ar,triggerOnMouseDown:mn(Tr),execCommand:function(e){if(Ha.hasOwnProperty(e))return Ha[e].call(null,this)},triggerElectric:mn(function(e){Qr(this,e)}),findPosH:function(e,t,i,n){var o=this,r=1;t<0&&(r=-1,t=-t);for(var s=H(this.doc,e),a=0;a<t&&!(s=ns(o.doc,s,r,i,n)).hitSide;++a);return s},moveH:mn(function(e,t){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?ns(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()},qs)}),deleteH:mn(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):dr(this,function(i){var o=ns(n,i.head,e,t,!1);return e<0?{from:o,to:i.head}:{from:i.head,to:o}})}),findPosV:function(e,t,i,n){var o=this,r=1,s=n;t<0&&(r=-1,t=-t);for(var a=H(this.doc,e),u=0;u<t;++u){var l=ui(o,a,"div");if(null==s?s=l.left:l.left=s,(a=os(o,l,r,i)).hitSide)break}return a},moveV:mn(function(e,t){var i=this,n=this.doc,o=[],r=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(r)return e<0?s.from():s.to();var a=ui(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),o.push(a.left);var u=os(i,a,e,t);return"page"==t&&s==n.sel.primary()&&qi(i,ai(i,u,"div").top-a.top),u},qs),o.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=o[s]}),findWordAt:function(e){var t=S(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var r=t.charAt(i),s=w(r,o)?function(e){return w(e,o)}:/\s/.test(r)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!w(e)};i>0&&s(t.charAt(i-1));)--i;for(;n<t.length&&s(t.charAt(n));)++n}return new Aa(P(e.line,i),P(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):Ns(this.display.cursorDiv,"CodeMirror-overwrite"),Se(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==s()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:mn(function(e,t){Gi(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-zt(this)-this.display.barHeight,width:e.scrollWidth-zt(this)-this.display.barWidth,clientHeight:Vt(this),clientWidth:jt(this)}},scrollIntoView:mn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:P(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Yi(this,e):Ji(this,e.from,e.to,e.margin)}),setSize:mn(function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&ei(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){yn(i,o,"widget");break}++o}),this.curOp.forceUpdate=!0,Se(this,"refresh",this)}),operation:function(e){return pn(this,e)},startOperation:function(){return rn(this)},endOperation:function(){return sn(this)},refresh:mn(function(){var e=this.display.cachedTextHeight;vn(this),this.curOp.forceUpdate=!0,ti(this),Gi(this,this.doc.scrollLeft,this.doc.scrollTop),On(this),(null==e||Math.abs(e-yi(this.display))>.5)&&Ci(this),Se(this,"refresh",this)}),swapDoc:mn(function(e){var t=this.doc;return t.cm=null,Zn(this,e),ti(this),this.display.input.reset(),Gi(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Te(e),e.registerHelper=function(t,n,o){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][n]=o},e.registerGlobalHelper=function(t,n,o,r){e.registerHelper(t,n,r),i[t]._global.push({pred:o,val:r})}}(Gr);var tu="iter insert remove copy getEditor constructor".split(" ");for(var iu in La.prototype)La.prototype.hasOwnProperty(iu)&&d(tu,iu)<0&&(Gr.prototype[iu]=function(e){return function(){return e.apply(this.doc,arguments)}}(La.prototype[iu]));return Te(La),Gr.inputStyles={textarea:eu,contenteditable:Qa},Gr.defineMode=function(e){Gr.defaults.mode||"null"==e||(Gr.defaults.mode=e),Ve.apply(this,arguments)},Gr.defineMIME=function(e,t){aa[e]=t},Gr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Gr.defineMIME("text/plain","null"),Gr.defineExtension=function(e,t){Gr.prototype[e]=t},Gr.defineDocExtension=function(e,t){La.prototype[e]=t},Gr.fromTextArea=function(e,t){function i(){e.value=u.getValue()}if(t=t?h(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=s();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var o;if(e.form&&(ea(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var r=e.form;o=r.submit;try{var a=r.submit=function(){i(),r.submit=o,r.submit(),r.submit=a}}catch(e){}}t.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ee(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var u=Gr(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return u},function(e){e.off=Ee,e.on=ea,e.wheelEventPixels=In,e.Doc=La,e.splitLines=ia,e.countColumn=c,e.findColumn=p,e.isWordChar=x,e.Pass=Hs,e.signal=Se,e.Line=pa,e.changeEnd=Vn,e.scrollbarModel=Da,e.Pos=P,e.cmpPos=N,e.modes=sa,e.mimeModes=aa,e.resolveMode=He,e.getMode=We,e.modeExtensions=ua,e.extendMode=Ue,e.copyState=qe,e.startState=Ge,e.innerMode=Ke,e.commands=Ha,e.keyMap=Va,e.keyName=hr,e.isModifierKey=ur,e.lookupKey=ar,e.normalizeKeyMap=sr,e.StringStream=la,e.SharedTextMarker=Oa,e.TextMarker=Ta,e.LineWidget=Fa,e.e_preventDefault=Oe,e.e_stopPropagation=Be,e.e_stop=Pe,e.addClass=a,e.contains=r,e.rmClass=Ns,e.keyNames=Ia}(Gr),Gr.version="5.42.0",Gr}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("esprima@3.1.3#dist/esprima",[],t):"object"==typeof exports?exports.esprima=t():e.esprima=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var n=i(1),o=i(3),r=i(11),s=i(15);t.parse=function(e,t,i){var s=null,a=function(e,t){i&&i(e,t),s&&s.visit(e,t)},u="function"==typeof i?a:null,l=!1;if(t){l="boolean"==typeof t.comment&&t.comment;var h="boolean"==typeof t.attachComment&&t.attachComment;(l||h)&&((s=new n.CommentHandler).attach=h,t.comment=!0,u=a)}var c,d=(c=t&&"boolean"==typeof t.jsx&&t.jsx?new r.JSXParser(e,t,u):new o.Parser(e,t,u)).parseProgram();return l&&(d.comments=s.comments),c.config.tokens&&(d.tokens=c.tokens),c.config.tolerant&&(d.errors=c.errorHandler.errors),d},t.tokenize=function(e,t,i){var n,o=new s.Tokenizer(e,t);n=[];try{for(;;){var r=o.getNextToken();if(!r)break;i&&(r=i(r)),n.push(r)}}catch(e){o.errorHandler.tolerate(e)}return o.errorHandler.tolerant&&(n.errors=o.errors()),n};var a=i(2);t.Syntax=a.Syntax,t.version="3.1.3"},function(e,t,i){"use strict";var n=i(2),o=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===n.Syntax.BlockStatement&&0===e.body.length){for(var i=[],o=this.leading.length-1;o>=0;--o){var r=this.leading[o];t.end.offset>=r.start&&(i.unshift(r.comment),this.leading.splice(o,1),this.trailing.splice(o,1))}i.length&&(e.innerComments=i)}},e.prototype.findTrailingComments=function(e,t){var i=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var o=this.trailing[n];o.start>=t.end.offset&&i.unshift(o.comment)}return this.trailing.length=0,i}var r=this.stack[this.stack.length-1];if(r&&r.node.trailingComments){var s=r.node.trailingComments[0];s&&s.range[0]>=t.end.offset&&(i=r.node.trailingComments,delete r.node.trailingComments)}return i},e.prototype.findLeadingComments=function(e,t){for(var i,n=[];this.stack.length>0&&(s=this.stack[this.stack.length-1])&&s.start>=t.start.offset;)i=this.stack.pop().node;if(i){for(r=(i.leadingComments?i.leadingComments.length:0)-1;r>=0;--r){var o=i.leadingComments[r];o.range[1]<=t.start.offset&&(n.unshift(o),i.leadingComments.splice(r,1))}return i.leadingComments&&0===i.leadingComments.length&&delete i.leadingComments,n}for(var r=this.leading.length-1;r>=0;--r){var s=this.leading[r];s.start<=t.start.offset&&(n.unshift(s.comment),this.leading.splice(r,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===n.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var i=this.findTrailingComments(e,t),o=this.findLeadingComments(e,t);o.length>0&&(e.leadingComments=o),i.length>0&&(e.trailingComments=i),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var i="L"===e.type[0]?"Line":"Block",n={type:i,value:e.value};if(e.range&&(n.range=e.range),e.loc&&(n.loc=e.loc),this.comments.push(n),this.attach){var o={comment:{type:i,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(o.comment.loc=e.loc),e.type=i,this.leading.push(o),this.trailing.push(o)}},e.prototype.visit=function(e,t){"LineComment"===e.type?this.visitComment(e,t):"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=o},function(e,t){"use strict";t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,i){"use strict";var n=i(4),o=i(5),r=i(6),s=i(7),a=i(8),u=i(2),l=i(10),h=function(){function e(e,t,i){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=i,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.sourceType=t&&"module"===t.sourceType?"module":"script",this.lookahead=null,this.hasLineTerminator=!1,this.context={allowIn:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:"module"===this.sourceType},this.tokens=[],this.startMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.lastMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.nextToken(),this.lastMarker={index:this.scanner.index,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,function(e,t){return n.assert(t<o.length,"Message reference must be in range"),o[t]}),s=this.lastMarker.index,a=this.lastMarker.lineNumber,u=this.lastMarker.index-this.lastMarker.lineStart+1;throw this.errorHandler.createError(s,a,u,r)},e.prototype.tolerateError=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,function(e,t){return n.assert(t<o.length,"Message reference must be in range"),o[t]}),s=this.lastMarker.index,a=this.scanner.lineNumber,u=this.lastMarker.index-this.lastMarker.lineStart+1;this.errorHandler.tolerateError(s,a,u,r)},e.prototype.unexpectedTokenError=function(e,t){var i,n=t||o.Messages.UnexpectedToken;if(e?(t||(n=e.type===s.Token.EOF?o.Messages.UnexpectedEOS:e.type===s.Token.Identifier?o.Messages.UnexpectedIdentifier:e.type===s.Token.NumericLiteral?o.Messages.UnexpectedNumber:e.type===s.Token.StringLiteral?o.Messages.UnexpectedString:e.type===s.Token.Template?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,e.type===s.Token.Keyword&&(this.scanner.isFutureReservedWord(e.value)?n=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(n=o.Messages.StrictReservedWord))),i=e.type===s.Token.Template?e.value.raw:e.value):i="ILLEGAL",n=n.replace("%0",i),e&&"number"==typeof e.lineNumber){var r=e.start,a=e.lineNumber,u=e.start-this.lastMarker.lineStart+1;return this.errorHandler.createError(r,a,u,n)}var r=this.lastMarker.index,a=this.lastMarker.lineNumber,u=r-this.lastMarker.lineStart+1;return this.errorHandler.createError(r,a,u,n)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var i=e[t],n=void 0;n={type:i.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(i.slice[0],i.slice[1])},this.config.range&&(n.range=i.range),this.config.loc&&(n.loc=i.loc);var o={start:{line:i.loc.start.line,column:i.loc.start.column,offset:i.range[0]},end:{line:i.loc.end.line,column:i.loc.end.column,offset:i.range[1]}};this.delegate(n,o)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t;return t={type:s.TokenName[e.type],value:this.getTokenRaw(e)},this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),e.regex&&(t.regex=e.regex),t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var t;return t=this.scanner.lex(),this.hasLineTerminator=!(!e||!t)&&e.lineNumber!==t.lineNumber,t&&this.context.strict&&t.type===s.Token.Identifier&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=s.Token.Keyword),this.lookahead=t,this.config.tokens&&t.type!==s.Token.EOF&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart}},e.prototype.startNode=function(e){return{index:e.start,line:e.lineNumber,column:e.start-e.lineStart}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var i={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart,offset:this.lastMarker.index}};this.delegate(t,i)}return t},e.prototype.expect=function(e){var t=this.nextToken();t.type===s.Token.Punctuator&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;e.type===s.Token.Punctuator&&","===e.value?this.nextToken():e.type===s.Token.Punctuator&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();t.type===s.Token.Keyword&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return this.lookahead.type===s.Token.Punctuator&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return this.lookahead.type===s.Token.Keyword&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return this.lookahead.type===s.Token.Identifier&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(this.lookahead.type!==s.Token.Punctuator)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,i=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var o=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=i,this.context.firstCoverInitializedNameError=n,o},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,i=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var o=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&i,this.context.firstCoverInitializedNameError=n||this.context.firstCoverInitializedNameError,o},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===s.Token.EOF||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.lineNumber=this.startMarker.lineNumber,this.lastMarker.lineStart=this.startMarker.lineStart)},e.prototype.parsePrimaryExpression=function(){var e,t,i,n=this.createNode();switch(this.lookahead.type){case s.Token.Identifier:"module"===this.sourceType&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.finalize(n,new l.Identifier(this.nextToken().value));break;case s.Token.NumericLiteral:case s.Token.StringLiteral:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),i=this.getTokenRaw(t),e=this.finalize(n,new l.Literal(t.value,i));break;case s.Token.BooleanLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,(t=this.nextToken()).value="true"===t.value,i=this.getTokenRaw(t),e=this.finalize(n,new l.Literal(t.value,i));break;case s.Token.NullLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,(t=this.nextToken()).value=null,i=this.getTokenRaw(t),e=this.finalize(n,new l.Literal(t.value,i));break;case s.Token.Template:e=this.parseTemplateLiteral();break;case s.Token.Punctuator:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),i=this.getTokenRaw(t),e=this.finalize(n,new l.RegexLiteral(t.value,i,t.regex));break;default:this.throwUnexpectedToken(this.nextToken())}break;case s.Token.Keyword:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(n,new l.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(n,new l.ThisExpression)):this.matchKeyword("class")?e=this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new l.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var i=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(i)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new l.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,i=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,i},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!1;var i=this.parseFormalParameters(),n=this.parsePropertyMethod(i);return this.context.allowYield=t,this.finalize(e,new l.FunctionExpression(null,i.params,n,!1))},e.prototype.parseObjectPropertyKey=function(){var e=this.createNode(),t=this.nextToken(),i=null;switch(t.type){case s.Token.StringLiteral:case s.Token.NumericLiteral:this.context.strict&&t.octal&&this.tolerateUnexpectedToken(t,o.Messages.StrictOctalLiteral);var n=this.getTokenRaw(t);i=this.finalize(e,new l.Literal(t.value,n));break;case s.Token.Identifier:case s.Token.BooleanLiteral:case s.Token.NullLiteral:case s.Token.Keyword:i=this.finalize(e,new l.Identifier(t.value));break;case s.Token.Punctuator:"["===t.value?(i=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):this.throwUnexpectedToken(t);break;default:this.throwUnexpectedToken(t)}return i},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,i,n,r=this.createNode(),a=this.lookahead,u=!1,h=!1,c=!1;a.type===s.Token.Identifier?(this.nextToken(),i=this.finalize(r,new l.Identifier(a.value))):this.match("*")?this.nextToken():(u=this.match("["),i=this.parseObjectPropertyKey());var d=this.qualifiedPropertyName(this.lookahead);if(a.type===s.Token.Identifier&&"get"===a.value&&d)t="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,n=this.parseGetterMethod();else if(a.type===s.Token.Identifier&&"set"===a.value&&d)t="set",u=this.match("["),i=this.parseObjectPropertyKey(),n=this.parseSetterMethod();else if(a.type===s.Token.Punctuator&&"*"===a.value&&d)t="init",u=this.match("["),i=this.parseObjectPropertyKey(),n=this.parseGeneratorMethod(),h=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":"))!u&&this.isPropertyKey(i,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),n=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))n=this.parsePropertyMethodFunction(),h=!0;else if(a.type===s.Token.Identifier){var p=this.finalize(r,new l.Identifier(a.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),c=!0;var f=this.isolateCoverGrammar(this.parseAssignmentExpression);n=this.finalize(r,new l.AssignmentPattern(p,f))}else c=!0,n=p}else this.throwUnexpectedToken(this.nextToken());return this.finalize(r,new l.Property(t,i,u,n,h,c))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],i={value:!1};!this.match("}");)t.push(this.parseObjectProperty(i)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new l.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),i={raw:t.value.raw,cooked:t.value.cooked};return this.finalize(e,new l.TemplateElement(i,t.tail))},e.prototype.parseTemplateElement=function(){this.lookahead.type!==s.Token.Template&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),i={raw:t.value.raw,cooked:t.value.cooked};return this.finalize(e,new l.TemplateElement(i,t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],i=[],n=this.parseTemplateHead();for(i.push(n);!n.tail;)t.push(this.parseExpression()),n=this.parseTemplateElement(),i.push(n);return this.finalize(e,new l.TemplateLiteral(i,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:for(e.type=u.Syntax.ArrayPattern,t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:e.type=u.Syntax.ObjectPattern;for(var t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[]};else{var t=this.lookahead,i=[];if(this.match("..."))e=this.parseRestElement(i),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[e]};else{var n=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var o=[];for(this.context.isAssignmentTarget=!1,o.push(e);this.startMarker.index<this.scanner.length&&this.match(",");){if(this.nextToken(),this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),o.push(this.parseRestElement(i)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,r=0;r<o.length;r++)this.reinterpretExpressionAsPattern(o[r]);n=!0,e={type:"ArrowParameterPlaceHolder",params:o}}else o.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(n)break}n||(e=this.finalize(this.startNode(t),new l.SequenceExpression(o)))}if(!n){if(this.expect(")"),this.match("=>")&&(e.type===u.Syntax.Identifier&&"yield"===e.name&&(n=!0,e={type:"ArrowParameterPlaceHolder",params:[e]}),!n)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(var r=0;r<e.expressions.length;r++)this.reinterpretExpressionAsPattern(e.expressions[r]);else this.reinterpretExpressionAsPattern(e);e={type:"ArrowParameterPlaceHolder",params:e.type===u.Syntax.SequenceExpression?e.expressions:[e]}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;this.expectCommaSeparator()}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return e.type===s.Token.Identifier||e.type===s.Token.Keyword||e.type===s.Token.BooleanLiteral||e.type===s.Token.NullLiteral},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new l.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e=this.createNode(),t=this.parseIdentifierName();n.assert("new"===t.name,"New expression must start with `new`");var i;if(this.match("."))if(this.nextToken(),this.lookahead.type===s.Token.Identifier&&this.context.inFunctionBody&&"target"===this.lookahead.value){var o=this.parseIdentifierName();i=new l.MetaProperty(t,o)}else this.throwUnexpectedToken(this.lookahead);else{var r=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];i=new l.NewExpression(r,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(e,i)},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e=this.lookahead,t=this.context.allowIn;this.context.allowIn=!0;var i;for(this.matchKeyword("super")&&this.context.inFunctionBody?(i=this.createNode(),this.nextToken(),i=this.finalize(i,new l.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):i=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),o=this.parseIdentifierName(),i=this.finalize(this.startNode(e),new l.StaticMemberExpression(i,o));else if(this.match("(")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var n=this.parseArguments();i=this.finalize(this.startNode(e),new l.CallExpression(i,n))}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var o=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),i=this.finalize(this.startNode(e),new l.ComputedMemberExpression(i,o))}else{if(this.lookahead.type!==s.Token.Template||!this.lookahead.head)break;var r=this.parseTemplateLiteral();i=this.finalize(this.startNode(e),new l.TaggedTemplateExpression(i,r))}return this.context.allowIn=t,i},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new l.Super)},e.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),i=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),t=this.finalize(e,new l.ComputedMemberExpression(t,i));else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();t=this.finalize(e,new l.StaticMemberExpression(t,i))}else{if(this.lookahead.type!==s.Token.Template||!this.lookahead.head)break;var o=this.parseTemplateLiteral();t=this.finalize(e,new l.TaggedTemplateExpression(t,o))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var i=this.startNode(t),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),a=!0,e=this.finalize(i,new l.UpdateExpression(n.value,e,a)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===s.Token.Punctuator&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=this.nextToken().value,a=!1;e=this.finalize(this.startNode(t),new l.UpdateExpression(r,e,a))}return e},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),i=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new l.UnaryExpression(i.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=t,n=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new l.BinaryExpression("**",i,n))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return e.type===s.Token.Punctuator?this.operatorPrecedence[t]||0:e.type===s.Token.Keyword&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),i=this.lookahead,n=this.binaryPrecedence(i);if(n>0){this.nextToken(),i.prec=n,this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var o=[e,this.lookahead],r=t,s=this.isolateCoverGrammar(this.parseExponentiationExpression),a=[r,i,s];!((n=this.binaryPrecedence(this.lookahead))<=0);){for(;a.length>2&&n<=a[a.length-2].prec;){s=a.pop();var u=a.pop().value;r=a.pop(),o.pop(),c=this.startNode(o[o.length-1]),a.push(this.finalize(c,new l.BinaryExpression(u,r,s)))}(i=this.nextToken()).prec=n,a.push(i),o.push(this.lookahead),a.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var h=a.length-1;for(t=a[h],o.pop();h>1;){var c=this.startNode(o.pop());t=this.finalize(c,new l.BinaryExpression(a[h-1].value,a[h-2],t)),h-=2}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var i=this.context.allowIn;this.context.allowIn=!0;var n=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=i,this.expect(":");var o=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new l.ConditionalExpression(t,n,o)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case u.Syntax.ArrayPattern:for(i=0;i<t.elements.length;i++)null!==t.elements[i]&&this.checkPatternParam(e,t.elements[i]);break;case u.Syntax.YieldExpression:break;default:n.assert(t.type===u.Syntax.ObjectPattern,"Invalid type");for(var i=0;i<t.properties.length;i++)this.checkPatternParam(e,t.properties[i].value)}},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,i=[e];switch(e.type){case u.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":i=e.params;break;default:return null}for(t={paramSet:{}},n=0;n<i.length;++n)(r=i[n]).type===u.Syntax.AssignmentPattern&&r.right.type===u.Syntax.YieldExpression&&(r.right.argument&&this.throwUnexpectedToken(this.lookahead),r.right.type=u.Syntax.Identifier,r.right.name="yield",delete r.right.argument,delete r.right.delegate),this.checkPatternParam(t,r),i[n]=r;if(this.context.strict||!this.context.allowYield)for(var n=0;n<i.length;++n){var r=i[n];r.type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var s=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(s,t.message)}return{params:i,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,i=t;if("ArrowParameterPlaceHolder"===(e=this.parseConditionalExpression()).type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=this.reinterpretAsCoverFormalsList(e);if(n){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var r=this.context.strict,s=this.context.allowYield;this.context.allowYield=!0;var a=this.startNode(t);this.expect("=>");var h=this.match("{")?this.parseFunctionSourceElements():this.isolateCoverGrammar(this.parseAssignmentExpression),c=h.type!==u.Syntax.BlockStatement;this.context.strict&&n.firstRestricted&&this.throwUnexpectedToken(n.firstRestricted,n.message),this.context.strict&&n.stricted&&this.tolerateUnexpectedToken(n.stricted,n.message),e=this.finalize(a,new l.ArrowFunctionExpression(n.params,h,c)),this.context.strict=r,this.context.allowYield=s}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var d=e;this.scanner.isRestrictedWord(d.name)&&this.tolerateUnexpectedToken(i,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(d.name)&&this.tolerateUnexpectedToken(i,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),i=this.nextToken();var p=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new l.AssignmentExpression(i.value,e,p)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var i=[];for(i.push(t);this.startMarker.index<this.scanner.length&&this.match(",");)this.nextToken(),i.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new l.SequenceExpression(i))}return t},e.prototype.parseStatementListItem=function(){var e=null;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===s.Token.Keyword)switch(this.lookahead.value){case"export":"module"!==this.sourceType&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":"module"!==this.sourceType&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new l.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var i=this.createNode(),n=[],r=this.parsePattern(n,e);this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var s=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.expect("="),s=this.isolateCoverGrammar(this.parseAssignmentExpression)):(!t.inFor&&r.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),s=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(i,new l.VariableDeclarator(r,s))},e.prototype.parseBindingList=function(e,t){for(var i=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),i.push(this.parseLexicalBinding(e,t));return i},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.index,t=this.scanner.lineNumber,i=this.scanner.lineStart;this.collectComments();var n=this.scanner.lex();return this.scanner.index=e,this.scanner.lineNumber=t,this.scanner.lineStart=i,n.type===s.Token.Identifier||n.type===s.Token.Punctuator&&"["===n.value||n.type===s.Token.Punctuator&&"{"===n.value||n.type===s.Token.Keyword&&"let"===n.value||n.type===s.Token.Keyword&&"yield"===n.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),i=this.nextToken().value;n.assert("let"===i||"const"===i,"Lexical declaration must be either let or const");var o=this.parseBindingList(i,e);return this.consumeSemicolon(),this.finalize(t,new l.VariableDeclaration(o,i))},e.prototype.parseBindingRestElement=function(e,t){var i=this.createNode();this.expect("...");var n=this.parsePattern(e,t);return this.finalize(i,new l.RestElement(n))},e.prototype.parseArrayPattern=function(e,t){var i=this.createNode();this.expect("[");for(var n=[];!this.match("]");)if(this.match(","))this.nextToken(),n.push(null);else{if(this.match("...")){n.push(this.parseBindingRestElement(e,t));break}n.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(i,new l.ArrayPattern(n))},e.prototype.parsePropertyPattern=function(e,t){var i,n,o=this.createNode(),r=!1,a=!1;if(this.lookahead.type===s.Token.Identifier){var u=this.lookahead;i=this.parseVariableIdentifier();var h=this.finalize(o,new l.Identifier(u.value));if(this.match("=")){e.push(u),a=!0,this.nextToken();var c=this.parseAssignmentExpression();n=this.finalize(this.startNode(u),new l.AssignmentPattern(h,c))}else this.match(":")?(this.expect(":"),n=this.parsePatternWithDefault(e,t)):(e.push(u),a=!0,n=h)}else r=this.match("["),i=this.parseObjectPropertyKey(),this.expect(":"),n=this.parsePatternWithDefault(e,t);return this.finalize(o,new l.Property("init",i,r,n,!1,a))},e.prototype.parseObjectPattern=function(e,t){var i=this.createNode(),n=[];for(this.expect("{");!this.match("}");)n.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(i,new l.ObjectPattern(n))},e.prototype.parsePattern=function(e,t){var i;return this.match("[")?i=this.parseArrayPattern(e,t):this.match("{")?i=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.UnexpectedToken),e.push(this.lookahead),i=this.parseVariableIdentifier(t)),i},e.prototype.parsePatternWithDefault=function(e,t){var i=this.lookahead,n=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var o=this.context.allowYield;this.context.allowYield=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=o,n=this.finalize(this.startNode(i),new l.AssignmentPattern(n,r))}return n},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),i=this.nextToken();return i.type===s.Token.Keyword&&"yield"===i.value?(this.context.strict&&this.tolerateUnexpectedToken(i,o.Messages.StrictReservedWord),this.context.allowYield||this.throwUnexpectedToken(i)):i.type!==s.Token.Identifier?this.context.strict&&i.type===s.Token.Keyword&&this.scanner.isStrictModeReservedWord(i.value)?this.tolerateUnexpectedToken(i,o.Messages.StrictReservedWord):(this.context.strict||"let"!==i.value||"var"!==e)&&this.throwUnexpectedToken(i):"module"===this.sourceType&&i.type===s.Token.Identifier&&"await"===i.value&&this.tolerateUnexpectedToken(i),this.finalize(t,new l.Identifier(i.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),i=[],n=this.parsePattern(i,"var");this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictVarName);var r=null;return this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===u.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new l.VariableDeclarator(n,r))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},i=[];for(i.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),i.push(this.parseVariableDeclaration(t));return i},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new l.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new l.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new l.ExpressionStatement(t))},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),i=null;this.expectKeyword("if"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new l.EmptyStatement)):(this.expect(")"),e=this.parseStatement(),this.matchKeyword("else")&&(this.nextToken(),i=this.parseStatement())),this.finalize(t,new l.IfStatement(n,e,i))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var i=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();return this.expect(")"),this.match(";")&&this.nextToken(),this.finalize(e,new l.DoWhileStatement(i,n))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new l.EmptyStatement);else{this.expect(")");var n=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=n}return this.finalize(t,new l.WhileStatement(i,e))},e.prototype.parseForStatement=function(){var e,t,i=null,n=null,r=null,s=!0,a=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var"))if(i=this.createNode(),this.nextToken(),f=this.context.allowIn,this.context.allowIn=!1,d=this.parseVariableDeclarationList({inFor:!0}),this.context.allowIn=f,1===d.length&&this.matchKeyword("in")){var h=d[0];h.init&&(h.id.type===u.Syntax.ArrayPattern||h.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),i=this.finalize(i,new l.VariableDeclaration(d,"var")),this.nextToken(),e=i,t=this.parseExpression(),i=null}else 1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new l.VariableDeclaration(d,"var")),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,s=!1):(i=this.finalize(i,new l.VariableDeclaration(d,"var")),this.expect(";"));else if(this.matchKeyword("const")||this.matchKeyword("let")){i=this.createNode();var c=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){f=this.context.allowIn,this.context.allowIn=!1;var d=this.parseBindingList(c,{inFor:!0});this.context.allowIn=f,1===d.length&&null===d[0].init&&this.matchKeyword("in")?(i=this.finalize(i,new l.VariableDeclaration(d,c)),this.nextToken(),e=i,t=this.parseExpression(),i=null):1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new l.VariableDeclaration(d,c)),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,s=!1):(this.consumeSemicolon(),i=this.finalize(i,new l.VariableDeclaration(d,c)))}else i=this.finalize(i,new l.Identifier(c)),this.nextToken(),e=i,t=this.parseExpression(),i=null}else{var p=this.lookahead,f=this.context.allowIn;if(this.context.allowIn=!1,i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=f,this.matchKeyword("in"))this.context.isAssignmentTarget&&i.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseExpression(),i=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&i.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseAssignmentExpression(),i=null,s=!1;else{if(this.match(",")){for(var m=[i];this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));i=this.finalize(this.startNode(p),new l.SequenceExpression(m))}this.expect(";")}}void 0===e&&(this.match(";")||(n=this.parseExpression()),this.expect(";"),this.match(")")||(r=this.parseExpression()));var g;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),g=this.finalize(this.createNode(),new l.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,g=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return void 0===e?this.finalize(a,new l.ForStatement(i,n,r,g)):s?this.finalize(a,new l.ForInStatement(e,t,g)):this.finalize(a,new l.ForOfStatement(e,t,g))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(this.lookahead.type===s.Token.Identifier&&!this.hasLineTerminator){var i="$"+(t=this.parseVariableIdentifier()).name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(o.Messages.UnknownLabel,t.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new l.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(this.lookahead.type===s.Token.Identifier&&!this.hasLineTerminator){var i="$"+(t=this.parseVariableIdentifier()).name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(o.Messages.UnknownLabel,t.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new l.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===s.Token.EOF?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new l.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e=this.createNode();this.expectKeyword("with"),this.expect("(");var t=this.parseExpression();this.expect(")");var i=this.parseStatement();return this.finalize(e,new l.WithStatement(t,i))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var i=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)i.push(this.parseStatementListItem());return this.finalize(t,new l.SwitchCase(e,i))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var i=this.context.inSwitch;this.context.inSwitch=!0;var n=[],r=!1;for(this.expect("{");!this.match("}");){var s=this.parseSwitchCase();null===s.test&&(r&&this.throwError(o.Messages.MultipleDefaultsInSwitch),r=!0),n.push(s)}return this.expect("}"),this.context.inSwitch=i,this.finalize(e,new l.SwitchStatement(t,n))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),i=this.parseExpression();if(i.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var n=i,r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)&&this.throwError(o.Messages.Redeclaration,"Label",n.name),this.context.labelSet[r]=!0;var s=this.parseStatement();delete this.context.labelSet[r],e=new l.LabeledStatement(n,s)}else this.consumeSemicolon(),e=new l.ExpressionStatement(i);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new l.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],i=this.parsePattern(t),n={},r=0;r<t.length;r++){var s="$"+t[r].value;Object.prototype.hasOwnProperty.call(n,s)&&this.tolerateError(o.Messages.DuplicateBinding,t[r].value),n[s]=!0}this.context.strict&&i.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var a=this.parseBlock();return this.finalize(e,new l.CatchClause(i,a))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),i=this.matchKeyword("catch")?this.parseCatchClause():null,n=this.matchKeyword("finally")?this.parseFinallyClause():null;return i||n||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new l.TryStatement(t,i,n))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new l.DebuggerStatement)},e.prototype.parseStatement=function(){var e=null;switch(this.lookahead.type){case s.Token.BooleanLiteral:case s.Token.NullLiteral:case s.Token.NumericLiteral:case s.Token.StringLiteral:case s.Token.Template:case s.Token.RegularExpression:e=this.parseExpressionStatement();break;case s.Token.Punctuator:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case s.Token.Identifier:e=this.parseLabelledStatement();break;case s.Token.Keyword:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),i=this.context.labelSet,n=this.context.inIteration,o=this.context.inSwitch,r=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.startMarker.index<this.scanner.length&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=i,this.context.inIteration=n,this.context.inSwitch=o,this.context.inFunctionBody=r,this.finalize(e,new l.BlockStatement(t))},e.prototype.validateParam=function(e,t,i){var n="$"+i;this.context.strict?(this.scanner.isRestrictedWord(i)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(i)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(i)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,n,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[n]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var i=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new l.RestElement(i))},e.prototype.parseFormalParameter=function(e){for(var t=[],i=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),n=0;n<t.length;n++)this.validateParam(e,t[n],t[n].value);return e.params.push(i),!this.match(")")},e.prototype.parseFormalParameters=function(e){var t;if(t={params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};this.startMarker.index<this.scanner.length&&this.parseFormalParameter(t);)this.expect(",");return this.expect(")"),{params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode();this.expectKeyword("function");var i=this.match("*");i&&this.nextToken();var n,r=null,s=null;if(!e||!this.match("(")){var a=this.lookahead;r=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(s=a,n=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(s=a,n=o.Messages.StrictReservedWord)}var u=this.context.allowYield;this.context.allowYield=!i;var h=this.parseFormalParameters(s),c=h.params,d=h.stricted;s=h.firstRestricted,h.message&&(n=h.message);var p=this.context.strict,f=this.parseFunctionSourceElements();return this.context.strict&&s&&this.throwUnexpectedToken(s,n),this.context.strict&&d&&this.tolerateUnexpectedToken(d,n),this.context.strict=p,this.context.allowYield=u,this.finalize(t,new l.FunctionDeclaration(r,c,f,i))},e.prototype.parseFunctionExpression=function(){var e=this.createNode();this.expectKeyword("function");var t=this.match("*");t&&this.nextToken();var i,n,r=null,s=this.context.allowYield;if(this.context.allowYield=!t,!this.match("(")){var a=this.lookahead;r=this.context.strict||t||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(n=a,i=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(n=a,i=o.Messages.StrictReservedWord)}var u=this.parseFormalParameters(n),h=u.params,c=u.stricted;n=u.firstRestricted,u.message&&(i=u.message);var d=this.context.strict,p=this.parseFunctionSourceElements();return this.context.strict&&n&&this.throwUnexpectedToken(n,i),this.context.strict&&c&&this.tolerateUnexpectedToken(c,i),this.context.strict=d,this.context.allowYield=s,this.finalize(e,new l.FunctionExpression(r,h,p,t))},e.prototype.parseDirective=function(){var e=this.lookahead,t=null,i=this.createNode(),n=this.parseExpression();return n.type===u.Syntax.Literal&&(t=this.getTokenRaw(e).slice(1,-1)),this.consumeSemicolon(),this.finalize(i,t?new l.Directive(n,t):new l.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var i=this.lookahead;if(i.type!==s.Token.StringLiteral)break;var n=this.parseDirective();t.push(n);var r=n.directive;if("string"!=typeof r)break;"use strict"===r?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral)):!e&&i.octal&&(e=i)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case s.Token.Identifier:case s.Token.StringLiteral:case s.Token.BooleanLiteral:case s.Token.NullLiteral:case s.Token.NumericLiteral:case s.Token.Keyword:return!0;case s.Token.Punctuator:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode();this.expect("("),this.expect(")");var t={params:[],stricted:null,firstRestricted:null,message:null},i=this.context.allowYield;this.context.allowYield=!1;var n=this.parsePropertyMethod(t);return this.context.allowYield=i,this.finalize(e,new l.FunctionExpression(null,t.params,n,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t={params:[],firstRestricted:null,paramSet:{}},i=this.context.allowYield;this.context.allowYield=!1,this.expect("("),this.match(")")?this.tolerateUnexpectedToken(this.lookahead):this.parseFormalParameter(t),this.expect(")");var n=this.parsePropertyMethod(t);return this.context.allowYield=i,this.finalize(e,new l.FunctionExpression(null,t.params,n,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters();this.context.allowYield=!1;var n=this.parsePropertyMethod(i);return this.context.allowYield=t,this.finalize(e,new l.FunctionExpression(null,i.params,n,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case s.Token.Punctuator:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case s.Token.Keyword:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,i=!1;if(!this.hasLineTerminator){var n=this.context.allowYield;this.context.allowYield=!1,(i=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=n}return this.finalize(e,new l.YieldExpression(t,i))},e.prototype.parseClassElement=function(e){var t,i,n,r=this.lookahead,a=this.createNode(),u=!1,h=!1,c=!1;this.match("*")?this.nextToken():(u=this.match("["),"static"===(i=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(r=this.lookahead,c=!0,u=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()));var d=this.qualifiedPropertyName(this.lookahead);return r.type===s.Token.Identifier?"get"===r.value&&d?(t="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,n=this.parseGetterMethod()):"set"===r.value&&d&&(t="set",u=this.match("["),i=this.parseObjectPropertyKey(),n=this.parseSetterMethod()):r.type===s.Token.Punctuator&&"*"===r.value&&d&&(t="init",u=this.match("["),i=this.parseObjectPropertyKey(),n=this.parseGeneratorMethod(),h=!0),!t&&i&&this.match("(")&&(t="init",n=this.parsePropertyMethodFunction(),h=!0),t||this.throwUnexpectedToken(this.lookahead),"init"===t&&(t="method"),u||(c&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(r,o.Messages.StaticPrototype),!c&&this.isPropertyKey(i,"constructor")&&("method"===t&&h&&!n.generator||this.throwUnexpectedToken(r,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(r,o.Messages.DuplicateConstructor):e.value=!0,t="constructor")),this.finalize(a,new l.MethodDefinition(i,u,n,t,c))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new l.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),i=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=e&&this.lookahead.type!==s.Token.Identifier?null:this.parseVariableIdentifier(),o=null;this.matchKeyword("extends")&&(this.nextToken(),o=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var r=this.parseClassBody();return this.context.strict=i,this.finalize(t,new l.ClassDeclaration(n,o,r))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=this.lookahead.type===s.Token.Identifier?this.parseVariableIdentifier():null,n=null;this.matchKeyword("extends")&&(this.nextToken(),n=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=t,this.finalize(e,new l.ClassExpression(i,n,o))},e.prototype.parseProgram=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();this.startMarker.index<this.scanner.length;)t.push(this.parseStatementListItem());return this.finalize(e,new l.Program(t,this.sourceType))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();this.lookahead.type!==s.Token.StringLiteral&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),i=this.getTokenRaw(t);return this.finalize(e,new l.Literal(t.value,i))},e.prototype.parseImportSpecifier=function(){var e,t,i=this.createNode();return this.lookahead.type===s.Token.Identifier?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(i,new l.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new l.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new l.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e=this.createNode();this.expectKeyword("import");var t,i=[];if(this.lookahead.type===s.Token.StringLiteral)t=this.parseModuleSpecifier();else{if(this.match("{")?i=i.concat(this.parseNamedImports()):this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(i.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.match("{")?i=i.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var n=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(n,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new l.ImportDeclaration(i,t))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),i=t;return this.matchContextualKeyword("as")&&(this.nextToken(),i=this.parseIdentifierName()),this.finalize(e,new l.ExportSpecifier(t,i))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e=this.createNode();this.expectKeyword("export");var t;if(this.matchKeyword("default"))this.nextToken(),this.matchKeyword("function")?(n=this.parseFunctionDeclaration(!0),t=this.finalize(e,new l.ExportDefaultDeclaration(n))):this.matchKeyword("class")?(n=this.parseClassDeclaration(!0),t=this.finalize(e,new l.ExportDefaultDeclaration(n))):(this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value),n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),t=this.finalize(e,new l.ExportDefaultDeclaration(n)));else if(this.match("*")){this.nextToken(),this.matchContextualKeyword("from")||(h=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause,this.throwError(h,this.lookahead.value)),this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(e,new l.ExportAllDeclaration(i))}else if(this.lookahead.type===s.Token.Keyword){var n=void 0;switch(this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(e,new l.ExportNamedDeclaration(n,[],null))}else{var r=[],a=null,u=!1;for(this.expect("{");!this.match("}");)u=u||this.matchKeyword("default"),r.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),a=this.parseModuleSpecifier(),this.consumeSemicolon();else if(u){var h=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(h,this.lookahead.value)}else this.consumeSemicolon();t=this.finalize(e,new l.ExportNamedDeclaration(null,r,a))}return t},e}();t.Parser=h},function(e,t){"use strict";t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";t.Messages={UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer"}},function(e,t){"use strict";var i=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var i=new Error(e);try{throw i}catch(e){Object.create&&Object.defineProperty&&(i=Object.create(e),Object.defineProperty(i,"column",{value:t}))}finally{return i}},e.prototype.createError=function(e,t,i,n){var o="Line "+t+": "+n,r=this.constructError(o,i);return r.index=e,r.lineNumber=t,r.description=n,r},e.prototype.throwError=function(e,t,i,n){throw this.createError(e,t,i,n)},e.prototype.tolerateError=function(e,t,i,n){var o=this.createError(e,t,i,n);if(!this.tolerant)throw o;this.recordError(o)},e}();t.ErrorHandler=i},function(e,t){"use strict";!function(e){e[e.BooleanLiteral=1]="BooleanLiteral",e[e.EOF=2]="EOF",e[e.Identifier=3]="Identifier",e[e.Keyword=4]="Keyword",e[e.NullLiteral=5]="NullLiteral",e[e.NumericLiteral=6]="NumericLiteral",e[e.Punctuator=7]="Punctuator",e[e.StringLiteral=8]="StringLiteral",e[e.RegularExpression=9]="RegularExpression",e[e.Template=10]="Template"}(t.Token||(t.Token={}));var i=t.Token;t.TokenName={},t.TokenName[i.BooleanLiteral]="Boolean",t.TokenName[i.EOF]="<end>",t.TokenName[i.Identifier]="Identifier",t.TokenName[i.Keyword]="Keyword",t.TokenName[i.NullLiteral]="Null",t.TokenName[i.NumericLiteral]="Numeric",t.TokenName[i.Punctuator]="Punctuator",t.TokenName[i.StringLiteral]="String",t.TokenName[i.RegularExpression]="RegularExpression",t.TokenName[i.Template]="Template"},function(e,t,i){"use strict";function n(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function o(e){return"01234567".indexOf(e)}var r=i(4),s=i(5),a=i(9),u=i(7),l=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){void 0===e&&(e=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,s.Messages.UnexpectedTokenIllegal)},e.prototype.skipSingleLineComment=function(e){var t,i,n;for(this.trackComment&&(t=[],i=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var o=this.source.charCodeAt(this.index);if(++this.index,a.Character.isLineTerminator(o))return this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart-1},r={multiLine:!1,slice:[i+e,this.index-1],range:[i,this.index-1],loc:n},t.push(r)),13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t}if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};var r={multiLine:!1,slice:[i+e,this.index],range:[i,this.index],loc:n};t.push(r)}return t},e.prototype.skipMultiLineComment=function(){var e,t,i;for(this.trackComment&&(e=[],t=this.index-2,i={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var n=this.source.charCodeAt(this.index);if(a.Character.isLineTerminator(n))13===n&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===n){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(i.end={line:this.lineNumber,column:this.index-this.lineStart},o={multiLine:!0,slice:[t+2,this.index-2],range:[t,this.index],loc:i},e.push(o)),e;++this.index}else++this.index}if(this.trackComment){i.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!0,slice:[t+2,this.index],range:[t,this.index],loc:i};e.push(o)}return this.tolerateUnexpectedToken(),e},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var i=this.source.charCodeAt(this.index);if(a.Character.isWhiteSpace(i))++this.index;else if(a.Character.isLineTerminator(i))++this.index,13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===i)if(47===(i=this.source.charCodeAt(this.index+1)))this.index+=2,n=this.skipSingleLineComment(2),this.trackComment&&(e=e.concat(n)),t=!0;else{if(42!==i)break;this.index+=2,n=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(n))}else if(t&&45===i){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,n=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(n))}else{if(60!==i)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;var n=this.skipSingleLineComment(4);this.trackComment&&(e=e.concat(n))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var i=this.source.charCodeAt(e+1);i>=56320&&i<=57343&&(t=1024*(t-55296)+i-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,i=0,o=0;o<t;++o){if(this.eof()||!a.Character.isHexDigit(this.source.charCodeAt(this.index)))return"";i=16*i+n(this.source[this.index++])}return String.fromCharCode(i)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],a.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+n(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),a.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!a.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e=this.codePointAt(this.index),t=a.Character.fromCodePoint(e);this.index+=t.length;var i;for(92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(e=(i=this.scanHexEscape("u")).charCodeAt(0),i&&"\\"!==i&&a.Character.isIdentifierStart(e)||this.throwUnexpectedToken()),t=i);!this.eof()&&(e=this.codePointAt(this.index),a.Character.isIdentifierPart(e));)t+=i=a.Character.fromCodePoint(e),this.index+=i.length,92===e&&(t=t.substr(0,t.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(e=(i=this.scanHexEscape("u")).charCodeAt(0),i&&"\\"!==i&&a.Character.isIdentifierPart(e)||this.throwUnexpectedToken()),t+=i);return t},e.prototype.octalToDecimal=function(e){var t="0"!==e,i=o(e);return!this.eof()&&a.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,i=8*i+o(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&a.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(i=8*i+o(this.source[this.index++]))),{code:i,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,i=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();return e=1===i.length?u.Token.Identifier:this.isKeyword(i)?u.Token.Keyword:"null"===i?u.Token.NullLiteral:"true"===i||"false"===i?u.Token.BooleanLiteral:u.Token.Identifier,{type:e,value:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e={type:u.Token.Punctuator,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index},t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)}return this.index===e.start&&this.throwUnexpectedToken(),e.end=this.index,e.value=t,e},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&a.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),a.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:u.Token.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,i="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)i+=this.source[this.index++];return 0===i.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(a.Character.isIdentifierStart(t)||a.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:u.Token.NumericLiteral,value:parseInt(i,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var i="",n=!1;for(a.Character.isOctalDigit(e.charCodeAt(0))?(n=!0,i="0"+this.source[this.index++]):++this.index;!this.eof()&&a.Character.isOctalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];return n||0!==i.length||this.throwUnexpectedToken(),(a.Character.isIdentifierStart(this.source.charCodeAt(this.index))||a.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:u.Token.NumericLiteral,value:parseInt(i,8),octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!a.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];r.assert(a.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var i="";if("."!==t){if(i=this.source[this.index++],t=this.source[this.index],"0"===i){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&a.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;a.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(i+=this.source[this.index++];a.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(i+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(i+=this.source[this.index++]),a.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;a.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];else this.throwUnexpectedToken();return a.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:u.Token.NumericLiteral,value:parseFloat(i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];r.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var i=!1,n="";!this.eof();){var o=this.source[this.index++];if(o===t){t="";break}if("\\"===o)if((o=this.source[this.index++])&&a.Character.isLineTerminator(o.charCodeAt(0)))++this.lineNumber,"\r"===o&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(o){case"u":case"x":if("{"===this.source[this.index])++this.index,n+=this.scanUnicodeCodePointEscape();else{var s=this.scanHexEscape(o);s||this.throwUnexpectedToken(),n+=s}break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"b":n+="\b";break;case"f":n+="\f";break;case"v":n+="\v";break;case"8":case"9":n+=o,this.tolerateUnexpectedToken();break;default:if(o&&a.Character.isOctalDigit(o.charCodeAt(0))){var l=this.octalToDecimal(o);i=l.octal||i,n+=String.fromCharCode(l.code)}else n+=o}else{if(a.Character.isLineTerminator(o.charCodeAt(0)))break;n+=o}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:u.Token.StringLiteral,value:n,octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,i=this.index,n="`"===this.source[i],o=!1,r=2;for(++this.index;!this.eof();){var l=this.source[this.index++];if("`"===l){r=1,o=!0,t=!0;break}if("$"===l){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=l}else if("\\"===l)if(l=this.source[this.index++],a.Character.isLineTerminator(l.charCodeAt(0)))++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(l){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":case"x":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var h=this.index,c=this.scanHexEscape(l);c?e+=c:(this.index=h,e+=l)}break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===l?(a.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),e+="\0"):a.Character.isOctalDigit(l.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):e+=l}else a.Character.isLineTerminator(l.charCodeAt(0))?(++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=l}return t||this.throwUnexpectedToken(),n||this.curlyStack.pop(),{type:u.Token.Template,value:{cooked:e,raw:this.source.slice(i+1,this.index-r)},head:n,tail:o,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}},e.prototype.testRegExp=function(e,t){var i=e,n=this;t.indexOf("u")>=0&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,i){var o=parseInt(t||i,16);return o>1114111&&n.throwUnexpectedToken(s.Messages.InvalidRegExp),o<=65535?String.fromCharCode(o):"￿"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(i)}catch(e){this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];r.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],i=!1,n=!1;!this.eof();)if(e=this.source[this.index++],t+=e,"\\"===e)e=this.source[this.index++],a.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),t+=e;else if(a.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(i)"]"===e&&(i=!1);else{if("/"===e){n=!0;break}"["===e&&(i=!0)}return n||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}},e.prototype.scanRegExpFlags=function(){for(var e="",t="";!this.eof();){var i=this.source[this.index];if(!a.Character.isIdentifierPart(i.charCodeAt(0)))break;if(++this.index,"\\"!==i||this.eof())t+=i,e+=i;else if("u"===(i=this.source[this.index])){++this.index;var n=this.index;if(i=this.scanHexEscape("u"))for(t+=i,e+="\\u";n<this.index;++n)e+=this.source[n];else this.index=n,t+="u",e+="\\u";this.tolerateUnexpectedToken()}else e+="\\",this.tolerateUnexpectedToken()}return{value:t,literal:e}},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),i=this.scanRegExpFlags(),n=this.testRegExp(t.value,i.value);return{type:u.Token.RegularExpression,value:n,literal:t.literal+i.literal,regex:{pattern:t.value,flags:i.value},lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:u.Token.EOF,lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return a.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?a.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():a.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&a.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=l},function(e,t){"use strict";var i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&i.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&i.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,i){"use strict";var n=i(2),o=function(e){this.type=n.Syntax.ArrayExpression,this.elements=e};t.ArrayExpression=o;var r=function(e){this.type=n.Syntax.ArrayPattern,this.elements=e};t.ArrayPattern=r;var s=function(e,t,i){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=i};t.ArrowFunctionExpression=s;var a=function(e,t,i){this.type=n.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=i};t.AssignmentExpression=a;var u=function(e,t){this.type=n.Syntax.AssignmentPattern,this.left=e,this.right=t};t.AssignmentPattern=u;var l=function(e,t,i){var o="||"===e||"&&"===e;this.type=o?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=i};t.BinaryExpression=l;var h=function(e){this.type=n.Syntax.BlockStatement,this.body=e};t.BlockStatement=h;var c=function(e){this.type=n.Syntax.BreakStatement,this.label=e};t.BreakStatement=c;var d=function(e,t){this.type=n.Syntax.CallExpression,this.callee=e,this.arguments=t};t.CallExpression=d;var p=function(e,t){this.type=n.Syntax.CatchClause,this.param=e,this.body=t};t.CatchClause=p;var f=function(e){this.type=n.Syntax.ClassBody,this.body=e};t.ClassBody=f;var m=function(e,t,i){this.type=n.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=i};t.ClassDeclaration=m;var g=function(e,t,i){this.type=n.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=i};t.ClassExpression=g;var v=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t};t.ComputedMemberExpression=v;var y=function(e,t,i){this.type=n.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=i};t.ConditionalExpression=y;var b=function(e){this.type=n.Syntax.ContinueStatement,this.label=e};t.ContinueStatement=b;var x=function(){this.type=n.Syntax.DebuggerStatement};t.DebuggerStatement=x;var w=function(e,t){this.type=n.Syntax.ExpressionStatement,this.expression=e,this.directive=t};t.Directive=w;var D=function(e,t){this.type=n.Syntax.DoWhileStatement,this.body=e,this.test=t};t.DoWhileStatement=D;var C=function(){this.type=n.Syntax.EmptyStatement};t.EmptyStatement=C;var k=function(e){this.type=n.Syntax.ExportAllDeclaration,this.source=e};t.ExportAllDeclaration=k;var _=function(e){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=e};t.ExportDefaultDeclaration=_;var E=function(e,t,i){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=i};t.ExportNamedDeclaration=E;var S=function(e,t){this.type=n.Syntax.ExportSpecifier,this.exported=t,this.local=e};t.ExportSpecifier=S;var A=function(e){this.type=n.Syntax.ExpressionStatement,this.expression=e};t.ExpressionStatement=A;var F=function(e,t,i){this.type=n.Syntax.ForInStatement,this.left=e,this.right=t,this.body=i,this.each=!1};t.ForInStatement=F;var M=function(e,t,i){this.type=n.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=i};t.ForOfStatement=M;var T=function(e,t,i,o){this.type=n.Syntax.ForStatement,this.init=e,this.test=t,this.update=i,this.body=o};t.ForStatement=T;var O=function(e,t,i,o){this.type=n.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=i,this.generator=o,this.expression=!1};t.FunctionDeclaration=O;var B=function(e,t,i,o){this.type=n.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=i,this.generator=o,this.expression=!1};t.FunctionExpression=B;var L=function(e){this.type=n.Syntax.Identifier,this.name=e};t.Identifier=L;var P=function(e,t,i){this.type=n.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=i};t.IfStatement=P;var N=function(e,t){this.type=n.Syntax.ImportDeclaration,this.specifiers=e,this.source=t};t.ImportDeclaration=N;var I=function(e){this.type=n.Syntax.ImportDefaultSpecifier,this.local=e};t.ImportDefaultSpecifier=I;var R=function(e){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=e};t.ImportNamespaceSpecifier=R;var z=function(e,t){this.type=n.Syntax.ImportSpecifier,this.local=e,this.imported=t};t.ImportSpecifier=z;var j=function(e,t){this.type=n.Syntax.LabeledStatement,this.label=e,this.body=t};t.LabeledStatement=j;var V=function(e,t){this.type=n.Syntax.Literal,this.value=e,this.raw=t};t.Literal=V;var H=function(e,t){this.type=n.Syntax.MetaProperty,this.meta=e,this.property=t};t.MetaProperty=H;var W=function(e,t,i,o,r){this.type=n.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=i,this.kind=o,this.static=r};t.MethodDefinition=W;var U=function(e,t){this.type=n.Syntax.NewExpression,this.callee=e,this.arguments=t};t.NewExpression=U;var q=function(e){this.type=n.Syntax.ObjectExpression,this.properties=e};t.ObjectExpression=q;var K=function(e){this.type=n.Syntax.ObjectPattern,this.properties=e};t.ObjectPattern=K;var G=function(e,t){this.type=n.Syntax.Program,this.body=e,this.sourceType=t};t.Program=G;var Y=function(e,t,i,o,r,s){this.type=n.Syntax.Property,this.key=t,this.computed=i,this.value=o,this.kind=e,this.method=r,this.shorthand=s};t.Property=Y;var X=function(e,t,i){this.type=n.Syntax.Literal,this.value=e,this.raw=t,this.regex=i};t.RegexLiteral=X;var J=function(e){this.type=n.Syntax.RestElement,this.argument=e};t.RestElement=J;var Z=function(e){this.type=n.Syntax.ReturnStatement,this.argument=e};t.ReturnStatement=Z;var $=function(e){this.type=n.Syntax.SequenceExpression,this.expressions=e};t.SequenceExpression=$;var Q=function(e){this.type=n.Syntax.SpreadElement,this.argument=e};t.SpreadElement=Q;var ee=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t};t.StaticMemberExpression=ee;var te=function(){this.type=n.Syntax.Super};t.Super=te;var ie=function(e,t){this.type=n.Syntax.SwitchCase,this.test=e,this.consequent=t};t.SwitchCase=ie;var ne=function(e,t){this.type=n.Syntax.SwitchStatement,this.discriminant=e,this.cases=t};t.SwitchStatement=ne;var oe=function(e,t){this.type=n.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t};t.TaggedTemplateExpression=oe;var re=function(e,t){this.type=n.Syntax.TemplateElement,this.value=e,this.tail=t};t.TemplateElement=re;var se=function(e,t){this.type=n.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t};t.TemplateLiteral=se;var ae=function(){this.type=n.Syntax.ThisExpression};t.ThisExpression=ae;var ue=function(e){this.type=n.Syntax.ThrowStatement,this.argument=e};t.ThrowStatement=ue;var le=function(e,t,i){this.type=n.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=i};t.TryStatement=le;var he=function(e,t){this.type=n.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0};t.UnaryExpression=he;var ce=function(e,t,i){this.type=n.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=i};t.UpdateExpression=ce;var de=function(e,t){this.type=n.Syntax.VariableDeclaration,this.declarations=e,this.kind=t};t.VariableDeclaration=de;var pe=function(e,t){this.type=n.Syntax.VariableDeclarator,this.id=e,this.init=t};t.VariableDeclarator=pe;var fe=function(e,t){this.type=n.Syntax.WhileStatement,this.test=e,this.body=t};t.WhileStatement=fe;var me=function(e,t){this.type=n.Syntax.WithStatement,this.object=e,this.body=t};t.WithStatement=me;var ge=function(e,t){this.type=n.Syntax.YieldExpression,this.argument=e,this.delegate=t};t.YieldExpression=ge},function(e,t,i){"use strict";function n(e){var t;switch(e.type){case h.JSXSyntax.JSXIdentifier:t=e.name;break;case h.JSXSyntax.JSXNamespacedName:var i=e;t=n(i.namespace)+":"+n(i.name);break;case h.JSXSyntax.JSXMemberExpression:var o=e;t=n(o.object)+"."+n(o.property)}return t}var o,r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},s=i(9),a=i(7),u=i(3),l=i(12),h=i(13),c=i(10),d=i(14);!function(e){e[e.Identifier=100]="Identifier",e[e.Text=101]="Text"}(o||(o={})),a.TokenName[o.Identifier]="JSXIdentifier",a.TokenName[o.Text]="JSXText";var p=function(e){function t(t,i,n){e.call(this,t,i,n)}return r(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.lineNumber,this.scanner.lineStart=this.startMarker.lineStart},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",i=!0,n=!1,o=!1,r=!1;!this.scanner.eof()&&i&&!n;){var a=this.scanner.source[this.scanner.index];if(a===e)break;if(n=";"===a,t+=a,++this.scanner.index,!n)switch(t.length){case 2:o="#"===a;break;case 3:o&&(i=(r="x"===a)||s.Character.isDecimalDigit(a.charCodeAt(0)),o=o&&!r);break;default:i=(i=i&&!(o&&!s.Character.isDecimalDigit(a.charCodeAt(0))))&&!(r&&!s.Character.isHexDigit(a.charCodeAt(0)))}}if(i&&n&&t.length>2){var u=t.substr(1,t.length-2);o&&u.length>1?t=String.fromCharCode(parseInt(u.substr(1),10)):r&&u.length>2?t=String.fromCharCode(parseInt("0"+u.substr(1),16)):o||r||!l.XHTMLEntities[u]||(t=l.XHTMLEntities[u])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return l=this.scanner.source[this.scanner.index++],{type:a.Token.Punctuator,value:l,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,i=this.scanner.source[this.scanner.index++],n="";!this.scanner.eof()&&(h=this.scanner.source[this.scanner.index++])!==i;)n+="&"===h?this.scanXHTMLEntity(i):h;return{type:a.Token.StringLiteral,value:n,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var r=this.scanner.source.charCodeAt(this.scanner.index+1),u=this.scanner.source.charCodeAt(this.scanner.index+2),l=46===r&&46===u?"...":".",t=this.scanner.index;return this.scanner.index+=l.length,{type:a.Token.Punctuator,value:l,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:a.Token.Template,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(s.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var h=this.scanner.source.charCodeAt(this.scanner.index);if(s.Character.isIdentifierPart(h)&&92!==h)++this.scanner.index;else{if(45!==h)break;++this.scanner.index}}var c=this.scanner.source.slice(t,this.scanner.index);return{type:o.Identifier,value:c,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}this.scanner.throwUnexpectedToken()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var i=this.scanner.source[this.scanner.index];if("{"===i||"<"===i)break;++this.scanner.index,t+=i,s.Character.isLineTerminator(i.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===i&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart;var n={type:o.Text,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(n)),n},t.prototype.peekJSXToken=function(){var e=this.scanner.index,t=this.scanner.lineNumber,i=this.scanner.lineStart;this.scanner.scanComments();var n=this.lexJSX();return this.scanner.index=e,this.scanner.lineNumber=t,this.scanner.lineStart=i,n},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();t.type===a.Token.Punctuator&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return t.type===a.Token.Punctuator&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return t.type!==o.Identifier&&this.throwUnexpectedToken(t),this.finalize(e,new d.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=t;this.expectJSX(":");var n=this.parseJSXIdentifier();t=this.finalize(e,new d.JSXNamespacedName(i,n))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var o=t;this.expectJSX(".");var r=this.parseJSXIdentifier();t=this.finalize(e,new d.JSXMemberExpression(o,r))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),i=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=i;this.expectJSX(":");var o=this.parseJSXIdentifier();e=this.finalize(t,new d.JSXNamespacedName(n,o))}else e=i;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();t.type!==a.Token.StringLiteral&&this.throwUnexpectedToken(t);var i=this.getTokenRaw(t);return this.finalize(e,new c.Literal(t.value,i))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new d.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),i=null;return this.matchJSX("=")&&(this.expectJSX("="),i=this.parseJSXAttributeValue()),this.finalize(e,new d.JSXAttribute(t,i))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new d.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),i=this.parseJSXAttributes(),n=this.matchJSX("/");return n&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new d.JSXOpeningElement(t,n,i))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new d.JSXClosingElement(t))}var i=this.parseJSXElementName(),n=this.parseJSXAttributes(),o=this.matchJSX("/");return o&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new d.JSXOpeningElement(i,o,n))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.finalize(e,new d.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e=this.createJSXNode();this.expectJSX("{");var t;return this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(e,new d.JSXExpressionContainer(t))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),i=this.nextJSXText();if(i.start<i.end){var n=this.getTokenRaw(i),o=this.finalize(t,new d.JSXText(i.value,n));e.push(o)}if("{"!==this.scanner.source[this.scanner.index])break;var r=this.parseJSXExpressionContainer();e.push(r)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var i=this.createJSXChildNode(),o=this.parseJSXBoundaryElement();if(o.type===h.JSXSyntax.JSXOpeningElement){var r=o;r.selfClosing?(a=this.finalize(i,new d.JSXElement(r,[],null)),e.children.push(a)):(t.push(e),e={node:i,opening:r,closing:null,children:[]})}if(o.type===h.JSXSyntax.JSXClosingElement){e.closing=o;var s=n(e.opening.name);if(s!==n(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",s),!(t.length>0))break;var a=this.finalize(e.node,new d.JSXElement(e.opening,e.children,e.closing));(e=t.pop()).children.push(a)}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),i=[],n=null;if(!t.selfClosing){var o=this.parseComplexJSXElement({node:e,opening:t,closing:n,children:i});i=o.children,n=o.closing}return this.finalize(e,new d.JSXElement(t,i,n))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t}(u.Parser);t.JSXParser=p},function(e,t){"use strict";t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(e,t){"use strict";t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,i){"use strict";var n=i(13),o=function(e){this.type=n.JSXSyntax.JSXClosingElement,this.name=e};t.JSXClosingElement=o;var r=function(e,t,i){this.type=n.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=i};t.JSXElement=r;var s=function(){this.type=n.JSXSyntax.JSXEmptyExpression};t.JSXEmptyExpression=s;var a=function(e){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=e};t.JSXExpressionContainer=a;var u=function(e){this.type=n.JSXSyntax.JSXIdentifier,this.name=e};t.JSXIdentifier=u;var l=function(e,t){this.type=n.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t};t.JSXMemberExpression=l;var h=function(e,t){this.type=n.JSXSyntax.JSXAttribute,this.name=e,this.value=t};t.JSXAttribute=h;var c=function(e,t){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t};t.JSXNamespacedName=c;var d=function(e,t,i){this.type=n.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=i};t.JSXOpeningElement=d;var p=function(e){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=e};t.JSXSpreadAttribute=p;var f=function(e,t){this.type=n.JSXSyntax.JSXText,this.value=e,this.raw=t};t.JSXText=f},function(e,t,i){"use strict";var n=i(8),o=i(6),r=i(7),s=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var i=this.values[this.paren-1];t="if"===i||"while"===i||"for"===i||"with"===i;break;case"}":if(t=!1,"function"===this.values[this.curly-3]){var n=this.values[this.curly-4];t=!!n&&!this.beforeFunctionExpression(n)}else if("function"===this.values[this.curly-4]){var o=this.values[this.curly-5];t=!o||!this.beforeFunctionExpression(o)}}return t},e.prototype.push=function(e){e.type===r.Token.Punctuator||e.type===r.Token.Keyword?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),a=function(){function e(e,t){this.errorHandler=new o.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new n.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new s}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var i=e[t],n=void 0,o=this.scanner.source.slice(i.slice[0],i.slice[1]);n={type:i.multiLine?"BlockComment":"LineComment",value:o},this.trackRange&&(n.range=i.range),this.trackLoc&&(n.loc=i.loc),this.buffer.push(n)}if(!this.scanner.eof()){var s=void 0;this.trackLoc&&(s={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a=void 0;a="/"===this.scanner.source[this.scanner.index]?this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.scanPunctuator():this.scanner.lex(),this.reader.push(a);var u=void 0;u={type:r.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)},this.trackRange&&(u.range=[a.start,a.end]),this.trackLoc&&(s.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=s),a.regex&&(u.regex=a.regex),this.buffer.push(u)}}return this.buffer.shift()},e}();t.Tokenizer=a}])}),define("estraverse@4.2.0#package.json",[],function(){return{_from:"estraverse@^4.2.0",_id:"estraverse@4.2.0",_inBundle:!1,_integrity:"sha1-De4/7TH81GlhjOc0IJn8GvoL2xM=",_location:"/estraverse",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"estraverse@^4.2.0",name:"estraverse",escapedName:"estraverse",rawSpec:"^4.2.0",saveSpec:null,fetchSpec:"^4.2.0"},_requiredBy:["/escodegen","/estemplate","/transpile"],_resolved:"https://registry.npmjs.org/estraverse/-/estraverse-4.2.0.tgz",_shasum:"0dee3fed31fcd469618ce7342099fc1afa0bdb13",_spec:"estraverse@^4.2.0",_where:"/home/kphillips86/dev/viewmodel-sandbox/node_modules/escodegen",bugs:{url:"https://github.com/estools/estraverse/issues"},bundleDependencies:!1,deprecated:!1,description:"ECMAScript JS AST traversal functions",devDependencies:{"babel-preset-es2015":"^6.3.13","babel-register":"^6.3.13",chai:"^2.1.1",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},engines:{node:">=0.10.0"},homepage:"https://github.com/estools/estraverse",license:"BSD-2-Clause",main:"estraverse.js",maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",url:"http://github.com/Constellation"}],name:"estraverse",repository:{type:"git",url:"git+ssh://git@github.com/estools/estraverse.git"},scripts:{lint:"jshint estraverse.js",test:"npm run-script lint && npm run-script unit-test","unit-test":"mocha --compilers js:babel-register"},version:"4.2.0"}}),define("estraverse@4.2.0#estraverse",["require","exports","module","./package.json"],function(e,t,i){!function(e,t,i,n){!function e(i){"use strict";function n(){}function o(e){var t,i,n={};for(t in e)e.hasOwnProperty(t)&&(i=e[t],n[t]="object"==typeof i&&null!==i?o(i):i);return n}function r(e,t){var i,n,o,r;for(n=e.length,o=0;n;)t(e[r=o+(i=n>>>1)])?n=i:(o=r+1,n-=i+1);return o}function s(e,t){var i,n,o,r=b(t);for(n=0,o=r.length;n<o;n+=1)e[i=r[n]]=t[i];return e}function a(e,t){this.parent=e,this.key=t}function u(e,t,i,n){this.node=e,this.path=t,this.wrap=i,this.ref=n}function l(){}function h(e){return null!=e&&"object"==typeof e&&"string"==typeof e.type}function c(e,t){return(e===f.ObjectExpression||e===f.ObjectPattern)&&"properties"===t}function d(e,t){return(new l).traverse(e,t)}function p(e,t){var i;return i=r(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],i!==t.length&&(e.extendedRange[1]=t[i].range[0]),(i-=1)>=0&&(e.extendedRange[0]=t[i].range[1]),e}var f,m,g,v,y,b,x,w,D;return(m=Array.isArray)||(m=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),n(),n(),y=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),b=Object.keys||function(e){var t,i=[];for(t in e)i.push(t);return i},f={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},v={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},x={},w={},D={},g={Break:x,Skip:w,Remove:D},a.prototype.replace=function(e){this.parent[this.key]=e},a.prototype.remove=function(){return m(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},l.prototype.path=function(){function e(e,t){if(m(t))for(n=0,o=t.length;n<o;++n)e.push(t[n]);else e.push(t)}var t,i,n,o,r;if(!this.__current.path)return null;for(r=[],t=2,i=this.__leavelist.length;t<i;++t)e(r,this.__leavelist[t].path);return e(r,this.__current.path),r},l.prototype.type=function(){return this.current().type||this.__current.wrap},l.prototype.parents=function(){var e,t,i;for(i=[],e=1,t=this.__leavelist.length;e<t;++e)i.push(this.__leavelist[e].node);return i},l.prototype.current=function(){return this.__current.node},l.prototype.__execute=function(e,t){var i,n;return n=void 0,i=this.__current,this.__current=t,this.__state=null,e&&(n=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=i,n},l.prototype.notify=function(e){this.__state=e},l.prototype.skip=function(){this.notify(w)},l.prototype.break=function(){this.notify(x)},l.prototype.remove=function(){this.notify(D)},l.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===t.fallback?this.__fallback=b:"function"==typeof t.fallback&&(this.__fallback=t.fallback),this.__keys=v,t.keys&&(this.__keys=s(y(this.__keys),t.keys))},l.prototype.traverse=function(e,t){var i,n,o,r,s,a,l,d,p,f,g,v;for(this.__initialize(e,t),v={},i=this.__worklist,n=this.__leavelist,i.push(new u(e,null,null,null)),n.push(new u(null,null,null,null));i.length;)if((o=i.pop())!==v){if(o.node){if(a=this.__execute(t.enter,o),this.__state===x||a===x)return;if(i.push(v),n.push(o),this.__state===w||a===w)continue;if(r=o.node,s=r.type||o.wrap,!(f=this.__keys[s])){if(!this.__fallback)throw new Error("Unknown node type "+s+".");f=this.__fallback(r)}for(d=f.length;(d-=1)>=0;)if(l=f[d],g=r[l])if(m(g)){for(p=g.length;(p-=1)>=0;)if(g[p]){if(c(s,f[d]))o=new u(g[p],[l,p],"Property",null);else{if(!h(g[p]))continue;o=new u(g[p],[l,p],null,null)}i.push(o)}}else h(g)&&i.push(new u(g,l,null,null))}}else if(o=n.pop(),a=this.__execute(t.leave,o),this.__state===x||a===x)return},l.prototype.replace=function(e,t){function i(e){var t,i,o,r;if(e.ref.remove())for(i=e.ref.key,r=e.ref.parent,t=n.length;t--;)if((o=n[t]).ref&&o.ref.parent===r){if(o.ref.key<i)break;--o.ref.key}}var n,o,r,s,l,d,p,f,g,v,y,b,C;for(this.__initialize(e,t),y={},n=this.__worklist,o=this.__leavelist,d=new u(e,null,null,new a(b={root:e},"root")),n.push(d),o.push(d);n.length;)if((d=n.pop())!==y){if(void 0!==(l=this.__execute(t.enter,d))&&l!==x&&l!==w&&l!==D&&(d.ref.replace(l),d.node=l),this.__state!==D&&l!==D||(i(d),d.node=null),this.__state===x||l===x)return b.root;if((r=d.node)&&(n.push(y),o.push(d),this.__state!==w&&l!==w)){if(s=r.type||d.wrap,!(g=this.__keys[s])){if(!this.__fallback)throw new Error("Unknown node type "+s+".");g=this.__fallback(r)}for(p=g.length;(p-=1)>=0;)if(C=g[p],v=r[C])if(m(v)){for(f=v.length;(f-=1)>=0;)if(v[f]){if(c(s,g[p]))d=new u(v[f],[C,f],"Property",new a(v,f));else{if(!h(v[f]))continue;d=new u(v[f],[C,f],null,new a(v,f))}n.push(d)}}else h(v)&&n.push(new u(v,C,null,new a(r,C)))}}else if(d=o.pop(),void 0!==(l=this.__execute(t.leave,d))&&l!==x&&l!==w&&l!==D&&d.ref.replace(l),this.__state!==D&&l!==D||i(d),this.__state===x||l===x)return b.root;return b.root},i.version=t("./package.json").version,i.Syntax=f,i.traverse=d,i.replace=function(e,t){return(new l).replace(e,t)},i.attachComments=function(e,t,i){var n,r,s,a,u=[];if(!e.range)throw new Error("attachComments needs range information");if(!i.length){if(t.length){for(s=0,r=t.length;s<r;s+=1)(n=o(t[s])).extendedRange=[0,e.range[0]],u.push(n);e.leadingComments=u}return e}for(s=0,r=t.length;s<r;s+=1)u.push(p(o(t[s]),i));return a=0,d(e,{enter:function(e){for(var t;a<u.length&&!((t=u[a]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),u.splice(a,1)):a+=1;return a===u.length?g.Break:u[a].extendedRange[0]>e.range[1]?g.Skip:void 0}}),a=0,d(e,{leave:function(e){for(var t;a<u.length&&(t=u[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),u.splice(a,1)):a+=1;return a===u.length?g.Break:u[a].extendedRange[0]>e.range[1]?g.Skip:void 0}}),e},i.VisitorKeys=v,i.VisitorOption=g,i.Controller=l,i.cloneEnvironment=function(){return e({})},i}(i)}(0,e,t)}),define("esutils@2.0.2#lib/ast",function(e,t,i){!function(){"use strict";function e(e){if(null==e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function t(e){switch(e.type){case"IfStatement":return null!=e.alternate?e.alternate:e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}i.exports={isExpression:function(e){if(null==e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:e,isIterationStatement:function(e){if(null==e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function(t){return e(t)||null!=t&&"FunctionDeclaration"===t.type},isProblematicIfStatement:function(e){var i;if("IfStatement"!==e.type)return!1;if(null==e.alternate)return!1;i=e.consequent;do{if("IfStatement"===i.type&&null==i.alternate)return!0;i=t(i)}while(i);return!1},trailingStatement:t}}()}),define("esutils@2.0.2#lib/code",function(e,t,i){!function(){"use strict";function e(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(Math.floor((e-65536)/1024)+55296)+String.fromCharCode((e-65536)%1024+56320)}var t,n,o,r,s,a;for(n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},o=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],r=new Array(128),a=0;a<128;++a)r[a]=a>=97&&a<=122||a>=65&&a<=90||36===a||95===a;for(s=new Array(128),a=0;a<128;++a)s[a]=a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||36===a||95===a;i.exports={isDecimalDigit:function(e){return 48<=e&&e<=57},isHexDigit:function(e){return 48<=e&&e<=57||97<=e&&e<=102||65<=e&&e<=70},isOctalDigit:function(e){return e>=48&&e<=55},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&o.indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStartES5:function(t){return t<128?r[t]:n.NonAsciiIdentifierStart.test(e(t))},isIdentifierPartES5:function(t){return t<128?s[t]:n.NonAsciiIdentifierPart.test(e(t))},isIdentifierStartES6:function(i){return i<128?r[i]:t.NonAsciiIdentifierStart.test(e(i))},isIdentifierPartES6:function(i){return i<128?s[i]:t.NonAsciiIdentifierPart.test(e(i))}}}()}),define("esutils@2.0.2#lib/keyword",["require","exports","module","./code"],function(e,t,i){!function(){"use strict";function t(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(e,t){return!(!t&&"yield"===e)&&o(e,t)}function o(e,i){if(i&&t(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function r(e,t){return"null"===e||"true"===e||"false"===e||n(e,t)}function s(e,t){return"null"===e||"true"===e||"false"===e||o(e,t)}function a(e){var t,i,n;if(0===e.length)return!1;if(n=e.charCodeAt(0),!h.isIdentifierStartES5(n))return!1;for(t=1,i=e.length;t<i;++t)if(n=e.charCodeAt(t),!h.isIdentifierPartES5(n))return!1;return!0}function u(e,t){return 1024*(e-55296)+(t-56320)+65536}function l(e){var t,i,n,o,r;if(0===e.length)return!1;for(r=h.isIdentifierStartES6,t=0,i=e.length;t<i;++t){if(55296<=(n=e.charCodeAt(t))&&n<=56319){if(++t>=i)return!1;if(!(56320<=(o=e.charCodeAt(t))&&o<=57343))return!1;n=u(n,o)}if(!r(n))return!1;r=h.isIdentifierPartES6}return!0}var h=e("./code");i.exports={isKeywordES5:n,isKeywordES6:o,isReservedWordES5:r,isReservedWordES6:s,isRestrictedWord:function(e){return"eval"===e||"arguments"===e},isIdentifierNameES5:a,isIdentifierNameES6:l,isIdentifierES5:function(e,t){return a(e)&&!r(e,t)},isIdentifierES6:function(e,t){return l(e)&&!s(e,t)}}}()}),define("esutils@2.0.2#lib/utils",["require","exports","module","./ast","./code","./keyword"],function(e,t,i){!function(){"use strict";t.ast=e("./ast"),t.code=e("./code"),t.keyword=e("./keyword")}()}),define("source-map@0.6.1#lib/base64",function(e,t,i){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}}),define("source-map@0.6.1#lib/base64-vlq",["require","exports","module","./base64"],function(e,t,i){function n(e){return e<0?1+(-e<<1):0+(e<<1)}function o(e){var t=e>>1;return 1==(1&e)?-t:t}var r=e("./base64");t.encode=function(e){var t,i="",o=n(e);do{t=31&o,(o>>>=5)>0&&(t|=32),i+=r.encode(t)}while(o>0);return i},t.decode=function(e,t,i){var n,s,a=e.length,u=0,l=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));n=!!(32&s),u+=(s&=31)<<l,l+=5}while(n);i.value=o(u),i.rest=t}}),define("source-map@0.6.1#lib/util",function(e,t,i){function n(e){var t=e.match(h);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function r(e){var i=e,r=n(e);if(r){if(!r.path)return e;i=r.path}for(var s,a=t.isAbsolute(i),u=i.split(/\/+/),l=0,h=u.length-1;h>=0;h--)"."===(s=u[h])?u.splice(h,1):".."===s?l++:l>0&&(""===s?(u.splice(h+1,l),l=0):(u.splice(h,2),l--));return""===(i=u.join("/"))&&(i=a?"/":"."),r?(r.path=i,o(r)):i}function s(e,t){""===e&&(e="."),""===t&&(t=".");var i=n(t),s=n(e);if(s&&(e=s.path||"/"),i&&!i.scheme)return s&&(i.scheme=s.scheme),o(i);if(i||t.match(c))return t;if(s&&!s.host&&!s.path)return s.host=t,o(s);var a="/"===t.charAt(0)?t:r(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=a,o(s)):a}function a(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var i=t-10;i>=0;i--)if(36!==e.charCodeAt(i))return!1;return!0}function l(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.getArg=function(e,t,i){if(t in e)return e[t];if(3===arguments.length)return i;throw new Error('"'+t+'" is a required argument.')};var h=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,c=/^data:.+\,.+$/;t.urlParse=n,t.urlGenerate=o,t.normalize=r,t.join=s,t.isAbsolute=function(e){return"/"===e.charAt(0)||h.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var i=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++i}return Array(i+1).join("../")+t.substr(e.length+1)};var d=!("__proto__"in Object.create(null));t.toSetString=d?a:function(e){return u(e)?"$"+e:e},t.fromSetString=d?a:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,i){var n=l(e.source,t.source);return 0!==n?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)||i?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!=(n=e.generatedLine-t.generatedLine)?n:l(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,i){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)||i?n:0!==(n=l(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var i=e.generatedLine-t.generatedLine;return 0!==i?i:0!=(i=e.generatedColumn-t.generatedColumn)?i:0!==(i=l(e.source,t.source))?i:0!=(i=e.originalLine-t.originalLine)?i:0!=(i=e.originalColumn-t.originalColumn)?i:l(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,i){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),i){var a=n(i);if(!a)throw new Error("sourceMapURL could not be parsed");if(a.path){var u=a.path.lastIndexOf("/");u>=0&&(a.path=a.path.substring(0,u+1))}t=s(o(a),t)}return r(t)}}),define("source-map@0.6.1#lib/array-set",["require","exports","module","./util"],function(e,t,i){function n(){this._array=[],this._set=s?new Map:Object.create(null)}var o=e("./util"),r=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;n.fromArray=function(e,t){for(var i=new n,o=0,r=e.length;o<r;o++)i.add(e[o],t);return i},n.prototype.size=function(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(e,t){var i=s?e:o.toSetString(e),n=s?this.has(e):r.call(this._set,i),a=this._array.length;n&&!t||this._array.push(e),n||(s?this._set.set(e,a):this._set[i]=a)},n.prototype.has=function(e){if(s)return this._set.has(e);var t=o.toSetString(e);return r.call(this._set,t)},n.prototype.indexOf=function(e){if(s){var t=this._set.get(e);if(t>=0)return t}else{var i=o.toSetString(e);if(r.call(this._set,i))return this._set[i]}throw new Error('"'+e+'" is not in the set.')},n.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},n.prototype.toArray=function(){return this._array.slice()},t.ArraySet=n}),define("source-map@0.6.1#lib/mapping-list",["require","exports","module","./util"],function(e,t,i){function n(e,t){var i=e.generatedLine,n=t.generatedLine,o=e.generatedColumn,s=t.generatedColumn;return n>i||n==i&&s>=o||r.compareByGeneratedPositionsInflated(e,t)<=0}function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var r=e("./util");o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){n(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=o}),define("source-map@0.6.1#lib/source-map-generator",["require","exports","module","./base64-vlq","./util","./array-set","./mapping-list"],function(e,t,i){function n(e){e||(e={}),this._file=r.getArg(e,"file",null),this._sourceRoot=r.getArg(e,"sourceRoot",null),this._skipValidation=r.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new a,this._sourcesContents=null}var o=e("./base64-vlq"),r=e("./util"),s=e("./array-set").ArraySet,a=e("./mapping-list").MappingList;n.prototype._version=3,n.fromSourceMap=function(e){var t=e.sourceRoot,i=new n({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=r.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),i.addMapping(n)}),e.sources.forEach(function(n){var o=n;null!==t&&(o=r.relative(t,n)),i._sources.has(o)||i._sources.add(o);var s=e.sourceContentFor(n);null!=s&&i.setSourceContent(n,s)}),i},n.prototype.addMapping=function(e){var t=r.getArg(e,"generated"),i=r.getArg(e,"original",null),n=r.getArg(e,"source",null),o=r.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,i,n,o),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=i&&i.line,originalColumn:null!=i&&i.column,source:n,name:o})},n.prototype.setSourceContent=function(e,t){var i=e;null!=this._sourceRoot&&(i=r.relative(this._sourceRoot,i)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(i)]=t):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(i)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},n.prototype.applySourceMap=function(e,t,i){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var o=this._sourceRoot;null!=o&&(n=r.relative(o,n));var a=new s,u=new s;this._mappings.unsortedForEach(function(t){if(t.source===n&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=i&&(t.source=r.join(i,t.source)),null!=o&&(t.source=r.relative(o,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var l=t.source;null==l||a.has(l)||a.add(l);var h=t.name;null==h||u.has(h)||u.add(h)},this),this._sources=a,this._names=u,e.sources.forEach(function(t){var n=e.sourceContentFor(t);null!=n&&(null!=i&&(t=r.join(i,t)),null!=o&&(t=r.relative(o,t)),this.setSourceContent(t,n))},this)},n.prototype._validateMapping=function(e,t,i,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||i||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&i))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:i,original:t,name:n}))},n.prototype._serializeMappings=function(){for(var e,t,i,n,s=0,a=1,u=0,l=0,h=0,c=0,d="",p=this._mappings.toArray(),f=0,m=p.length;f<m;f++){if(t=p[f],e="",t.generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!r.compareByGeneratedPositionsInflated(t,p[f-1]))continue;e+=","}e+=o.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(n=this._sources.indexOf(t.source),e+=o.encode(n-c),c=n,e+=o.encode(t.originalLine-1-l),l=t.originalLine-1,e+=o.encode(t.originalColumn-u),u=t.originalColumn,null!=t.name&&(i=this._names.indexOf(t.name),e+=o.encode(i-h),h=i)),d+=e}return d},n.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=r.relative(t,e));var i=r.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},n.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},n.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=n}),define("source-map@0.6.1#lib/binary-search",function(e,t,i){function n(e,i,o,r,s,a){var u=Math.floor((i-e)/2)+e,l=s(o,r[u],!0);return 0===l?u:l>0?i-u>1?n(u,i,o,r,s,a):a==t.LEAST_UPPER_BOUND?i<r.length?i:-1:u:u-e>1?n(e,u,o,r,s,a):a==t.LEAST_UPPER_BOUND?u:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,i,o,r){if(0===i.length)return-1;var s=n(-1,i.length,e,i,o,r||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===o(i[s],i[s-1],!0);)--s;return s}}),define("source-map@0.6.1#lib/quick-sort",function(e,t,i){function n(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function o(e,t){return Math.round(e+Math.random()*(t-e))}function r(e,t,i,s){if(i<s){var a=i-1;n(e,o(i,s),s);for(var u=e[s],l=i;l<s;l++)t(e[l],u)<=0&&n(e,a+=1,l);n(e,a+1,l);var h=a+1;r(e,t,i,h-1),r(e,t,h+1,s)}}t.quickSort=function(e,t){r(e,t,0,e.length-1)}}),define("source-map@0.6.1#lib/source-map-consumer",["require","exports","module","./util","./binary-search","./array-set","./base64-vlq","./quick-sort"],function(e,t,i){function n(e,t){var i=e;return"string"==typeof e&&(i=a.parseSourceMapInput(e)),null!=i.sections?new s(i,t):new o(i,t)}function o(e,t){var i=e;"string"==typeof e&&(i=a.parseSourceMapInput(e));var n=a.getArg(i,"version"),o=a.getArg(i,"sources"),r=a.getArg(i,"names",[]),s=a.getArg(i,"sourceRoot",null),u=a.getArg(i,"sourcesContent",null),h=a.getArg(i,"mappings"),c=a.getArg(i,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);s&&(s=a.normalize(s)),o=o.map(String).map(a.normalize).map(function(e){return s&&a.isAbsolute(s)&&a.isAbsolute(e)?a.relative(s,e):e}),this._names=l.fromArray(r.map(String),!0),this._sources=l.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(e){return a.computeSourceURL(s,e,t)}),this.sourceRoot=s,this.sourcesContent=u,this._mappings=h,this._sourceMapURL=t,this.file=c}function r(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function s(e,t){var i=e;"string"==typeof e&&(i=a.parseSourceMapInput(e));var o=a.getArg(i,"version"),r=a.getArg(i,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new l,this._names=new l;var s={line:-1,column:0};this._sections=r.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var i=a.getArg(e,"offset"),o=a.getArg(i,"line"),r=a.getArg(i,"column");if(o<s.line||o===s.line&&r<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=i,{generatedOffset:{generatedLine:o+1,generatedColumn:r+1},consumer:new n(a.getArg(e,"map"),t)}})}var a=e("./util"),u=e("./binary-search"),l=e("./array-set").ArraySet,h=e("./base64-vlq"),c=e("./quick-sort").quickSort;n.fromSourceMap=function(e,t){return o.fromSourceMap(e,t)},n.prototype._version=3,n.prototype.__generatedMappings=null,Object.defineProperty(n.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),n.prototype.__originalMappings=null,Object.defineProperty(n.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),n.prototype._charIsMappingSeparator=function(e,t){var i=e.charAt(t);return";"===i||","===i},n.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},n.GENERATED_ORDER=1,n.ORIGINAL_ORDER=2,n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.prototype.eachMapping=function(e,t,i){var o,r=t||null;switch(i||n.GENERATED_ORDER){case n.GENERATED_ORDER:o=this._generatedMappings;break;case n.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return t=a.computeSourceURL(s,t,this._sourceMapURL),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,r)},n.prototype.allGeneratedPositionsFor=function(e){var t=a.getArg(e,"line"),i={source:a.getArg(e,"source"),originalLine:t,originalColumn:a.getArg(e,"column",0)};if(i.source=this._findSourceIndex(i.source),i.source<0)return[];var n=[],o=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(o>=0){var r=this._originalMappings[o];if(void 0===e.column)for(var s=r.originalLine;r&&r.originalLine===s;)n.push({line:a.getArg(r,"generatedLine",null),column:a.getArg(r,"generatedColumn",null),lastColumn:a.getArg(r,"lastGeneratedColumn",null)}),r=this._originalMappings[++o];else for(var l=r.originalColumn;r&&r.originalLine===t&&r.originalColumn==l;)n.push({line:a.getArg(r,"generatedLine",null),column:a.getArg(r,"generatedColumn",null),lastColumn:a.getArg(r,"lastGeneratedColumn",null)}),r=this._originalMappings[++o]}return n},t.SourceMapConsumer=n,(o.prototype=Object.create(n.prototype)).consumer=n,o.prototype._findSourceIndex=function(e){var t=e;if(null!=this.sourceRoot&&(t=a.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var i;for(i=0;i<this._absoluteSources.length;++i)if(this._absoluteSources[i]==e)return i;return-1},o.fromSourceMap=function(e,t){var i=Object.create(o.prototype),n=i._names=l.fromArray(e._names.toArray(),!0),s=i._sources=l.fromArray(e._sources.toArray(),!0);i.sourceRoot=e._sourceRoot,i.sourcesContent=e._generateSourcesContent(i._sources.toArray(),i.sourceRoot),i.file=e._file,i._sourceMapURL=t,i._absoluteSources=i._sources.toArray().map(function(e){return a.computeSourceURL(i.sourceRoot,e,t)});for(var u=e._mappings.toArray().slice(),h=i.__generatedMappings=[],d=i.__originalMappings=[],p=0,f=u.length;p<f;p++){var m=u[p],g=new r;g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=s.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=n.indexOf(m.name)),d.push(g)),h.push(g)}return c(i.__originalMappings,a.compareByOriginalPositions),i},o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),o.prototype._parseMappings=function(e,t){for(var i,n,o,s,u,l=1,d=0,p=0,f=0,m=0,g=0,v=e.length,y=0,b={},x={},w=[],D=[];y<v;)if(";"===e.charAt(y))l++,y++,d=0;else if(","===e.charAt(y))y++;else{for((i=new r).generatedLine=l,s=y;s<v&&!this._charIsMappingSeparator(e,s);s++);if(n=e.slice(y,s),o=b[n])y+=n.length;else{for(o=[];y<s;)h.decode(e,y,x),u=x.value,y=x.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");b[n]=o}i.generatedColumn=d+o[0],d=i.generatedColumn,o.length>1&&(i.source=m+o[1],m+=o[1],i.originalLine=p+o[2],p=i.originalLine,i.originalLine+=1,i.originalColumn=f+o[3],f=i.originalColumn,o.length>4&&(i.name=g+o[4],g+=o[4])),D.push(i),"number"==typeof i.originalLine&&w.push(i)}c(D,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=D,c(w,a.compareByOriginalPositions),this.__originalMappings=w},o.prototype._findMapping=function(e,t,i,n,o,r){if(e[i]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[i]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return u.search(e,t,o,r)},o.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var i=this._generatedMappings[e+1];if(t.generatedLine===i.generatedLine){t.lastGeneratedColumn=i.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},i=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(e,"bias",n.GREATEST_LOWER_BOUND));if(i>=0){var o=this._generatedMappings[i];if(o.generatedLine===t.generatedLine){var r=a.getArg(o,"source",null);null!==r&&(r=this._sources.at(r),r=a.computeSourceURL(this.sourceRoot,r,this._sourceMapURL));var s=a.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:r,line:a.getArg(o,"originalLine",null),column:a.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},o.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var i=this._findSourceIndex(e);if(i>=0)return this.sourcesContent[i];var n=e;null!=this.sourceRoot&&(n=a.relative(this.sourceRoot,n));var o;if(null!=this.sourceRoot&&(o=a.urlParse(this.sourceRoot))){var r=n.replace(/^file:\/\//,"");if("file"==o.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!o.path||"/"==o.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(t)return null;throw new Error('"'+n+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(e){var t=a.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var i={source:t,originalLine:a.getArg(e,"line"),originalColumn:a.getArg(e,"column")},o=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(e,"bias",n.GREATEST_LOWER_BOUND));if(o>=0){var r=this._originalMappings[o];if(r.source===i.source)return{line:a.getArg(r,"generatedLine",null),column:a.getArg(r,"generatedColumn",null),lastColumn:a.getArg(r,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=o,(s.prototype=Object.create(n.prototype)).constructor=n,s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var i=0;i<this._sections[t].consumer.sources.length;i++)e.push(this._sections[t].consumer.sources[i]);return e}}),s.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},i=u.search(t,this._sections,function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[i];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},s.prototype.sourceContentFor=function(e,t){for(var i=0;i<this._sections.length;i++){var n=this._sections[i].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var i=this._sections[t];if(-1!==i.consumer._findSourceIndex(a.getArg(e,"source"))){var n=i.consumer.generatedPositionFor(e);if(n)return{line:n.line+(i.generatedOffset.generatedLine-1),column:n.column+(i.generatedOffset.generatedLine===n.line?i.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},s.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var n=this._sections[i],o=n.consumer._generatedMappings,r=0;r<o.length;r++){var s=o[r],u=n.consumer._sources.at(s.source);u=a.computeSourceURL(n.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;s.name&&(l=n.consumer._names.at(s.name),this._names.add(l),l=this._names.indexOf(l));var h={source:u,generatedLine:s.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(n.generatedOffset.generatedLine===s.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}c(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),c(this.__originalMappings,a.compareByOriginalPositions)},t.IndexedSourceMapConsumer=s}),define("source-map@0.6.1#lib/source-node",["require","exports","module","./source-map-generator","./util"],function(e,t,i){function n(e,t,i,n,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==i?null:i,this.name=null==o?null:o,this[a]=!0,null!=n&&this.add(n)}var o=e("./source-map-generator").SourceMapGenerator,r=e("./util"),s=/(\r?\n)/,a="$$$isSourceNode$$$";n.fromStringWithSourceMap=function(e,t,i){function o(e,t){if(null===e||void 0===e.source)a.add(t);else{var o=i?r.join(i,e.source):e.source;a.add(new n(e.originalLine,e.originalColumn,o,t,e.name))}}var a=new n,u=e.split(s),l=0,h=function(){function e(){return l<u.length?u[l++]:void 0}return e()+(e()||"")},c=1,d=0,p=null;return t.eachMapping(function(e){if(null!==p){if(!(c<e.generatedLine)){var t=(i=u[l]||"").substr(0,e.generatedColumn-d);return u[l]=i.substr(e.generatedColumn-d),d=e.generatedColumn,o(p,t),void(p=e)}o(p,h()),c++,d=0}for(;c<e.generatedLine;)a.add(h()),c++;if(d<e.generatedColumn){var i=u[l]||"";a.add(i.substr(0,e.generatedColumn)),u[l]=i.substr(e.generatedColumn),d=e.generatedColumn}p=e},this),l<u.length&&(p&&o(p,h()),a.add(u.splice(l).join(""))),t.sources.forEach(function(e){var n=t.sourceContentFor(e);null!=n&&(null!=i&&(e=r.join(i,e)),a.setSourceContent(e,n))}),a},n.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},n.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},n.prototype.walk=function(e){for(var t,i=0,n=this.children.length;i<n;i++)(t=this.children[i])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},n.prototype.join=function(e){var t,i,n=this.children.length;if(n>0){for(t=[],i=0;i<n-1;i++)t.push(this.children[i]),t.push(e);t.push(this.children[i]),this.children=t}return this},n.prototype.replaceRight=function(e,t){var i=this.children[this.children.length-1];return i[a]?i.replaceRight(e,t):"string"==typeof i?this.children[this.children.length-1]=i.replace(e,t):this.children.push("".replace(e,t)),this},n.prototype.setSourceContent=function(e,t){this.sourceContents[r.toSetString(e)]=t},n.prototype.walkSourceContents=function(e){for(var t=0,i=this.children.length;t<i;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);for(var n=Object.keys(this.sourceContents),t=0,i=n.length;t<i;t++)e(r.fromSetString(n[t]),this.sourceContents[n[t]])},n.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},n.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},i=new o(e),n=!1,r=null,s=null,a=null,u=null;return this.walk(function(e,o){t.code+=e,null!==o.source&&null!==o.line&&null!==o.column?(r===o.source&&s===o.line&&a===o.column&&u===o.name||i.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name}),r=o.source,s=o.line,a=o.column,u=o.name,n=!0):n&&(i.addMapping({generated:{line:t.line,column:t.column}}),r=null,n=!1);for(var l=0,h=e.length;l<h;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===h?(r=null,n=!1):n&&i.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name})):t.column++}),this.walkSourceContents(function(e,t){i.setSourceContent(e,t)}),{code:t.code,map:i}},t.SourceNode=n}),define("source-map@0.6.1#source-map",["require","exports","module","./lib/source-map-generator","./lib/source-map-consumer","./lib/source-node"],function(e,t,i){t.SourceMapGenerator=e("./lib/source-map-generator").SourceMapGenerator,t.SourceMapConsumer=e("./lib/source-map-consumer").SourceMapConsumer,t.SourceNode=e("./lib/source-node").SourceNode}),define("escodegen@1.11.0#package.json",[],function(){return{_from:"escodegen@^1.11.0",_id:"escodegen@1.11.0",_inBundle:!1,_integrity:"sha512-IeMV45ReixHS53K/OmfKAIztN/igDHzTJUhZM3k1jMhIZWjk45SMwAtBsEXiJp3vSPmTcu6CXn7mDvFHRN66fw==",_location:"/escodegen",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"escodegen@^1.11.0",name:"escodegen",escapedName:"escodegen",rawSpec:"^1.11.0",saveSpec:null,fetchSpec:"^1.11.0"},_requiredBy:["/","/transpile"],_resolved:"https://registry.npmjs.org/escodegen/-/escodegen-1.11.0.tgz",_shasum:"b27a9389481d5bfd5bec76f7bb1eb3f8f4556589",_spec:"escodegen@^1.11.0",_where:"/home/kphillips86/dev/viewmodel-sandbox",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},bugs:{url:"https://github.com/estools/escodegen/issues"},bundleDependencies:!1,dependencies:{esprima:"^3.1.3",estraverse:"^4.2.0",esutils:"^2.0.2",optionator:"^0.8.1","source-map":"~0.6.1"},deprecated:!1,description:"ECMAScript code generator",devDependencies:{acorn:"^4.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^3.5.0","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^3.0.1","gulp-mocha":"^3.0.1",semver:"^5.1.0"},engines:{node:">=4.0"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],homepage:"http://github.com/estools/escodegen",license:"BSD-2-Clause",main:"escodegen.js",maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",url:"http://github.com/Constellation"}],name:"escodegen",optionalDependencies:{"source-map":"~0.6.1"},repository:{type:"git",url:"git+ssh://git@github.com/estools/escodegen.git"},scripts:{build:"cjsify -a path: tools/entry-point.js > escodegen.browser.js","build-min":"cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",lint:"gulp lint",release:"node tools/release.js",test:"gulp travis","unit-test":"gulp test"},version:"1.11.0"}}),define("escodegen@1.11.0#escodegen",["require","exports","module","estraverse","esutils","source-map","./package.json"],function(e,t,i){!function(e,t,i,n){!function(){"use strict";function n(e){return T.Expression.hasOwnProperty(e.type)}function o(e){return T.Statement.hasOwnProperty(e.type)}function r(e,t){var i="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(i+=e);return i}function s(e){return/[\r\n]/g.test(e)}function a(e){var t=e.length;return t&&H.code.isLineTerminator(e.charCodeAt(t-1))}function u(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function l(e,t){function i(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var n,o;for(n in t)t.hasOwnProperty(n)&&(i(o=t[n])?i(e[n])?l(e[n],o):e[n]=l({},o):e[n]=o);return e}function h(e){var t,i,n,o,r;if(e!==e)throw new Error("Numeric literal whose value is NaN");if(e<0||0===e&&1/e<0)throw new Error("Numeric literal whose value is negative");if(e===1/0)return q?"null":K?"1e400":"1e+400";if(t=""+e,!K||t.length<3)return t;for(i=t.indexOf("."),q||48!==t.charCodeAt(0)||1!==i||(i=0,t=t.slice(1)),n=t,t=t.replace("e+","e"),o=0,(r=n.indexOf("e"))>0&&(o=+n.slice(r+1),n=n.slice(0,r)),i>=0&&(o-=n.length-i-1,n=+(n.slice(0,i)+n.slice(i+1))+""),r=0;48===n.charCodeAt(n.length+r-1);)--r;return 0!==r&&(o-=r,n=n.slice(0,r)),0!==o&&(n+="e"+o),(n.length<t.length||G&&e>1e12&&Math.floor(e)===e&&(n="0x"+e.toString(16)).length<t.length)&&+n===e&&(t=n),t}function c(e,t){return 8232==(-2&e)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function d(e){var t,i,n,o,r,s,a,u;if(i=e.toString(),e.source){if(!(t=i.match(/\/([^/]*)$/)))return i;for(n=t[1],i="",a=!1,u=!1,o=0,r=e.source.length;o<r;++o)s=e.source.charCodeAt(o),u?(i+=c(s,u),u=!1):(a?93===s&&(a=!1):47===s?i+="\\":91===s&&(a=!0),i+=c(s,u),u=92===s);return"/"+i+"/"+n}return i}function p(e,t){var i;return 8===e?"\\b":12===e?"\\f":9===e?"\\t":(i=e.toString(16).toUpperCase(),q||e>255?"\\u"+"0000".slice(i.length)+i:0!==e||H.code.isDecimalDigit(t)?11===e?"\\x0B":"\\x"+"00".slice(i.length)+i:"\\0")}function f(e){if(92===e)return"\\\\";if(10===e)return"\\n";if(13===e)return"\\r";if(8232===e)return"\\u2028";if(8233===e)return"\\u2029";throw new Error("Incorrectly classified character")}function m(e){var t,i,n,o;for(o="double"===Y?'"':"'",t=0,i=e.length;t<i;++t){if(39===(n=e.charCodeAt(t))){o='"';break}if(34===n){o="'";break}92===n&&++t}return o+e+o}function g(e){var t,i,n,o,r,s="",a=0,u=0;for(t=0,i=e.length;t<i;++t){if(39===(n=e.charCodeAt(t)))++a;else if(34===n)++u;else if(47===n&&q)s+="\\";else{if(H.code.isLineTerminator(n)||92===n){s+=f(n);continue}if(!H.code.isIdentifierPartES5(n)&&(q&&n<32||!q&&!X&&(n<32||n>126))){s+=p(n,e.charCodeAt(t+1));continue}}s+=String.fromCharCode(n)}if(o=!("double"===Y||"auto"===Y&&u<a),r=o?"'":'"',!(o?a:u))return r+s+r;for(e=s,s=r,t=0,i=e.length;t<i;++t)(39===(n=e.charCodeAt(t))&&o||34===n&&!o)&&(s+="\\"),s+=String.fromCharCode(n);return s+r}function v(e){var t,i,n,o="";for(t=0,i=e.length;t<i;++t)n=e[t],o+=Array.isArray(n)?v(n):n;return o}function y(e,t){if(!oe)return Array.isArray(e)?v(e):e;if(null==t){if(e instanceof j)return e;t={}}return null==t.loc?new j(null,null,oe,e,t.name||null):new j(t.loc.start.line,t.loc.start.column,!0===oe?t.loc.source||null:oe,e,t.name||null)}function b(){return Z||" "}function x(e,t){var i,n,o,r;return 0===(i=y(e).toString()).length?[t]:0===(n=y(t).toString()).length?[e]:(o=i.charCodeAt(i.length-1),r=n.charCodeAt(0),(43===o||45===o)&&o===r||H.code.isIdentifierPartES5(o)&&H.code.isIdentifierPartES5(r)||47===o&&105===r?[e,b(),t]:H.code.isWhiteSpace(o)||H.code.isLineTerminator(o)||H.code.isWhiteSpace(r)||H.code.isLineTerminator(r)?[e,t]:[e,Z,t])}function w(e){return[W,e]}function D(e){var t;t=W,e(W+=U),W=t}function C(e){var t;for(t=e.length-1;t>=0&&!H.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}function k(e,t){var i,n,o,r,s,a,u,l;for(i=e.split(/\r\n|[\r\n]/),a=Number.MAX_VALUE,n=1,o=i.length;n<o;++n){for(r=i[n],s=0;s<r.length&&H.code.isWhiteSpace(r.charCodeAt(s));)++s;a>s&&(a=s)}for(void 0!==t?(u=W,"*"===i[1][a]&&(t+=" "),W=t):(1&a&&--a,u=W),n=1,o=i.length;n<o;++n)l=y(w(i[n].slice(a))),i[n]=oe?l.join(""):l;return W=u,i.join("\n")}function _(e,t){if("Line"===e.type){if(a(e.value))return"//"+e.value;var i="//"+e.value;return se||(i+="\n"),i}return ie.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?k("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function E(e,t){var i,n,o,s,u,l,h,c,d,p,f,m;if(e.leadingComments&&e.leadingComments.length>0){if(s=t,se){for(t=[],c=(o=e.leadingComments[0]).extendedRange,d=o.range,(m=((f=re.substring(c[0],d[0])).match(/\n/g)||[]).length)>0?(t.push(r("\n",m)),t.push(w(_(o)))):(t.push(f),t.push(_(o))),p=d,i=1,n=e.leadingComments.length;i<n;i++)d=(o=e.leadingComments[i]).range,m=(re.substring(p[1],d[0]).match(/\n/g)||[]).length,t.push(r("\n",m)),t.push(w(_(o))),p=d;m=(re.substring(d[1],c[1]).match(/\n/g)||[]).length,t.push(r("\n",m))}else for(o=e.leadingComments[0],t=[],ee&&e.type===I.Program&&0===e.body.length&&t.push("\n"),t.push(_(o)),a(y(t).toString())||t.push("\n"),i=1,n=e.leadingComments.length;i<n;++i)a(y(h=[_(o=e.leadingComments[i])]).toString())||h.push("\n"),t.push(w(h));t.push(w(s))}if(e.trailingComments)if(se)c=(o=e.trailingComments[0]).extendedRange,d=o.range,(m=((f=re.substring(c[0],d[0])).match(/\n/g)||[]).length)>0?(t.push(r("\n",m)),t.push(w(_(o)))):(t.push(f),t.push(_(o)));else for(u=!a(y(t).toString()),l=r(" ",C(y([W,t,U]).toString())),i=0,n=e.trailingComments.length;i<n;++i)o=e.trailingComments[i],u?(t=0===i?[t,U]:[t,l]).push(_(o,l)):t=[t,w(_(o))],i===n-1||a(y(t).toString())||(t=[t,"\n"]);return t}function S(e,t,i){var n,o=0;for(n=e;n<t;n++)"\n"===re[n]&&o++;for(n=1;n<o;n++)i.push(J)}function A(e,t,i){return t<i?["(",e,")"]:e}function F(e){var t,i,n;for(t=1,i=(n=e.split(/\r\n|\n/)).length;t<i;t++)n[t]=J+W+n[t];return n}function M(e,t){var i,n;return i=e[ie.verbatim],n="string"==typeof i?A(F(i),R.Sequence,t):A(n=F(i.content),null!=i.precedence?i.precedence:R.Sequence,t),y(n,e)}function T(){}function O(e){return y(e.name,e)}function B(e,t){return e.async?"async"+(t?b():Z):""}function L(e){return e.generator&&!ie.moz.starlessGenerator?"*"+Z:""}function P(e){var t=e.value,i="";return t.async&&(i+=B(t,!e.computed)),t.generator&&(i+=L(t)?"*":""),i}function N(e){var t;if(t=new T,o(e))return t.generateStatement(e,he);if(n(e))return t.generateExpression(e,R.Sequence,le);throw new Error("Unknown node type: "+e.type)}var I,R,z,j,V,H,W,U,q,K,G,Y,X,J,Z,$,Q,ee,te,ie,ne,oe,re,se,ae,ue;V=t("estraverse"),H=t("esutils"),I=V.Syntax,z={"||":(R={Sequence:0,Yield:1,Await:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19}).LogicalOR,"&&":R.LogicalAND,"|":R.BitwiseOR,"^":R.BitwiseXOR,"&":R.BitwiseAND,"==":R.Equality,"!=":R.Equality,"===":R.Equality,"!==":R.Equality,is:R.Equality,isnt:R.Equality,"<":R.Relational,">":R.Relational,"<=":R.Relational,">=":R.Relational,in:R.Relational,instanceof:R.Relational,"<<":R.BitwiseSHIFT,">>":R.BitwiseSHIFT,">>>":R.BitwiseSHIFT,"+":R.Additive,"-":R.Additive,"*":R.Multiplicative,"%":R.Multiplicative,"/":R.Multiplicative};var le=7,he=1;T.prototype.maybeBlock=function(e,t){var i,n,o=this;return n=!ie.comment||!e.leadingComments,e.type===I.BlockStatement&&n?[Z,this.generateStatement(e,t)]:e.type===I.EmptyStatement&&n?";":(D(function(){i=[J,w(o.generateStatement(e,t))]}),i)},T.prototype.maybeBlockSuffix=function(e,t){var i=a(y(t).toString());return e.type!==I.BlockStatement||ie.comment&&e.leadingComments||i?i?[t,W]:[t,J,W]:[t,Z]},T.prototype.generatePattern=function(e,t,i){return e.type===I.Identifier?O(e):this.generateExpression(e,t,i)},T.prototype.generateFunctionParams=function(e){var t,i,n,o;if(o=!1,e.type!==I.ArrowFunctionExpression||e.rest||e.defaults&&0!==e.defaults.length||1!==e.params.length||e.params[0].type!==I.Identifier){for((n=e.type===I.ArrowFunctionExpression?[B(e,!1)]:[]).push("("),e.defaults&&(o=!0),t=0,i=e.params.length;t<i;++t)o&&e.defaults[t]?n.push(this.generateAssignment(e.params[t],e.defaults[t],"=",R.Assignment,le)):n.push(this.generatePattern(e.params[t],R.Assignment,le)),t+1<i&&n.push(","+Z);e.rest&&(e.params.length&&n.push(","+Z),n.push("..."),n.push(O(e.rest))),n.push(")")}else n=[B(e,!0),O(e.params[0])];return n},T.prototype.generateFunctionBody=function(e){var t,i;return t=this.generateFunctionParams(e),e.type===I.ArrowFunctionExpression&&(t.push(Z),t.push("=>")),e.expression?(t.push(Z),"{"===(i=this.generateExpression(e.body,R.Assignment,le)).toString().charAt(0)&&(i=["(",i,")"]),t.push(i)):t.push(this.maybeBlock(e.body,9)),t},T.prototype.generateIterationForStatement=function(e,t,i){var n=["for"+Z+(t.await?"await"+Z:"")+"("],o=this;return D(function(){t.left.type===I.VariableDeclaration?D(function(){n.push(t.left.kind+b()),n.push(o.generateStatement(t.left.declarations[0],0))}):n.push(o.generateExpression(t.left,R.Call,le)),n=x(n,e),n=[x(n,o.generateExpression(t.right,R.Sequence,le)),")"]}),n.push(this.maybeBlock(t.body,i)),n},T.prototype.generatePropertyKey=function(e,t){var i=[];return t&&i.push("["),i.push(this.generateExpression(e,R.Sequence,le)),t&&i.push("]"),i},T.prototype.generateAssignment=function(e,t,i,n,o){return R.Assignment<n&&(o|=1),A([this.generateExpression(e,R.Call,o),Z+i+Z,this.generateExpression(t,R.Assignment,o)],R.Assignment,n)},T.prototype.semicolon=function(e){return!Q&&32&e?"":";"},T.Statement={BlockStatement:function(e,t){var i,n,o=["{",J],r=this;return D(function(){0===e.body.length&&se&&(i=e.range)[1]-i[0]>2&&("\n"===(n=re.substring(i[0]+1,i[1]-1))[0]&&(o=["{"]),o.push(n));var s,u,l,h;for(h=he,8&t&&(h|=16),s=0,u=e.body.length;s<u;++s)se&&(0===s&&(e.body[0].leadingComments&&(i=e.body[0].leadingComments[0].extendedRange,"\n"===(n=re.substring(i[0],i[1]))[0]&&(o=["{"])),e.body[0].leadingComments||S(e.range[0],e.body[0].range[0],o)),s>0&&(e.body[s-1].trailingComments||e.body[s].leadingComments||S(e.body[s-1].range[1],e.body[s].range[0],o))),s===u-1&&(h|=32),l=e.body[s].leadingComments&&se?r.generateStatement(e.body[s],h):w(r.generateStatement(e.body[s],h)),o.push(l),a(y(l).toString())||(se&&s<u-1?e.body[s+1].leadingComments||o.push(J):o.push(J)),se&&s===u-1&&(e.body[s].trailingComments||S(e.body[s].range[1],e.range[1],o))}),o.push(w("}")),o},BreakStatement:function(e,t){return e.label?"break "+e.label.name+this.semicolon(t):"break"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?"continue "+e.label.name+this.semicolon(t):"continue"+this.semicolon(t)},ClassBody:function(e,t){var i=["{",J],n=this;return D(function(t){var o,r;for(o=0,r=e.body.length;o<r;++o)i.push(t),i.push(n.generateExpression(e.body[o],R.Sequence,le)),o+1<r&&i.push(J)}),a(y(i).toString())||i.push(J),i.push(W),i.push("}"),i},ClassDeclaration:function(e,t){var i;return i=["class"],e.id&&(i=x(i,this.generateExpression(e.id,R.Sequence,le))),e.superClass&&(i=x(i,x("extends",this.generateExpression(e.superClass,R.Assignment,le)))),i.push(Z),i.push(this.generateStatement(e.body,33)),i},DirectiveStatement:function(e,t){return ie.raw&&e.raw?e.raw+this.semicolon(t):m(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,t){var i=x("do",this.maybeBlock(e.body,he));return i=this.maybeBlockSuffix(e.body,i),x(i,["while"+Z+"(",this.generateExpression(e.test,R.Sequence,le),")"+this.semicolon(t)])},CatchClause:function(e,t){var i,n=this;return D(function(){var t;i=["catch"+Z+"(",n.generateExpression(e.param,R.Sequence,le),")"],e.guard&&(t=n.generateExpression(e.guard,R.Sequence,le),i.splice(2,0," if ",t))}),i.push(this.maybeBlock(e.body,he)),i},DebuggerStatement:function(e,t){return"debugger"+this.semicolon(t)},EmptyStatement:function(e,t){return";"},ExportDefaultDeclaration:function(e,t){var i,n=["export"];return i=32&t?33:he,n=x(n,"default"),n=o(e.declaration)?x(n,this.generateStatement(e.declaration,i)):x(n,this.generateExpression(e.declaration,R.Assignment,le)+this.semicolon(t))},ExportNamedDeclaration:function(e,t){var i,n=["export"],o=this;return i=32&t?33:he,e.declaration?x(n,this.generateStatement(e.declaration,i)):(e.specifiers&&(0===e.specifiers.length?n=x(n,"{"+Z+"}"):e.specifiers[0].type===I.ExportBatchSpecifier?n=x(n,this.generateExpression(e.specifiers[0],R.Sequence,le)):(n=x(n,"{"),D(function(t){var i,r;for(n.push(J),i=0,r=e.specifiers.length;i<r;++i)n.push(t),n.push(o.generateExpression(e.specifiers[i],R.Sequence,le)),i+1<r&&n.push(","+J)}),a(y(n).toString())||n.push(J),n.push(W+"}")),e.source?n=x(n,["from"+Z,this.generateExpression(e.source,R.Sequence,le),this.semicolon(t)]):n.push(this.semicolon(t))),n)},ExportAllDeclaration:function(e,t){return["export"+Z,"*"+Z,"from"+Z,this.generateExpression(e.source,R.Sequence,le),this.semicolon(t)]},ExpressionStatement:function(e,t){var i,n;return i=[this.generateExpression(e.expression,R.Sequence,le)],123===(n=y(i).toString()).charCodeAt(0)||function(e){var t;return"class"===e.slice(0,5)&&(123===(t=e.charCodeAt(5))||H.code.isWhiteSpace(t)||H.code.isLineTerminator(t))}(n)||function(e){var t;return"function"===e.slice(0,8)&&(40===(t=e.charCodeAt(8))||H.code.isWhiteSpace(t)||42===t||H.code.isLineTerminator(t))}(n)||function(e){var t,i,n;if("async"!==e.slice(0,5))return!1;if(!H.code.isWhiteSpace(e.charCodeAt(5)))return!1;for(i=6,n=e.length;i<n&&H.code.isWhiteSpace(e.charCodeAt(i));++i);return i!==n&&"function"===e.slice(i,i+8)&&(40===(t=e.charCodeAt(i+8))||H.code.isWhiteSpace(t)||42===t||H.code.isLineTerminator(t))}(n)||te&&16&t&&e.expression.type===I.Literal&&"string"==typeof e.expression.value?i=["(",i,")"+this.semicolon(t)]:i.push(this.semicolon(t)),i},ImportDeclaration:function(e,t){var i,n,o=this;return 0===e.specifiers.length?["import",Z,this.generateExpression(e.source,R.Sequence,le),this.semicolon(t)]:(i=["import"],n=0,e.specifiers[n].type===I.ImportDefaultSpecifier&&(i=x(i,[this.generateExpression(e.specifiers[n],R.Sequence,le)]),++n),e.specifiers[n]&&(0!==n&&i.push(","),e.specifiers[n].type===I.ImportNamespaceSpecifier?i=x(i,[Z,this.generateExpression(e.specifiers[n],R.Sequence,le)]):(i.push(Z+"{"),e.specifiers.length-n==1?(i.push(Z),i.push(this.generateExpression(e.specifiers[n],R.Sequence,le)),i.push(Z+"}"+Z)):(D(function(t){var r,s;for(i.push(J),r=n,s=e.specifiers.length;r<s;++r)i.push(t),i.push(o.generateExpression(e.specifiers[r],R.Sequence,le)),r+1<s&&i.push(","+J)}),a(y(i).toString())||i.push(J),i.push(W+"}"+Z)))),i=x(i,["from"+Z,this.generateExpression(e.source,R.Sequence,le),this.semicolon(t)]))},VariableDeclarator:function(e,t){var i=1&t?le:6;return e.init?[this.generateExpression(e.id,R.Assignment,i),Z,"=",Z,this.generateExpression(e.init,R.Assignment,i)]:this.generatePattern(e.id,R.Assignment,i)},VariableDeclaration:function(e,t){function i(){for(s=e.declarations[0],ie.comment&&s.leadingComments?(n.push("\n"),n.push(w(u.generateStatement(s,a)))):(n.push(b()),n.push(u.generateStatement(s,a))),o=1,r=e.declarations.length;o<r;++o)s=e.declarations[o],ie.comment&&s.leadingComments?(n.push(","+J),n.push(w(u.generateStatement(s,a)))):(n.push(","+Z),n.push(u.generateStatement(s,a)))}var n,o,r,s,a,u=this;return n=[e.kind],a=1&t?he:0,e.declarations.length>1?D(i):i(),n.push(this.semicolon(t)),n},ThrowStatement:function(e,t){return[x("throw",this.generateExpression(e.argument,R.Sequence,le)),this.semicolon(t)]},TryStatement:function(e,t){var i,n,o,r;if(i=["try",this.maybeBlock(e.block,he)],i=this.maybeBlockSuffix(e.block,i),e.handlers)for(n=0,o=e.handlers.length;n<o;++n)i=x(i,this.generateStatement(e.handlers[n],he)),(e.finalizer||n+1!==o)&&(i=this.maybeBlockSuffix(e.handlers[n].body,i));else{for(n=0,o=(r=e.guardedHandlers||[]).length;n<o;++n)i=x(i,this.generateStatement(r[n],he)),(e.finalizer||n+1!==o)&&(i=this.maybeBlockSuffix(r[n].body,i));if(e.handler)if(Array.isArray(e.handler))for(n=0,o=e.handler.length;n<o;++n)i=x(i,this.generateStatement(e.handler[n],he)),(e.finalizer||n+1!==o)&&(i=this.maybeBlockSuffix(e.handler[n].body,i));else i=x(i,this.generateStatement(e.handler,he)),e.finalizer&&(i=this.maybeBlockSuffix(e.handler.body,i))}return e.finalizer&&(i=x(i,["finally",this.maybeBlock(e.finalizer,he)])),i},SwitchStatement:function(e,t){var i,n,o,r,s,u=this;if(D(function(){i=["switch"+Z+"(",u.generateExpression(e.discriminant,R.Sequence,le),")"+Z+"{"+J]}),e.cases)for(s=he,o=0,r=e.cases.length;o<r;++o)o===r-1&&(s|=32),n=w(this.generateStatement(e.cases[o],s)),i.push(n),a(y(n).toString())||i.push(J);return i.push(w("}")),i},SwitchCase:function(e,t){var i,n,o,r,s,u=this;return D(function(){for(i=e.test?[x("case",u.generateExpression(e.test,R.Sequence,le)),":"]:["default:"],o=0,(r=e.consequent.length)&&e.consequent[0].type===I.BlockStatement&&(n=u.maybeBlock(e.consequent[0],he),i.push(n),o=1),o===r||a(y(i).toString())||i.push(J),s=he;o<r;++o)o===r-1&&32&t&&(s|=32),n=w(u.generateStatement(e.consequent[o],s)),i.push(n),o+1===r||a(y(n).toString())||i.push(J)}),i},IfStatement:function(e,t){var i,n,o,r=this;return D(function(){i=["if"+Z+"(",r.generateExpression(e.test,R.Sequence,le),")"]}),o=32&t,n=he,o&&(n|=32),e.alternate?(i.push(this.maybeBlock(e.consequent,he)),i=this.maybeBlockSuffix(e.consequent,i),i=e.alternate.type===I.IfStatement?x(i,["else ",this.generateStatement(e.alternate,n)]):x(i,x("else",this.maybeBlock(e.alternate,n)))):i.push(this.maybeBlock(e.consequent,n)),i},ForStatement:function(e,t){var i,n=this;return D(function(){i=["for"+Z+"("],e.init?e.init.type===I.VariableDeclaration?i.push(n.generateStatement(e.init,0)):(i.push(n.generateExpression(e.init,R.Sequence,6)),i.push(";")):i.push(";"),e.test?(i.push(Z),i.push(n.generateExpression(e.test,R.Sequence,le)),i.push(";")):i.push(";"),e.update?(i.push(Z),i.push(n.generateExpression(e.update,R.Sequence,le)),i.push(")")):i.push(")")}),i.push(this.maybeBlock(e.body,32&t?33:he)),i},ForInStatement:function(e,t){return this.generateIterationForStatement("in",e,32&t?33:he)},ForOfStatement:function(e,t){return this.generateIterationForStatement("of",e,32&t?33:he)},LabeledStatement:function(e,t){return[e.label.name+":",this.maybeBlock(e.body,32&t?33:he)]},Program:function(e,t){var i,n,o,r,s;for(r=e.body.length,i=[ee&&r>0?"\n":""],s=17,o=0;o<r;++o)ee||o!==r-1||(s|=32),se&&(0===o&&(e.body[0].leadingComments||S(e.range[0],e.body[o].range[0],i)),o>0&&(e.body[o-1].trailingComments||e.body[o].leadingComments||S(e.body[o-1].range[1],e.body[o].range[0],i))),n=w(this.generateStatement(e.body[o],s)),i.push(n),o+1<r&&!a(y(n).toString())&&(se?e.body[o+1].leadingComments||i.push(J):i.push(J)),se&&o===r-1&&(e.body[o].trailingComments||S(e.body[o].range[1],e.range[1],i));return i},FunctionDeclaration:function(e,t){return[B(e,!0),"function",L(e)||b(),e.id?O(e.id):"",this.generateFunctionBody(e)]},ReturnStatement:function(e,t){return e.argument?[x("return",this.generateExpression(e.argument,R.Sequence,le)),this.semicolon(t)]:["return"+this.semicolon(t)]},WhileStatement:function(e,t){var i,n=this;return D(function(){i=["while"+Z+"(",n.generateExpression(e.test,R.Sequence,le),")"]}),i.push(this.maybeBlock(e.body,32&t?33:he)),i},WithStatement:function(e,t){var i,n=this;return D(function(){i=["with"+Z+"(",n.generateExpression(e.object,R.Sequence,le),")"]}),i.push(this.maybeBlock(e.body,32&t?33:he)),i}},u(T.prototype,T.Statement),T.Expression={SequenceExpression:function(e,t,i){var n,o,r;for(R.Sequence<t&&(i|=1),n=[],o=0,r=e.expressions.length;o<r;++o)n.push(this.generateExpression(e.expressions[o],R.Assignment,i)),o+1<r&&n.push(","+Z);return A(n,R.Sequence,t)},AssignmentExpression:function(e,t,i){return this.generateAssignment(e.left,e.right,e.operator,t,i)},ArrowFunctionExpression:function(e,t,i){return A(this.generateFunctionBody(e),R.ArrowFunction,t)},ConditionalExpression:function(e,t,i){return R.Conditional<t&&(i|=1),A([this.generateExpression(e.test,R.LogicalOR,i),Z+"?"+Z,this.generateExpression(e.consequent,R.Assignment,i),Z+":"+Z,this.generateExpression(e.alternate,R.Assignment,i)],R.Conditional,t)},LogicalExpression:function(e,t,i){return this.BinaryExpression(e,t,i)},BinaryExpression:function(e,t,i){var n,o,r,s;return(o=z[e.operator])<t&&(i|=1),r=this.generateExpression(e.left,o,i),s=r.toString(),n=47===s.charCodeAt(s.length-1)&&H.code.isIdentifierPartES5(e.operator.charCodeAt(0))?[r,b(),e.operator]:x(r,e.operator),r=this.generateExpression(e.right,o+1,i),"/"===e.operator&&"/"===r.toString().charAt(0)||"<"===e.operator.slice(-1)&&"!--"===r.toString().slice(0,3)?(n.push(b()),n.push(r)):n=x(n,r),"in"!==e.operator||1&i?A(n,o,t):["(",n,")"]},CallExpression:function(e,t,i){var n,o,r;for((n=[this.generateExpression(e.callee,R.Call,3)]).push("("),o=0,r=e.arguments.length;o<r;++o)n.push(this.generateExpression(e.arguments[o],R.Assignment,le)),o+1<r&&n.push(","+Z);return n.push(")"),2&i?A(n,R.Call,t):["(",n,")"]},NewExpression:function(e,t,i){var n,o,r,s,a;if(o=e.arguments.length,a=4&i&&!$&&0===o?5:1,n=x("new",this.generateExpression(e.callee,R.New,a)),!(4&i)||$||o>0){for(n.push("("),r=0,s=o;r<s;++r)n.push(this.generateExpression(e.arguments[r],R.Assignment,le)),r+1<s&&n.push(","+Z);n.push(")")}return A(n,R.New,t)},MemberExpression:function(e,t,i){var n,o;return n=[this.generateExpression(e.object,R.Call,2&i?3:1)],e.computed?(n.push("["),n.push(this.generateExpression(e.property,R.Sequence,2&i?le:5)),n.push("]")):(e.object.type===I.Literal&&"number"==typeof e.object.value&&(o=y(n).toString()).indexOf(".")<0&&!/[eExX]/.test(o)&&H.code.isDecimalDigit(o.charCodeAt(o.length-1))&&!(o.length>=2&&48===o.charCodeAt(0))&&n.push(" "),n.push("."),n.push(O(e.property))),A(n,R.Member,t)},MetaProperty:function(e,t,i){var n;return(n=[]).push("string"==typeof e.meta?e.meta:O(e.meta)),n.push("."),n.push("string"==typeof e.property?e.property:O(e.property)),A(n,R.Member,t)},UnaryExpression:function(e,t,i){var n,o,r,s,a;return o=this.generateExpression(e.argument,R.Unary,le),""===Z?n=x(e.operator,o):(n=[e.operator],e.operator.length>2?n=x(n,o):(a=(s=y(n).toString()).charCodeAt(s.length-1),r=o.toString().charCodeAt(0),(43===a||45===a)&&a===r||H.code.isIdentifierPartES5(a)&&H.code.isIdentifierPartES5(r)?(n.push(b()),n.push(o)):n.push(o))),A(n,R.Unary,t)},YieldExpression:function(e,t,i){var n;return n=e.delegate?"yield*":"yield",e.argument&&(n=x(n,this.generateExpression(e.argument,R.Yield,le))),A(n,R.Yield,t)},AwaitExpression:function(e,t,i){return A(x(e.all?"await*":"await",this.generateExpression(e.argument,R.Await,le)),R.Await,t)},UpdateExpression:function(e,t,i){return e.prefix?A([e.operator,this.generateExpression(e.argument,R.Unary,le)],R.Unary,t):A([this.generateExpression(e.argument,R.Postfix,le),e.operator],R.Postfix,t)},FunctionExpression:function(e,t,i){var n=[B(e,!0),"function"];return e.id?(n.push(L(e)||b()),n.push(O(e.id))):n.push(L(e)||Z),n.push(this.generateFunctionBody(e)),n},ArrayPattern:function(e,t,i){return this.ArrayExpression(e,t,i,!0)},ArrayExpression:function(e,t,i,n){var o,r,s=this;return e.elements.length?(r=!n&&e.elements.length>1,o=["[",r?J:""],D(function(t){var i,n;for(i=0,n=e.elements.length;i<n;++i)e.elements[i]?(o.push(r?t:""),o.push(s.generateExpression(e.elements[i],R.Assignment,le))):(r&&o.push(t),i+1===n&&o.push(",")),i+1<n&&o.push(","+(r?J:Z))}),r&&!a(y(o).toString())&&o.push(J),o.push(r?W:""),o.push("]"),o):"[]"},RestElement:function(e,t,i){return"..."+this.generatePattern(e.argument)},ClassExpression:function(e,t,i){var n;return n=["class"],e.id&&(n=x(n,this.generateExpression(e.id,R.Sequence,le))),e.superClass&&(n=x(n,x("extends",this.generateExpression(e.superClass,R.Assignment,le)))),n.push(Z),n.push(this.generateStatement(e.body,33)),n},MethodDefinition:function(e,t,i){var n,o;return n=e.static?["static"+Z]:[],o="get"===e.kind||"set"===e.kind?[x(e.kind,this.generatePropertyKey(e.key,e.computed)),this.generateFunctionBody(e.value)]:[P(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)],x(n,o)},Property:function(e,t,i){return"get"===e.kind||"set"===e.kind?[e.kind,b(),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:e.shorthand?"AssignmentPattern"===e.value.type?this.AssignmentPattern(e.value,R.Sequence,le):this.generatePropertyKey(e.key,e.computed):e.method?[P(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:[this.generatePropertyKey(e.key,e.computed),":"+Z,this.generateExpression(e.value,R.Assignment,le)]},ObjectExpression:function(e,t,i){var n,o,r,u=this;return e.properties.length?(n=e.properties.length>1,D(function(){r=u.generateExpression(e.properties[0],R.Sequence,le)}),n||s(y(r).toString())?(D(function(t){var i,s;if(o=["{",J,t,r],n)for(o.push(","+J),i=1,s=e.properties.length;i<s;++i)o.push(t),o.push(u.generateExpression(e.properties[i],R.Sequence,le)),i+1<s&&o.push(","+J)}),a(y(o).toString())||o.push(J),o.push(W),o.push("}"),o):["{",Z,r,Z,"}"]):"{}"},AssignmentPattern:function(e,t,i){return this.generateAssignment(e.left,e.right,"=",t,i)},ObjectPattern:function(e,t,i){var n,o,r,s,u=this;if(!e.properties.length)return"{}";if(s=!1,1===e.properties.length)e.properties[0].value.type!==I.Identifier&&(s=!0);else for(o=0,r=e.properties.length;o<r;++o)if(!e.properties[o].shorthand){s=!0;break}return n=["{",s?J:""],D(function(t){var i,o;for(i=0,o=e.properties.length;i<o;++i)n.push(s?t:""),n.push(u.generateExpression(e.properties[i],R.Sequence,le)),i+1<o&&n.push(","+(s?J:Z))}),s&&!a(y(n).toString())&&n.push(J),n.push(s?W:""),n.push("}"),n},ThisExpression:function(e,t,i){return"this"},Super:function(e,t,i){return"super"},Identifier:function(e,t,i){return O(e)},ImportDefaultSpecifier:function(e,t,i){return O(e.id||e.local)},ImportNamespaceSpecifier:function(e,t,i){var n=["*"],o=e.id||e.local;return o&&n.push(Z+"as"+b()+O(o)),n},ImportSpecifier:function(e,t,i){var n=e.imported,o=[n.name],r=e.local;return r&&r.name!==n.name&&o.push(b()+"as"+b()+O(r)),o},ExportSpecifier:function(e,t,i){var n=e.local,o=[n.name],r=e.exported;return r&&r.name!==n.name&&o.push(b()+"as"+b()+O(r)),o},Literal:function(e,t,i){var n;if(e.hasOwnProperty("raw")&&ne&&ie.raw)try{if((n=ne(e.raw).body[0].expression).type===I.Literal&&n.value===e.value)return e.raw}catch(e){}return null===e.value?"null":"string"==typeof e.value?g(e.value):"number"==typeof e.value?h(e.value):"boolean"==typeof e.value?e.value?"true":"false":e.regex?"/"+e.regex.pattern+"/"+e.regex.flags:d(e.value)},GeneratorExpression:function(e,t,i){return this.ComprehensionExpression(e,t,i)},ComprehensionExpression:function(e,t,i){var n,o,r,s,a=this;return n=e.type===I.GeneratorExpression?["("]:["["],ie.moz.comprehensionExpressionStartsWithAssignment&&(s=this.generateExpression(e.body,R.Assignment,le),n.push(s)),e.blocks&&D(function(){for(o=0,r=e.blocks.length;o<r;++o)s=a.generateExpression(e.blocks[o],R.Sequence,le),o>0||ie.moz.comprehensionExpressionStartsWithAssignment?n=x(n,s):n.push(s)}),e.filter&&(n=x(n,"if"+Z),s=this.generateExpression(e.filter,R.Sequence,le),n=x(n,["(",s,")"])),ie.moz.comprehensionExpressionStartsWithAssignment||(s=this.generateExpression(e.body,R.Assignment,le),n=x(n,s)),n.push(e.type===I.GeneratorExpression?")":"]"),n},ComprehensionBlock:function(e,t,i){var n;return n=e.left.type===I.VariableDeclaration?[e.left.kind,b(),this.generateStatement(e.left.declarations[0],0)]:this.generateExpression(e.left,R.Call,le),n=x(n,e.of?"of":"in"),n=x(n,this.generateExpression(e.right,R.Sequence,le)),["for"+Z+"(",n,")"]},SpreadElement:function(e,t,i){return["...",this.generateExpression(e.argument,R.Assignment,le)]},TaggedTemplateExpression:function(e,t,i){var n=3;return 2&i||(n=1),A([this.generateExpression(e.tag,R.Call,n),this.generateExpression(e.quasi,R.Primary,4)],R.TaggedTemplate,t)},TemplateElement:function(e,t,i){return e.value.raw},TemplateLiteral:function(e,t,i){var n,o,r;for(n=["`"],o=0,r=e.quasis.length;o<r;++o)n.push(this.generateExpression(e.quasis[o],R.Primary,le)),o+1<r&&(n.push("${"+Z),n.push(this.generateExpression(e.expressions[o],R.Sequence,le)),n.push(Z+"}"));return n.push("`"),n},ModuleSpecifier:function(e,t,i){return this.Literal(e,t,i)}},u(T.prototype,T.Expression),T.prototype.generateExpression=function(e,t,i){var n,o;return o=e.type||I.Property,ie.verbatim&&e.hasOwnProperty(ie.verbatim)?M(e,t):(n=this[o](e,t,i),ie.comment&&(n=E(e,n)),y(n,e))},T.prototype.generateStatement=function(e,t){var i,n;return i=this[e.type](e,t),ie.comment&&(i=E(e,i)),n=y(i).toString(),e.type!==I.Program||ee||""!==J||"\n"!==n.charAt(n.length-1)||(i=oe?y(i).replaceRight(/\s+$/,""):n.replace(/\s+$/,"")),y(i,e)},ae={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},ue={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}.format,i.version=t("./package.json").version,i.generate=function(n,o){var s,a,u={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=o?("string"==typeof o.indent&&(u.format.indent.style=o.indent),"number"==typeof o.base&&(u.format.indent.base=o.base),o=l(u,o),U=o.format.indent.style,W="string"==typeof o.base?o.base:r(U,o.format.indent.base)):(U=(o=u).format.indent.style,W=r(U,o.format.indent.base)),q=o.format.json,K=o.format.renumber,G=!q&&o.format.hexadecimal,Y=q?"double":o.format.quotes,X=o.format.escapeless,J=o.format.newline,Z=o.format.space,o.format.compact&&(J=Z=U=W=""),$=o.format.parentheses,Q=o.format.semicolons,ee=o.format.safeConcatenation,te=o.directive,ne=q?null:o.parse,oe=o.sourceMap,re=o.sourceCode,se=o.format.preserveBlankLines&&null!==re,ie=o,oe&&(j=i.browser?e.sourceMap.SourceNode:t("source-map").SourceNode),s=N(n),oe?(a=s.toStringWithSourceMap({file:o.file,sourceRoot:o.sourceMapRoot}),o.sourceContent&&a.map.setSourceContent(o.sourceMap,o.sourceContent),o.sourceMapWithCode?a:a.map.toString()):(a={code:s.toString(),map:null},o.sourceMapWithCode?a:a.code)},i.attachComments=V.attachComments,i.Precedence=l({},R),i.browser=!1,i.FORMAT_MINIFY=ae,i.FORMAT_DEFAULTS=ue}()}(function(){return this}(),e,t)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror@5.42.0#mode/javascript/javascript",["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,i){function n(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}function o(e,t,i){return ze=e,je=i,t}function r(e,t){var i=e.next();if('"'==i||"'"==i)return t.tokenize=s(i),t.tokenize(e,t);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==i&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return o(i);if("="==i&&e.eat(">"))return o("=>","operator");if("0"==i&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return o("number","number");if(/\d/.test(i))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),o("number","number");if("/"==i)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),o("comment","comment")):Re(e,t,1)?(n(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),o("regexp","string-2")):(e.eat("="),o("operator","operator",e.current()));if("`"==i)return t.tokenize=u,u(e,t);if("#"==i)return e.skipToEnd(),o("error","error");if(Ye.test(i))return">"==i&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=i&&"="!=i||e.eat("="):/[<>*+\-]/.test(i)&&(e.eat(i),">"==i&&e.eat(i))),o("operator","operator",e.current());if(Ke.test(i)){e.eatWhile(Ke);var r=e.current();if("."!=t.lastType){if(Ge.propertyIsEnumerable(r)){var l=Ge[r];return o(l.type,l.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return o("async","keyword",r)}return o("variable","variable",r)}}function s(e){return function(t,i){var n,s=!1;if(We&&"@"==t.peek()&&t.match(Xe))return i.tokenize=r,o("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||s);)s=!s&&"\\"==n;return s||(i.tokenize=r),o("string","string")}}function a(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=r;break}n="*"==i}return o("comment","comment")}function u(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=r;break}n=!n&&"\\"==i}return o("quasi","string-2",e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(i<0)){if(qe){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,i));n&&(i=n.index)}for(var o=0,r=!1,s=i-1;s>=0;--s){var a=e.string.charAt(s),u=Je.indexOf(a);if(u>=0&&u<3){if(!o){++s;break}if(0==--o){"("==a&&(r=!0);break}}else if(u>=3&&u<6)++o;else if(Ke.test(a))r=!0;else{if(/["'\/]/.test(a))return;if(r&&!o){++s;break}}}r&&!o&&(t.fatArrowAt=s)}}function h(e,t,i,n,o,r){this.indented=e,this.column=t,this.type=i,this.prev=o,this.info=r,null!=n&&(this.align=n)}function c(e,t){for(n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,i,n,o){var r=e.cc;for($e.state=e,$e.stream=o,$e.marked=null,$e.cc=r,$e.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((r.length?r.pop():Ue?F:S)(i,n)){for(;r.length&&r[r.length-1].lex;)r.pop()();return $e.marked?$e.marked:"variable"==i&&c(e,n)?"variable-2":t}}function p(){for(var e=arguments.length-1;e>=0;e--)$e.cc.push(arguments[e])}function f(){return p.apply(null,arguments),!0}function m(e,t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}function g(e){var t=$e.state;if($e.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=v(e,t.context);if(null!=n)return void(t.context=n)}else if(!m(e,t.localVars))return void(t.localVars=new x(e,t.localVars));i.globalVars&&!m(e,t.globalVars)&&(t.globalVars=new x(e,t.globalVars))}function v(e,t){if(t){if(t.block){var i=v(e,t.prev);return i?i==t.prev?t:new b(i,t.vars,!0):null}return m(e,t.vars)?t:new b(t.prev,new x(e,t.vars),!1)}return null}function y(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function b(e,t,i){this.prev=e,this.vars=t,this.block=i}function x(e,t){this.name=e,this.next=t}function w(){$e.state.context=new b($e.state.context,$e.state.localVars,!1),$e.state.localVars=Qe}function D(){$e.state.context=new b($e.state.context,$e.state.localVars,!0),$e.state.localVars=null}function C(){$e.state.localVars=$e.state.context.vars,$e.state.context=$e.state.context.prev}function k(e,t){var i=function(){var i=$e.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var o=i.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;i.lexical=new h(n,$e.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function _(){var e=$e.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function E(e){function t(i){return i==e?f():";"==e||"}"==i||")"==i||"]"==i?p():f(t)}return t}function S(e,t){return"var"==e?f(k("vardef",t),ue,E(";"),_):"keyword a"==e?f(k("form"),T,S,_):"keyword b"==e?f(k("form"),S,_):"keyword d"==e?$e.stream.match(/^\s*$/,!1)?f():f(k("stat"),B,E(";"),_):"debugger"==e?f(E(";")):"{"==e?f(k("}"),D,J,_,C):";"==e?f():"if"==e?("else"==$e.state.lexical.info&&$e.state.cc[$e.state.cc.length-1]==_&&$e.state.cc.pop()(),f(k("form"),T,S,_,fe)):"function"==e?f(xe):"for"==e?f(k("form"),me,S,_):"class"==e||qe&&"interface"==t?($e.marked="keyword",f(k("form"),Ce,_)):"variable"==e?qe&&"declare"==t?($e.marked="keyword",f(S)):qe&&("module"==t||"enum"==t||"type"==t)&&$e.stream.match(/^\s*\w/,!1)?($e.marked="keyword","enum"==t?f(Pe):"type"==t?f(ee,E("operator"),ee,E(";")):f(k("form"),le,E("{"),k("}"),J,_,_)):qe&&"namespace"==t?($e.marked="keyword",f(k("form"),F,J,_)):qe&&"abstract"==t?($e.marked="keyword",f(S)):f(k("stat"),W):"switch"==e?f(k("form"),T,E("{"),k("}","switch"),D,J,_,_,C):"case"==e?f(F,E(":")):"default"==e?f(E(":")):"catch"==e?f(k("form"),w,A,S,_,C):"export"==e?f(k("stat"),Se,_):"import"==e?f(k("stat"),Fe,_):"async"==e?f(S):"@"==t?f(F,S):p(k("stat"),F,E(";"),_)}function A(e){if("("==e)return f(we,E(")"))}function F(e,t){return O(e,t,!1)}function M(e,t){return O(e,t,!0)}function T(e){return"("!=e?p():f(k(")"),F,E(")"),_)}function O(e,t,i){if($e.state.fatArrowAt==$e.stream.start){var n=i?z:R;if("("==e)return f(w,k(")"),Y(we,")"),_,E("=>"),n,C);if("variable"==e)return p(w,le,E("=>"),n,C)}var o=i?P:L;return Ze.hasOwnProperty(e)?f(o):"function"==e?f(xe,o):"class"==e||qe&&"interface"==t?($e.marked="keyword",f(k("form"),De,_)):"keyword c"==e||"async"==e?f(i?M:F):"("==e?f(k(")"),B,E(")"),_,o):"operator"==e||"spread"==e?f(i?M:F):"["==e?f(k("]"),Le,_,o):"{"==e?X(q,"}",null,o):"quasi"==e?p(N,o):"new"==e?f(j(i)):"import"==e?f(F):f()}function B(e){return e.match(/[;\}\)\],]/)?p():p(F)}function L(e,t){return","==e?f(F):P(e,t,!1)}function P(e,t,i){var n=0==i?L:P,o=0==i?F:M;return"=>"==e?f(w,i?z:R,C):"operator"==e?/\+\+|--/.test(t)||qe&&"!"==t?f(n):qe&&"<"==t&&$e.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?f(k(">"),Y(ee,">"),_,n):"?"==t?f(F,E(":"),o):f(o):"quasi"==e?p(N,n):";"!=e?"("==e?X(M,")","call",n):"."==e?f(U,n):"["==e?f(k("]"),B,E("]"),_,n):qe&&"as"==t?($e.marked="keyword",f(ee,n)):"regexp"==e?($e.state.lastType=$e.marked="operator",$e.stream.backUp($e.stream.pos-$e.stream.start-1),f(o)):void 0:void 0}function N(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?f(N):f(F,I)}function I(e){if("}"==e)return $e.marked="string-2",$e.state.tokenize=u,f(N)}function R(e){return l($e.stream,$e.state),p("{"==e?S:F)}function z(e){return l($e.stream,$e.state),p("{"==e?S:M)}function j(e){return function(t){return"."==t?f(e?H:V):"variable"==t&&qe?f(re,e?P:L):p(e?M:F)}}function V(e,t){if("target"==t)return $e.marked="keyword",f(L)}function H(e,t){if("target"==t)return $e.marked="keyword",f(P)}function W(e){return":"==e?f(_,S):p(L,E(";"),_)}function U(e){if("variable"==e)return $e.marked="property",f()}function q(e,t){if("async"==e)return $e.marked="property",f(q);if("variable"==e||"keyword"==$e.style){if($e.marked="property","get"==t||"set"==t)return f(K);var i;return qe&&$e.state.fatArrowAt==$e.stream.start&&(i=$e.stream.match(/^\s*:\s*/,!1))&&($e.state.fatArrowAt=$e.stream.pos+i[0].length),f(G)}return"number"==e||"string"==e?($e.marked=We?"property":$e.style+" property",f(G)):"jsonld-keyword"==e?f(G):qe&&y(t)?($e.marked="keyword",f(q)):"["==e?f(F,Z,E("]"),G):"spread"==e?f(M,G):"*"==t?($e.marked="keyword",f(q)):":"==e?p(G):void 0}function K(e){return"variable"!=e?p(G):($e.marked="property",f(xe))}function G(e){return":"==e?f(M):"("==e?p(xe):void 0}function Y(e,t,i){function n(o,r){if(i?i.indexOf(o)>-1:","==o){var s=$e.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),f(function(i,n){return i==t||n==t?p():p(e)},n)}return o==t||r==t?f():f(E(t))}return function(i,o){return i==t||o==t?f():p(e,n)}}function X(e,t,i){for(var n=3;n<arguments.length;n++)$e.cc.push(arguments[n]);return f(k(t,i),Y(e,t),_)}function J(e){return"}"==e?f():p(S,J)}function Z(e,t){if(qe){if(":"==e)return f(ee);if("?"==t)return f(Z)}}function $(e){if(qe&&":"==e)return $e.stream.match(/^\s*\w+\s+is\b/,!1)?f(F,Q,ee):f(ee)}function Q(e,t){if("is"==t)return $e.marked="keyword",f()}function ee(e,t){return"keyof"==t||"typeof"==t?($e.marked="keyword",f("keyof"==t?ee:M)):"variable"==e||"void"==t?($e.marked="type",f(oe)):"string"==e||"number"==e||"atom"==e?f(oe):"["==e?f(k("]"),Y(ee,"]",","),_,oe):"{"==e?f(k("}"),Y(ie,"}",",;"),_,oe):"("==e?f(Y(ne,")"),te):"<"==e?f(Y(ee,">"),ee):void 0}function te(e){if("=>"==e)return f(ee)}function ie(e,t){return"variable"==e||"keyword"==$e.style?($e.marked="property",f(ie)):"?"==t?f(ie):":"==e?f(ee):"["==e?f(F,Z,E("]"),ie):void 0}function ne(e,t){return"variable"==e&&$e.stream.match(/^\s*[?:]/,!1)||"?"==t?f(ne):":"==e?f(ee):p(ee)}function oe(e,t){return"<"==t?f(k(">"),Y(ee,">"),_,oe):"|"==t||"."==e||"&"==t?f(ee):"["==e?f(E("]"),oe):"extends"==t||"implements"==t?($e.marked="keyword",f(ee)):void 0}function re(e,t){if("<"==t)return f(k(">"),Y(ee,">"),_,oe)}function se(){return p(ee,ae)}function ae(e,t){if("="==t)return f(ee)}function ue(e,t){return"enum"==t?($e.marked="keyword",f(Pe)):p(le,Z,de,pe)}function le(e,t){return qe&&y(t)?($e.marked="keyword",f(le)):"variable"==e?(g(t),f()):"spread"==e?f(le):"["==e?X(ce,"]"):"{"==e?X(he,"}"):void 0}function he(e,t){return"variable"!=e||$e.stream.match(/^\s*:/,!1)?("variable"==e&&($e.marked="property"),"spread"==e?f(le):"}"==e?p():"["==e?f(F,E("]"),E(":"),he):f(E(":"),le,de)):(g(t),f(de))}function ce(){return p(le,de)}function de(e,t){if("="==t)return f(M)}function pe(e){if(","==e)return f(ue)}function fe(e,t){if("keyword b"==e&&"else"==t)return f(k("form","else"),S,_)}function me(e,t){return"await"==t?f(me):"("==e?f(k(")"),ge,E(")"),_):void 0}function ge(e){return"var"==e?f(ue,E(";"),ye):";"==e?f(ye):"variable"==e?f(ve):p(F,E(";"),ye)}function ve(e,t){return"in"==t||"of"==t?($e.marked="keyword",f(F)):f(L,ye)}function ye(e,t){return";"==e?f(be):"in"==t||"of"==t?($e.marked="keyword",f(F)):p(F,E(";"),be)}function be(e){")"!=e&&f(F)}function xe(e,t){return"*"==t?($e.marked="keyword",f(xe)):"variable"==e?(g(t),f(xe)):"("==e?f(w,k(")"),Y(we,")"),_,$,S,C):qe&&"<"==t?f(k(">"),Y(se,">"),_,xe):void 0}function we(e,t){return"@"==t&&f(F,we),"spread"==e?f(we):qe&&y(t)?($e.marked="keyword",f(we)):p(le,Z,de)}function De(e,t){return"variable"==e?Ce(e,t):ke(e,t)}function Ce(e,t){if("variable"==e)return g(t),f(ke)}function ke(e,t){return"<"==t?f(k(">"),Y(se,">"),_,ke):"extends"==t||"implements"==t||qe&&","==e?("implements"==t&&($e.marked="keyword"),f(qe?ee:F,ke)):"{"==e?f(k("}"),_e,_):void 0}function _e(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||qe&&y(t))&&$e.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?($e.marked="keyword",f(_e)):"variable"==e||"keyword"==$e.style?($e.marked="property",f(qe?Ee:xe,_e)):"["==e?f(F,Z,E("]"),qe?Ee:xe,_e):"*"==t?($e.marked="keyword",f(_e)):";"==e?f(_e):"}"==e?f():"@"==t?f(F,_e):void 0}function Ee(e,t){return"?"==t?f(Ee):":"==e?f(ee,de):"="==t?f(M):p(xe)}function Se(e,t){return"*"==t?($e.marked="keyword",f(Be,E(";"))):"default"==t?($e.marked="keyword",f(F,E(";"))):"{"==e?f(Y(Ae,"}"),Be,E(";")):p(S)}function Ae(e,t){return"as"==t?($e.marked="keyword",f(E("variable"))):"variable"==e?p(M,Ae):void 0}function Fe(e){return"string"==e?f():"("==e?p(F):p(Me,Te,Be)}function Me(e,t){return"{"==e?X(Me,"}"):("variable"==e&&g(t),"*"==t&&($e.marked="keyword"),f(Oe))}function Te(e){if(","==e)return f(Me,Te)}function Oe(e,t){if("as"==t)return $e.marked="keyword",f(Me)}function Be(e,t){if("from"==t)return $e.marked="keyword",f(F)}function Le(e){return"]"==e?f():p(Y(M,"]"))}function Pe(){return p(k("form"),le,E("{"),k("}"),Y(Ne,"}"),_,_)}function Ne(){return p(le,de)}function Ie(e,t){return"operator"==e.lastType||","==e.lastType||Ye.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Re(e,t,i){return t.tokenize==r&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(i||0)))}var ze,je,Ve=t.indentUnit,He=i.statementIndent,We=i.jsonld,Ue=i.json||We,qe=i.typescript,Ke=i.wordCharacters||/[\w$\xa1-\uffff]/,Ge=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),o=e("keyword d"),r=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:i,do:i,try:i,finally:i,return:o,break:o,continue:o,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:r,typeof:r,instanceof:r,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),Ye=/[+\-*&%=<>!?|~^@]/,Xe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Je="([{}])",Ze={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},$e={state:null,column:null,marked:null,cc:null},Qe=new x("this",new x("arguments",null));return C.lex=!0,_.lex=!0,{startState:function(e){var t={tokenize:r,lastType:"sof",cc:[],lexical:new h((e||0)-Ve,0,"block",!1),localVars:i.localVars,context:i.localVars&&new b(null,null,!1),indented:e||0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=a&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==ze?i:(t.lastType="operator"!=ze||"++"!=je&&"--"!=je?ze:"incdec",d(t,i,ze,je,e))},indent:function(t,n){if(t.tokenize==a)return e.Pass;if(t.tokenize!=r)return 0;var o,s=n&&n.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var h=t.cc[l];if(h==_)u=u.prev;else if(h!=fe)break}for(;("stat"==u.type||"form"==u.type)&&("}"==s||(o=t.cc[t.cc.length-1])&&(o==L||o==P)&&!/^[,\.=+\-*:?[\(]/.test(n));)u=u.prev;He&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var c=u.type,d=s==c;return"vardef"==c?u.indented+("operator"==t.lastType||","==t.lastType?u.info.length+1:0):"form"==c&&"{"==s?u.indented:"form"==c?u.indented+Ve:"stat"==c?u.indented+(Ie(t,n)?He||Ve:0):"switch"!=u.info||d||0==i.doubleIndentSwitch?u.align?u.column+(d?0:1):u.indented+(d?0:Ve):u.indented+(/^(?:case|default)\b/.test(n)?Ve:2*Ve)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ue?null:"/*",blockCommentEnd:Ue?null:"*/",blockCommentContinue:Ue?null:" * ",lineComment:Ue?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ue?"json":"javascript",jsonldMode:We,jsonMode:Ue,expressionAllowed:Re,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=F&&t!=M||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),define("can-namespace@1.0.0#can-namespace",function(e,t,i){i.exports={}}),define("can-symbol@1.6.1#can-symbol",["require","exports","module","can-namespace"],function(e,t,i){!function(e,t,i,n){var o,r=t("can-namespace");if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)o=Symbol;else{var s=0,a={},u={};(o=function(e){var t="@@symbol"+s+++e,i={};return Object.defineProperties(i,{toString:{value:function(){return t}}}),i}).for=function(e){var t=a[e];return t||(t=a[e]=o(e),u[t]=e),t},o.keyFor=function(e){return u[e]},["hasInstance","isConcatSpreadable","iterator","match","prototype","replace","search","species","split","toPrimitive","toStringTag","unscopables"].forEach(function(e){o[e]=o("Symbol."+e)})}["isMapLike","isListLike","isValueLike","isFunctionLike","getOwnKeys","getOwnKeyDescriptor","proto","getOwnEnumerableKeys","hasOwnKey","hasKey","size","getName","getIdentity","assignDeep","updateDeep","getValue","setValue","getKeyValue","setKeyValue","updateValues","addValue","removeValues","apply","new","onValue","offValue","onKeyValue","offKeyValue","getKeyDependencies","getValueDependencies","keyHasDependencies","valueHasDependencies","onKeys","onKeysAdded","onKeysRemoved","onPatches"].forEach(function(e){o.for("can."+e)}),n.exports=r.Symbol=o}(0,e,0,i)}),define("can-reflect@1.17.7#reflections/helpers",["require","exports","module","can-symbol"],function(e,t,i){"use strict";var n=e("can-symbol");i.exports={makeGetFirstSymbolValue:function(e){var t=e.map(function(e){return n.for(e)}),i=t.length;return function(e){for(var n=-1;++n<i;)if(void 0!==e[t[n]])return e[t[n]]}},hasLength:function(e){var t=typeof e;if("string"===t||Array.isArray(e))return!0;var i=e&&"boolean"!==t&&"number"!==t&&"length"in e&&e.length;return"function"!=typeof e&&(0===i||"number"==typeof i&&i>0&&i-1 in e)}}}),define("can-reflect@1.17.7#reflections/type/type",["require","exports","module","can-symbol","../helpers"],function(e,t,i){"use strict";function n(e){var t=typeof e;return null==e||"function"!==t&&"object"!==t}function o(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(t===Object.prototype||null===t)return!0;var i=c.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&d.call(i)===p}var r,s=e("can-symbol"),a=e("../helpers"),u=Object.getOwnPropertyNames(function(){}.prototype),l=Object.getPrototypeOf(function(){}.prototype),h=a.makeGetFirstSymbolValue(["can.new","can.apply"]),c=Object.prototype.hasOwnProperty,d=Function.prototype.toString,p=d.call(Object),f=s.for("can.onValue"),m=s.for("can.onKeyValue"),g=s.for("can.onPatches");r="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?function(e){return"symbol"==typeof e}:function(e){return"object"==typeof e&&!Array.isArray(e)&&"@@symbol"===e.toString().substr(0,"@@symbol".length)},i.exports={isConstructorLike:function(e){var t=e[s.for("can.new")];if(void 0!==t)return t;if("function"!=typeof e)return!1;var i=e.prototype;if(!i)return!1;if(l!==Object.getPrototypeOf(i))return!0;var n=Object.getOwnPropertyNames(i);if(n.length===u.length){for(var o=0,r=n.length;o<r;o++)if(n[o]!==u[o])return!0;return!1}return!0},isFunctionLike:function(e){var t,i=!!e&&e[s.for("can.isFunctionLike")];return void 0!==i?i:void 0!==(t=h(e))?!!t:"function"==typeof e},isListLike:function(e){var t;if("string"==typeof e)return!0;if(n(e))return!1;if(void 0!==(t=e[s.for("can.isListLike")]))return t;var i=e[s.iterator];return void 0!==i?!!i:!!Array.isArray(e)||a.hasLength(e)},isMapLike:function(e){if(n(e))return!1;var t=e[s.for("can.isMapLike")];if(void 0!==t)return!!t;var i=e[s.for("can.getKeyValue")];return void 0===i||!!i},isObservableLike:function(e){return!n(e)&&Boolean(e[f]||e[m]||e[g])},isPrimitive:n,isBuiltIn:function(e){return!!(n(e)||Array.isArray(e)||o(e)||"[object Object]"!==Object.prototype.toString.call(e)&&-1!==Object.prototype.toString.call(e).indexOf("[object "))},isValueLike:function(e){var t;if(n(e))return!0;if(void 0!==(t=e[s.for("can.isValueLike")]))return t;var i=e[s.for("can.getValue")];return void 0!==i?!!i:void 0},isSymbolLike:r,isMoreListLikeThanMapLike:function(e){if(Array.isArray(e))return!0;if(e instanceof Array)return!0;if(null==e)return!1;var t=e[s.for("can.isMoreListLikeThanMapLike")];if(void 0!==t)return t;var i=this.isListLike(e),n=this.isMapLike(e);return!(!i||n)||!(!i&&n)&&void 0},isIteratorLike:function(e){return e&&"object"==typeof e&&"function"==typeof e.next&&0===e.next.length},isPromise:function(e){return e instanceof Promise||"[object Promise]"===Object.prototype.toString.call(e)},isPlainObject:o}}),define("can-reflect@1.17.7#reflections/call/call",["require","exports","module","can-symbol","../type/type"],function(e,t,i){"use strict";var n=e("can-symbol"),o=e("../type/type");i.exports={call:function(e,t){var i=[].slice.call(arguments,2),o=e[n.for("can.apply")];return o?o.call(e,t,i):e.apply(t,i)},apply:function(e,t,i){var o=e[n.for("can.apply")];return o?o.call(e,t,i):e.apply(t,i)},new:function(e){var t=[].slice.call(arguments,1),i=e[n.for("can.new")];if(i)return i.apply(e,t);var r=Object.create(e.prototype),s=e.apply(r,t);return o.isPrimitive(s)?r:s}}}),define("can-reflect@1.17.7#reflections/get-set/get-set",["require","exports","module","can-symbol","../type/type"],function(e,t,i){"use strict";var n=e("can-symbol"),o=e("../type/type"),r=n.for("can.setKeyValue"),s=n.for("can.getKeyValue"),a=n.for("can.getValue"),u=n.for("can.setValue"),l={setKeyValue:function(e,t,i){if(o.isSymbolLike(t))"symbol"==typeof t?e[t]=i:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:i,writable:!0});else{var n=e[r];if(void 0!==n)return n.call(e,t,i);e[t]=i}},getKeyValue:function(e,t){var i=e[s];return i?i.call(e,t):e[t]},deleteKeyValue:function(e,t){var i=e[n.for("can.deleteKeyValue")];if(i)return i.call(e,t);delete e[t]},getValue:function(e){if(o.isPrimitive(e))return e;var t=e[a];return t?t.call(e):e},setValue:function(e,t){var i=e&&e[u];if(i)return i.call(e,t);throw new Error("can-reflect.setValue - Can not set value.")},splice:function(e,t,i,o){var r;if("number"!=typeof i){var s=e[n.for("can.updateValues")];if(s)return s.call(e,t,i,o);r=i.length}else r=i;arguments.length<=3&&(o=[]);var a=e[n.for("can.splice")];return a?a.call(e,t,r,o):[].splice.apply(e,[t,r].concat(o))},addValues:function(e,t,i){var o=e[n.for("can.addValues")];return o?o.call(e,t,i):Array.isArray(e)&&void 0===i?e.push.apply(e,t):l.splice(e,i,[],t)},removeValues:function(e,t,i){var o=e[n.for("can.removeValues")];return o?o.call(e,t,i):Array.isArray(e)&&void 0===i?void t.forEach(function(t){var i=e.indexOf(t);i>=0&&e.splice(i,1)}):l.splice(e,i,t,[])}};l.get=l.getKeyValue,l.set=l.setKeyValue,l.delete=l.deleteKeyValue,i.exports=l}),define("can-reflect@1.17.7#reflections/observe/observe",["require","exports","module","can-symbol"],function(e,t,i){"use strict";function n(e,t){return function(i,n,o,s){var a=i[r.for(e)];return void 0!==a?a.call(i,n,o,s):this[t].apply(this,arguments)}}function o(e,t){return function(i){var n=i[r.for(e)];if(void 0!==n){var o=s.call(arguments,1);return n.apply(i,o)}throw new Error(t)}}var r=e("can-symbol"),s=[].slice;i.exports={onKeyValue:n("can.onKeyValue","onEvent"),offKeyValue:n("can.offKeyValue","offEvent"),onKeys:o("can.onKeys","can-reflect: can not observe an onKeys event"),onKeysAdded:o("can.onKeysAdded","can-reflect: can not observe an onKeysAdded event"),onKeysRemoved:o("can.onKeysRemoved","can-reflect: can not unobserve an onKeysRemoved event"),getKeyDependencies:o("can.getKeyDependencies","can-reflect: can not determine dependencies"),getWhatIChange:o("can.getWhatIChange","can-reflect: can not determine dependencies"),getChangesDependencyRecord:function(e){var t=e[r.for("can.getChangesDependencyRecord")];if("function"==typeof t)return t()},keyHasDependencies:o("can.keyHasDependencies","can-reflect: can not determine if this has key dependencies"),onValue:o("can.onValue","can-reflect: can not observe value change"),offValue:o("can.offValue","can-reflect: can not unobserve value change"),getValueDependencies:o("can.getValueDependencies","can-reflect: can not determine dependencies"),valueHasDependencies:o("can.valueHasDependencies","can-reflect: can not determine if value has dependencies"),onPatches:o("can.onPatches","can-reflect: can not observe patches on object"),offPatches:o("can.offPatches","can-reflect: can not unobserve patches on object"),onInstancePatches:o("can.onInstancePatches","can-reflect: can not observe onInstancePatches on Type"),offInstancePatches:o("can.offInstancePatches","can-reflect: can not unobserve onInstancePatches on Type"),onInstanceBoundChange:o("can.onInstanceBoundChange","can-reflect: can not observe bound state change in instances."),offInstanceBoundChange:o("can.offInstanceBoundChange","can-reflect: can not unobserve bound state change"),isBound:o("can.isBound","can-reflect: cannot determine if object is bound"),onEvent:function(e,t,i,n){if(e){var o=e[r.for("can.onEvent")];if(void 0!==o)return o.call(e,t,i,n);e.addEventListener&&e.addEventListener(t,i,n)}},offEvent:function(e,t,i,n){if(e){var o=e[r.for("can.offEvent")];if(void 0!==o)return o.call(e,t,i,n);e.removeEventListener&&e.removeEventListener(t,i,n)}},setPriority:function(e,t){if(e){var i=e[r.for("can.setPriority")];if(void 0!==i)return i.call(e,t),!0}return!1},getPriority:function(e){if(e){var t=e[r.for("can.getPriority")];if(void 0!==t)return t.call(e)}}}}),define("can-reflect@1.17.7#reflections/shape/shape",["require","exports","module","can-symbol","../get-set/get-set","../type/type","../helpers"],function(e,t,i){"use strict";function n(e){return!!h.isPrimitive(e)||!k(e)&&h.isBuiltIn(e)&&!h.isPlainObject(e)&&!Array.isArray(e)}function o(e){var t=e||p;return{unwrap:new t,serialize:new t,isSerializing:{unwrap:new t,serialize:new t},circularReferenceIsSerializing:{unwrap:new t,serialize:new t}}}function r(e,t){function i(e){this.first=!r,this.first&&(r=o(e)),this.map=r,this.result=null}var r=null;return i.prototype.end=function(){return this.first&&(r=null),this.result},function(o,r){if(n(o))return o;var s=new i(r);if(h.isValueLike(o))s.result=this[e](l.getValue(o));else{var a=h.isIteratorLike(o)||h.isMoreListLikeThanMapLike(o);if(s.result=a?[]:{},s.map[e].has(o))return s.map.isSerializing[e].has(o)&&s.map.circularReferenceIsSerializing[e].set(o,!0),s.map[e].get(o);s.map[e].set(o,s.result);for(var u=0,c=t.length;u<c;u++){var d=o[t[u]];if(d){s.map.isSerializing[e].set(o,!0);var p=s.result;if(s.result=d.call(o,p),s.map.isSerializing[e].delete(o),s.result!==p){if(s.map.circularReferenceIsSerializing[e].has(o))throw s.end(),new Error("Cannot serialize cirular reference!");s.map[e].set(o,s.result)}return s.end()}}"function"==typeof obj?(s.map[e].set(o,o),s.result=o):a?this.eachIndex(o,function(t,i){s.result[i]=this[e](t)},this):this.eachKey(o,function(t,i){s.result[i]=this[e](t)},this)}return s.end()}}function s(e,t){var i=e[e.length-1];if(i&&i.deleteCount===i.insert.length&&t.index-i.index===i.deleteCount)return i.insert.push.apply(i.insert,t.insert),void(i.deleteCount+=t.deleteCount);e.push(t)}function a(e,t,i){var n=this.toArray(t),o=[],r=-1;this.eachIndex(e,function(t,a){if(r=a,a>=n.length)return i||s(o,{index:a,deleteCount:e.length-a+1,insert:[]}),!1;var u=n[a];h.isPrimitive(t)||h.isPrimitive(u)||!1===_(t)?s(o,{index:a,deleteCount:1,insert:[u]}):!0===i?this.assignDeep(t,u):this.updateDeep(t,u)},this),n.length>r&&s(o,{index:r+1,deleteCount:0,insert:n.slice(r+1)});for(var a=0,u=o.length;a<u;a++){var c=o[a];l.splice(e,c.index,c.deleteCount,c.insert)}return e}var u=e("can-symbol"),l=e("../get-set/get-set"),h=e("../type/type"),c=e("../helpers"),d=!0;try{Object.getPrototypeOf(1)}catch(e){d=!1}var p;if("function"==typeof Map)p=Map;else{var f=function(e){return e%2==0};(p=function(){this.contents=[]}).prototype={_getIndex:function(e){var t;do{t=this.contents.indexOf(e,t)}while(-1!==t&&!f(t));return t},has:function(e){return-1!==this._getIndex(e)},get:function(e){var t=this._getIndex(e);if(-1!==t)return this.contents[t+1]},set:function(e,t){var i=this._getIndex(e);-1!==i?this.contents[i+1]=t:(this.contents.push(e),this.contents.push(t))},delete:function(e){var t=this._getIndex(e);-1!==t&&this.contents.splice(t,2)}}}var m,g,v=Object.prototype.hasOwnProperty,y=function(e){return function(){var t=[this];return t.push.apply(t,arguments),e.apply(null,t)}},b=u.for("can.getKeyValue"),x=y(l.getKeyValue),w=u.for("can.setKeyValue"),D=y(l.setKeyValue),C=u.for("can.size"),k=c.makeGetFirstSymbolValue(["can.updateDeep","can.assignDeep","can.setKeyValue"]),_=function(e){return h.isPlainObject(e)||Array.isArray(e)||!!k(e)};try{Object.keys(1),g=Object.keys}catch(e){g=function(e){return h.isPrimitive(e)?[]:Object.keys(e)}}var E;E="undefined"!=typeof Map?function(e){var t=new Map;return m.eachIndex(e,function(e){t.set(e,!0)}),t}:function(e){var t={};return e.forEach(function(e){t[e]=!0}),{get:function(e){return t[e]},set:function(e,i){t[e]=i},keys:function(){return e}}};var S=function(e){var t=e[u.for("can.hasOwnKey")];if(t)return t.bind(e);var i=E(m.getOwnEnumerableKeys(e));return function(e){return i.get(e)}};(m={each:function(e,t,i){return h.isIteratorLike(e)||h.isMoreListLikeThanMapLike(e)?m.eachIndex(e,t,i):m.eachKey(e,t,i)},eachIndex:function(e,t,i){if(Array.isArray(e))return m.eachListLike(e,t,i);var n,o=e[u.iterator];if(h.isIteratorLike(e)?n=e:o&&(n=o.call(e)),n)for(var r,s=0;!(r=n.next()).done&&!1!==t.call(i||e,r.value,s++,e););else m.eachListLike(e,t,i);return e},eachListLike:function(e,t,i){var n=-1,o=e.length;if(void 0===o){var r=e[C];if(!r)throw new Error("can-reflect: unable to iterate.");o=r.call(e)}for(;++n<o;){var s=e[n];if(!1===t.call(i||s,s,n,e))break}return e},toArray:function(e){var t=[];return m.each(e,function(e){t.push(e)}),t},eachKey:function(e,t,i){if(e){var n=m.getOwnEnumerableKeys(e),o=e[b]||x;return m.eachIndex(n,function(n){var r=o.call(e,n);return t.call(i||e,r,n,e)})}return e},hasOwnKey:function(e,t){var i=e[u.for("can.hasOwnKey")];if(i)return i.call(e,t);var n=e[u.for("can.getOwnKeys")];if(n){var o=!1;return m.eachIndex(n.call(e),function(e){if(e===t)return o=!0,!1}),o}return v.call(e,t)},getOwnEnumerableKeys:function(e){var t=e[u.for("can.getOwnEnumerableKeys")];if(t)return t.call(e);if(e[u.for("can.getOwnKeys")]&&e[u.for("can.getOwnKeyDescriptor")]){var i=[];return m.eachIndex(m.getOwnKeys(e),function(t){m.getOwnKeyDescriptor(e,t).enumerable&&i.push(t)},this),i}return g(e)},getOwnKeys:function(e){var t=e[u.for("can.getOwnKeys")];return t?t.call(e):Object.getOwnPropertyNames(e)},getOwnKeyDescriptor:function(e,t){var i=e[u.for("can.getOwnKeyDescriptor")];return i?i.call(e,t):Object.getOwnPropertyDescriptor(e,t)},unwrap:r("unwrap",[u.for("can.unwrap")]),serialize:r("serialize",[u.for("can.serialize"),u.for("can.unwrap")]),assignMap:function(e,t){var i=S(e),n=e[b]||x,o=e[w]||D;return m.eachKey(t,function(t,r){i(r)&&n.call(e,r)===t||o.call(e,r,t)}),e},assignList:function(e,t){var i=m.toArray(t);return l.splice(e,0,i,i),e},assign:function(e,t){return h.isIteratorLike(t)||h.isMoreListLikeThanMapLike(t)?m.assignList(e,t):m.assignMap(e,t),e},assignDeepMap:function(e,t){var i=S(e),n=e[b]||x,o=e[w]||D;return m.eachKey(t,function(t,r){if(i(r)){var s=n.call(e,r);t===s||(h.isPrimitive(s)||h.isPrimitive(t)||!1===_(s)?o.call(e,r,t):m.assignDeep(s,t))}else l.setKeyValue(e,r,t)},this),e},assignDeepList:function(e,t){return a.call(this,e,t,!0)},assignDeep:function(e,t){var i=e[u.for("can.assignDeep")];return i?i.call(e,t):h.isMoreListLikeThanMapLike(t)?m.assignDeepList(e,t):m.assignDeepMap(e,t),e},updateMap:function(e,t){var i=E(m.getOwnEnumerableKeys(t)),n=t[b]||x,o=e[w]||D;return m.eachKey(e,function(r,s){if(i.get(s)){i.set(s,!1);var a=n.call(t,s);a!==r&&o.call(e,s,a)}else l.deleteKeyValue(e,s)},this),m.eachIndex(i.keys(),function(r){i.get(r)&&o.call(e,r,n.call(t,r))}),e},updateList:function(e,t){var i=m.toArray(t);return l.splice(e,0,e,i),e},update:function(e,t){return h.isIteratorLike(t)||h.isMoreListLikeThanMapLike(t)?m.updateList(e,t):m.updateMap(e,t),e},updateDeepMap:function(e,t){var i=E(m.getOwnEnumerableKeys(t)),n=t[b]||x,o=e[w]||D;return m.eachKey(e,function(r,s){if(i.get(s)){i.set(s,!1);var a=n.call(t,s);h.isPrimitive(r)||h.isPrimitive(a)||!1===_(r)?o.call(e,s,a):m.updateDeep(r,a)}else l.deleteKeyValue(e,s)},this),m.eachIndex(i.keys(),function(r){i.get(r)&&o.call(e,r,n.call(t,r))}),e},updateDeepList:function(e,t){return a.call(this,e,t)},updateDeep:function(e,t){var i=e[u.for("can.updateDeep")];return i?i.call(e,t):h.isMoreListLikeThanMapLike(t)?m.updateDeepList(e,t):m.updateDeepMap(e,t),e},hasKey:function(e,t){if(null==e)return!1;if(h.isPrimitive(e)){if(v.call(e,t))return!0;var i;return void 0!==(i=d?Object.getPrototypeOf(e):e.__proto__)?t in i:void 0!==e[t]}var n=e[u.for("can.hasKey")];return n?n.call(e,t):m.hasOwnKey(e,t)||t in e},getAllEnumerableKeys:function(){},getAllKeys:function(){},assignSymbols:function(e,t){return m.eachKey(t,function(t,i){var n=h.isSymbolLike(u[i])?u[i]:u.for(i);l.setKeyValue(e,n,t)}),e},isSerialized:n,size:function(e){if(null==e)return 0;var t=e[C],i=0;return t?t.call(e):c.hasLength(e)?e.length:h.isListLike(e)?(m.eachIndex(e,function(){i++}),i):e?m.getOwnEnumerableKeys(e).length:void 0},defineInstanceKey:function(e,t,i){var n=e[u.for("can.defineInstanceKey")];if(n)return n.call(e,t,i);var o=e.prototype;(n=o[u.for("can.defineInstanceKey")])?n.call(o,t,i):Object.defineProperty(o,t,m.assign({configurable:!0,enumerable:!h.isSymbolLike(t),writable:!0},i))}}).isSerializable=m.isSerialized,m.keys=m.getOwnEnumerableKeys,i.exports=m}),define("can-reflect@1.17.7#reflections/shape/schema/schema",["require","exports","module","can-symbol","../../type/type","../../get-set/get-set","../shape"],function(e,t,i){"use strict";function n(e,t){return e.localeCompare(t)}function o(e){if(a.isPrimitive(e))return e;var t;return a.isListLike(e)?(t=[],l.eachKey(e,function(e){t.push(o(e))}),t):a.isMapLike(e)?(t={},l.getOwnKeys(e).sort(n).forEach(function(i){t[i]=o(u.getKeyValue(e,i))}),t):e}function r(e){return e===Number||e===String||e===Boolean}var s=e("can-symbol"),a=e("../../type/type"),u=e("../../get-set/get-set"),l=e("../shape"),h=s.for("can.getSchema"),c=s.for("can.isMember"),d=s.for("can.new"),p={getSchema:function(e){if(void 0!==e){var t=e[h];return void 0===t&&(t=(e=e.constructor)&&e[h]),void 0!==t?t.call(e):void 0}},getIdentity:function(e,t){if(void 0===(t=t||p.getSchema(e)))throw new Error("can-reflect.getIdentity - Unable to find a schema for the given value.");var i=t.identity;if(i&&0!==i.length){if(1===i.length)return u.getKeyValue(e,i[0]);var n={};return i.forEach(function(t){n[t]=u.getKeyValue(e,t)}),JSON.stringify(p.cloneKeySort(n))}throw new Error("can-reflect.getIdentity - Provided schema lacks an identity property.")},cloneKeySort:function(e){return o(e)},convert:function(e,t){if(r(t))return t(e);var i=t[c],n=!1,o=typeof t,s=t[d];if(void 0!==i?n=i.call(t,e):"function"===o&&a.isConstructorLike(t)&&(n=e instanceof t),n)return e;if(void 0!==s)return s.call(t,e);if("function"===o)return a.isConstructorLike(t)?new t(e):t(e);throw new Error("can-reflect: Can not convert values into type. Type must provide `can.new` symbol.")}};i.exports=p}),define("can-reflect@1.17.7#reflections/get-name/get-name",["require","exports","module","can-symbol","../type/type"],function(e,t,i){"use strict";function n(e){var t=typeof e;if(null===e||"object"!==t&&"function"!==t)return""+e;var i=e[s];if(i)return i.call(e);if("function"===t)return"name"in e||(e.name="functionIE"+a++),e.name;if(e.constructor&&e!==e.constructor){var o=n(e.constructor);if(o){if(r.isValueLike(e))return o+"<>";if(r.isMoreListLikeThanMapLike(e))return o+"[]";if(r.isMapLike(e))return o+"{}"}}}var o=e("can-symbol"),r=e("../type/type"),s=o.for("can.getName"),a=0;i.exports={setName:function(e,t){if("function"!=typeof t){var i=t;t=function(){return i}}Object.defineProperty(e,s,{value:t})},getName:n}}),define("can-reflect@1.17.7#types/map",["require","exports","module","../reflections/shape/shape","can-symbol"],function(e,t,i){"use strict";var n=e("../reflections/shape/shape"),o=e("can-symbol");"undefined"!=typeof Map&&(n.assignSymbols(Map.prototype,{"can.getOwnEnumerableKeys":Map.prototype.keys,"can.setKeyValue":Map.prototype.set,"can.getKeyValue":Map.prototype.get,"can.deleteKeyValue":Map.prototype.delete,"can.hasOwnKey":Map.prototype.has}),"function"!=typeof Map.prototype.keys&&(Map.prototype.keys=Map.prototype[o.for("can.getOwnEnumerableKeys")]=function(){var e=[],t=0;return this.forEach(function(t,i){e.push(i)}),{next:function(){return{value:e[t],done:t++===e.length}}}})),"undefined"!=typeof WeakMap&&n.assignSymbols(WeakMap.prototype,{"can.getOwnEnumerableKeys":function(){throw new Error("can-reflect: WeakMaps do not have enumerable keys.")},"can.setKeyValue":WeakMap.prototype.set,"can.getKeyValue":WeakMap.prototype.get,"can.deleteKeyValue":WeakMap.prototype.delete,"can.hasOwnKey":WeakMap.prototype.has})}),define("can-reflect@1.17.7#types/set",["require","exports","module","../reflections/shape/shape","can-symbol"],function(e,t,i){"use strict";var n=e("../reflections/shape/shape"),o=e("can-symbol");"undefined"!=typeof Set&&(n.assignSymbols(Set.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,i){t!==i&&n.each(t,function(e){this.delete(e)},this),n.each(i,function(e){this.add(e)},this)},"can.size":function(){return this.size}}),"function"!=typeof Set.prototype[o.iterator]&&(Set.prototype[o.iterator]=function(){var e=[],t=0;return this.forEach(function(t){e.push(t)}),{next:function(){return{value:e[t],done:t++===e.length}}}})),"undefined"!=typeof WeakSet&&n.assignSymbols(WeakSet.prototype,{"can.isListLike":!0,"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,i){t!==i&&n.each(t,function(e){this.delete(e)},this),n.each(i,function(e){this.add(e)},this)},"can.size":function(){throw new Error("can-reflect: WeakSets do not have enumerable keys.")}})}),define("can-reflect@1.17.7#can-reflect",["require","exports","module","./reflections/call/call","./reflections/get-set/get-set","./reflections/observe/observe","./reflections/shape/shape","./reflections/shape/schema/schema","./reflections/type/type","./reflections/get-name/get-name","can-namespace","./types/map","./types/set"],function(e,t,i){"use strict";var n=e("./reflections/call/call"),o=e("./reflections/get-set/get-set"),r=e("./reflections/observe/observe"),s=e("./reflections/shape/shape"),a=e("./reflections/shape/schema/schema"),u=e("./reflections/type/type"),l=e("./reflections/get-name/get-name"),h=e("can-namespace"),c={};[n,o,r,s,u,l,a].forEach(function(e){for(var t in e)c[t]=e[t]}),e("./types/map"),e("./types/set"),i.exports=h.Reflect=c}),define("can-log@1.0.0#can-log",function(e,t,i){"use strict";t.warnTimeout=5e3,t.logLevel=0,t.warn=function(){this.logLevel<2&&("undefined"!=typeof console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments)))},t.log=function(){this.logLevel<1&&"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments))},t.error=function(){this.logLevel<1&&"undefined"!=typeof console&&console.error&&this._logger("error",Array.prototype.slice.call(arguments))},t._logger=function(e,t){try{console[e].apply(console,t)}catch(i){console[e](t)}}}),define("can-log@1.0.0#dev/dev",["require","exports","module","../can-log"],function(e,t,i){"use strict";var n=e("../can-log");i.exports={warnTimeout:5e3,logLevel:0,stringify:function(e){return JSON.stringify(e,function(e,t){return void 0===t?"/* void(undefined) */":t},"  ").replace(/"\/\* void\(undefined\) \*\/"/g,"undefined")},warn:function(){},log:function(){},error:function(){},_logger:n._logger}}),define("can-string@1.0.0#can-string",function(e,t,i){"use strict";var n=/\=\=/,o=/([A-Z]+)([A-Z][a-z])/g,r=/([a-z\d])([A-Z])/g,s=/([a-z\d])([A-Z])/g,a=/"/g,u=/'/g,l=/-+(.)?/g,h=/[a-z][A-Z]/g,c=function(e){return""+(null===e||void 0===e||isNaN(e)&&""+e=="NaN"?"":e)},d={esc:function(e){return c(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(a,"&#34;").replace(u,"&#39;")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return c(e).replace(l,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return c(e).replace(h,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(n,"/").replace(o,"$1_$2").replace(r,"$1_$2").replace(s,"_").toLowerCase()},undHash:/_|-/};i.exports=d}),define("can-construct@3.5.3#can-construct",["require","exports","module","can-reflect","can-log/dev/dev","can-namespace"],function(e,t,i){"use strict";var n,o=e("can-reflect"),r=(e("can-log/dev/dev"),e("can-namespace")),s=0,a=function(){if(arguments.length)return a.extend.apply(a,arguments)};try{Object.getOwnPropertyDescriptor({}),n=!0}catch(e){n=!1}var u=function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return i&&(i.get||i.set)?i:null},l=function(e,t,i){Object.defineProperty(e,t,{configurable:!0,writable:!0,enumerable:!1,value:i})};o.assignMap(a,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();if(t.setup){if(Object.defineProperty(t,"__inSetup",{configurable:!0,enumerable:!1,value:!0,writable:!0}),(e=t.setup.apply(t,arguments))instanceof a.ReturnValue)return e.value;t.__inSetup=!1}return t.init&&t.init.apply(t,e||arguments),t},_inherit:n?function(e,t,i){i=i||e;var n;for(var o in e)(n=u(e,o))?this._defineProperty(i,t,o,n):a._overwrite(i,t,o,e[o])}:function(e,t,i){i=i||e;for(var n in e)a._overwrite(i,t,n,e[n])},_defineProperty:function(e,t,i,n){Object.defineProperty(e,i,n)},_overwrite:function(e,t,i,n){Object.defineProperty(e,i,{value:n,configurable:!0,enumerable:!0,writable:!0})},setup:function(e){var t=o.assignDeepMap({},e.defaults);this.defaults=o.assignDeepMap(t,this.defaults)},instance:function(){s=1;var e=new this;return s=0,e},extend:function(e,t,i){function n(){if(!s)return this&&this.constructor===c||!arguments.length||!c.constructorExtends?c.newInstance.apply(c,arguments):c.extend.apply(c,arguments)}var r=e,u=t,h=i;"string"!=typeof r&&(h=u,u=r,r=null),h||(h=u,u=null),h=h||{};var c,d,p=this,f=this.prototype;d=this.instance(),a._inherit(h,f,d),r||(u&&u.shortName?r=u.shortName:this.shortName&&(r=this.shortName)),c="function"==typeof namedCtor?namedCtor(constructorName,n):function(){return n.apply(this,arguments)};for(var m in p)p.hasOwnProperty(m)&&(c[m]=p[m]);if(a._inherit(u,p,c),o.assignMap(c,{constructor:c,prototype:d}),void 0!==r){if(Object.getOwnPropertyDescriptor){var g=Object.getOwnPropertyDescriptor(c,"name");g&&!g.configurable||Object.defineProperty(c,"name",{writable:!0,value:r,configurable:!0})}c.shortName=r}l(c.prototype,"constructor",c);var v=[p].concat(Array.prototype.slice.call(arguments)),y=c.setup.apply(c,v);return c.init&&c.init.apply(c,y||v),c},ReturnValue:function(e){this.value=e}}),l(a.prototype,"setup",function(){}),l(a.prototype,"init",function(){}),i.exports=r.Construct=a}),define("can-assign@1.3.1#can-assign",["require","exports","module","can-namespace"],function(e,t,i){var n=e("can-namespace");i.exports=n.assign=function(e,t){for(var i in t){var n=Object.getOwnPropertyDescriptor(e,i);n&&!1===n.writable||(e[i]=t[i])}return e}}),define("can-observation-recorder@1.2.0#can-observation-recorder",["require","exports","module","can-namespace","can-symbol"],function(e,t,i){"use strict";var n=e("can-namespace"),o=[],r=e("can-symbol").for("can.addParent"),s={stack:o,start:function(){var e={keyDependencies:new Map,valueDependencies:new Set,childDependencies:new Set,traps:null,ignore:0};return o.push(e),e},stop:function(){return o.pop()},add:function(e,t){var i=o[o.length-1];if(i&&0===i.ignore)if(i.traps)i.traps.push([e,t]);else if(void 0===t)i.valueDependencies.add(e);else{var n=i.keyDependencies.get(e);n||(n=new Set,i.keyDependencies.set(e,n)),n.add(t)}},addMany:function(e){var t=o[o.length-1];if(t)if(t.traps)t.traps.push.apply(t.traps,e);else for(var i=0,n=e.length;i<n;i++)this.add(e[i][0],e[i][1])},created:function(e){var t=o[o.length-1];t&&(t.childDependencies.add(e),e[r]&&e[r](t))},ignore:function(e){return function(){if(o.length){var t=o[o.length-1];t.ignore++;var i=e.apply(this,arguments);return t.ignore--,i}return e.apply(this,arguments)}},isRecording:function(){var e=o.length,t=e&&o[e-1];return t&&0===t.ignore&&t},makeDependenciesRecord:function(){return{traps:null,keyDependencies:new Map,valueDependencies:new Set,ignore:0}},makeDependenciesRecorder:function(){return s.makeDependenciesRecord()},trap:function(){if(o.length){var e=o[o.length-1],t=e.traps,i=e.traps=[];return function(){return e.traps=t,i}}return function(){return[]}},trapsCount:function(){return o.length?o[o.length-1].traps.length:0}};if(n.ObservationRecorder)throw new Error("You can't have two versions of can-observation-recorder, check your dependencies");i.exports=n.ObservationRecorder=s}),define("can-queues@1.2.1#queue-state",function(e,t,i){"use strict";i.exports={lastTask:null}}),define("can-queues@1.2.1#queue",["require","exports","module","./queue-state","can-log/dev/dev","can-assign"],function(e,t,i){"use strict";function n(){}var o=e("./queue-state"),r=(e("can-log/dev/dev"),e("can-assign")),s=function(e,t){this.callbacks=r({onFirstTask:n,onComplete:function(){o.lastTask=null}},t||{}),this.name=e,this.index=0,this.tasks=[],this._log=!1};s.prototype.constructor=s,s.noop=n,s.prototype.enqueue=function(e,t,i,n){1===this.tasks.push({fn:e,context:t,args:i,meta:n||{}})&&this.callbacks.onFirstTask(this)},s.prototype.flush=function(){for(;this.index<this.tasks.length;){var e=this.tasks[this.index++];e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.callbacks.onComplete(this)},s.prototype.log=function(){this._log=!arguments.length||arguments[0]},i.exports=s}),define("can-queues@1.2.1#priority-queue",["require","exports","module","./queue"],function(e,t,i){"use strict";var n=e("./queue"),o=function(){n.apply(this,arguments),this.taskMap=new Map,this.taskContainersByPriority=[],this.curPriorityIndex=1/0,this.curPriorityMax=0,this.isFlushing=!1,this.tasksRemaining=0};(o.prototype=Object.create(n.prototype)).constructor=o,o.prototype.enqueue=function(e,t,i,n){if(!this.taskMap.has(e)){this.tasksRemaining++;var o=0===this.taskContainersByPriority.length,r={fn:e,context:t,args:i,meta:n||{}};this.getTaskContainerAndUpdateRange(r).tasks.push(r),this.taskMap.set(e,r),o&&this.callbacks.onFirstTask(this)}},o.prototype.getTaskContainerAndUpdateRange=function(e){var t=e.meta.priority||0;t<this.curPriorityIndex&&(this.curPriorityIndex=t),t>this.curPriorityMax&&(this.curPriorityMax=t);var i=this.taskContainersByPriority,n=i[t];return n||(n=i[t]={tasks:[],index:0}),n},o.prototype.flush=function(){if(!this.isFlushing)for(this.isFlushing=!0;;){if(!(this.curPriorityIndex<=this.curPriorityMax))return this.taskMap=new Map,this.curPriorityIndex=1/0,this.curPriorityMax=0,this.taskContainersByPriority=[],this.isFlushing=!1,void this.callbacks.onComplete(this);var e=this.taskContainersByPriority[this.curPriorityIndex];if(e&&e.tasks.length>e.index){var t=e.tasks[e.index++];this.tasksRemaining--,this.taskMap.delete(t.fn),t.fn.apply(t.context,t.args)}else this.curPriorityIndex++}},o.prototype.isEnqueued=function(e){return this.taskMap.has(e)},o.prototype.flushQueuedTask=function(e){var t=this.dequeue(e);t&&t.fn.apply(t.context,t.args)},o.prototype.dequeue=function(e){var t=this.taskMap.get(e);if(t){var i=t.meta.priority||0,n=this.taskContainersByPriority[i],o=n.tasks.indexOf(t,n.index);if(o>=0)return n.tasks.splice(o,1),this.tasksRemaining--,this.taskMap.delete(t.fn),t;console.warn("Task",e,"has already run")}},o.prototype.tasksRemainingCount=function(){return this.tasksRemaining},i.exports=o}),define("can-queues@1.2.1#completion-queue",["require","exports","module","./queue"],function(e,t,i){"use strict";var n=e("./queue"),o=function(){n.apply(this,arguments),this.flushCount=0};(o.prototype=Object.create(n.prototype)).constructor=o,o.prototype.flush=function(){if(0===this.flushCount){for(this.flushCount++;this.index<this.tasks.length;){var e=this.tasks[this.index++];e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.flushCount--,this.callbacks.onComplete(this)}},i.exports=o}),define("can-queues@1.2.1#can-queues",["require","exports","module","can-log/dev/dev","./queue","./priority-queue","./queue-state","./completion-queue","can-namespace"],function(e,t,i){"use strict";var n,o,r,s,a,u=e("can-log/dev/dev"),l=e("./queue"),h=e("./priority-queue"),c=e("./queue-state"),d=e("./completion-queue"),p=e("can-namespace"),f=0,m=!1,g=!1,v=0,y=["notify","derive","domUI","mutate"];o=new l("NOTIFY",{onComplete:function(){r.flush()},onFirstTask:function(){f?m=!0:o.flush()}}),r=new h("DERIVE",{onComplete:function(){s.flush()},onFirstTask:function(){m=!0}}),s=new d("DOM_UI",{onComplete:function(){a.flush()},onFirstTask:function(){m=!0}}),a=new l("MUTATE",{onComplete:function(){c.lastTask=null,g=!1},onFirstTask:function(){m=!0}});var b={Queue:l,PriorityQueue:h,CompletionQueue:d,notifyQueue:o,deriveQueue:r,domUIQueue:s,mutateQueue:a,batch:{start:function(){1==++f&&(n={number:++v})},stop:function(){0==--f&&m&&(m=!1,g=!0,o.flush())},isCollecting:function(){return f>0},number:function(){return v},data:function(){return n}},runAsTask:function(e,t){return e},enqueueByQueue:function(e,t,i,n,o){e&&(b.batch.start(),y.forEach(function(r){var s=b[r+"Queue"],a=e[r];void 0!==a&&a.forEach(function(e){var r=null!=n?n(e,t,i):{};r.reasonLog=o,s.enqueue(e,t,i,r)})}),b.batch.stop())},lastTask:function(){return c.lastTask},stack:function(e){for(var t=e||c.lastTask,i=[];t;)i.unshift(t),t=t.meta.parentTask;return i},logStack:function(e){this.stack(e).forEach(function(e,t){var i=e.meta;0===t&&i&&i.reasonLog&&u.log.apply(u,i.reasonLog);var n=i&&i.log?i.log:[e.fn.name,e];u.log.apply(u,[e.meta.stack.name+" ran task:"].concat(n))})},taskCount:function(){return o.tasks.length+r.tasks.length+s.tasks.length+a.tasks.length},flush:function(){o.flush()},log:function(){o.log.apply(o,arguments),r.log.apply(r,arguments),s.log.apply(s,arguments),a.log.apply(a,arguments)}};if(p.queues)throw new Error("You can't have two versions of can-queues, check your dependencies");i.exports=p.queues=b}),define("can-key-tree@1.2.0#can-key-tree",["require","exports","module","can-reflect"],function(e,t,i){"use strict";function n(e){if(e===Object.prototype)return!0;var t=Object.prototype.toString.call(e),i="[object Object]"!==t,n=-1!==t.indexOf("[object ");return i&&n}function o(e,t){if(0===t)return a.size(e);if(0===a.size(e))return 0;var i=0;return a.each(e,function(e){i+=o(e,t-1)}),i}function r(e,t,i,n){if(e)if(n===i){if(!a.isMoreListLikeThanMapLike(e))throw new Error("can-key-tree: Map-type leaf containers are not supported yet.");a.addValues(t,a.toArray(e))}else a.each(e,function(e){r(e,t,i+1,n)})}function s(e,t,i,n){if(i===t.length){if(!a.isMoreListLikeThanMapLike(e))throw new Error("can-key-tree: Map-type leaf containers are not supported yet.");var o=a.toArray(e);n&&o.forEach(function(e){n.apply(null,t.concat(e))}),a.removeValues(e,o)}else a.each(e,function(o,r){s(o,t.concat(r),i,n),a.deleteKeyValue(e,r)})}var a=e("can-reflect"),u=function(e,t){var i=e[0];a.isConstructorLike(i)?this.root=new i:this.root=i,this.callbacks=t||{},this.treeStructure=e,this.empty=!0};a.assign(u.prototype,{add:function(e){if(e.length>this.treeStructure.length)throw new Error("can-key-tree: Can not add path deeper than tree.");for(var t=this.root,i=!0===this.empty,o=0;o<e.length-1;o++){var r=e[o],s=a.getKeyValue(t,r);if(!s){var u=this.treeStructure[o+1];s=n(u.prototype)?new u:new u(r),a.setKeyValue(t,r,s)}t=s}if(!a.isMoreListLikeThanMapLike(t))throw new Error("can-key-tree: Map types are not supported yet.");return a.addValues(t,[e[e.length-1]]),i&&(this.empty=!1,this.callbacks.onFirst&&this.callbacks.onFirst.call(this)),this},getNode:function(e){for(var t=this.root,i=0;i<e.length;i++){var n=e[i];if(!(t=a.getKeyValue(t,n)))return}return t},get:function(e){var t=this.getNode(e);if(this.treeStructure.length===e.length)return t;var i=new(0,this.treeStructure[this.treeStructure.length-1]);return r(t,i,e.length,this.treeStructure.length-1),i},delete:function(e,t){for(var i=this.root,n=[this.root],o=e[e.length-1],r=0;r<e.length-1;r++){var u=e[r],l=a.getKeyValue(i,u);if(void 0===l)return!1;n.push(l),i=l}if(e.length)if(e.length===this.treeStructure.length){if(!a.isMoreListLikeThanMapLike(i))throw new Error("can-key-tree: Map types are not supported yet.");t&&t.apply(null,e.concat(o)),a.removeValues(i,[o])}else{var h=a.getKeyValue(i,o);if(void 0===h)return!1;s(h,e,this.treeStructure.length-1,t),a.deleteKeyValue(i,o)}else s(i,[],this.treeStructure.length-1,t);for(r=n.length-2;r>=0&&0===a.size(i);r--)i=n[r],a.deleteKeyValue(i,e[r]);return 0===a.size(this.root)&&(this.empty=!0,this.callbacks.onEmpty&&this.callbacks.onEmpty.call(this)),!0},size:function(){return o(this.root,this.treeStructure.length-1)},isEmpty:function(){return this.empty}}),i.exports=u}),define("can-reflect-promise@2.2.0#can-reflect-promise",["require","exports","module","can-reflect","can-symbol","can-observation-recorder","can-queues","can-key-tree","can-log/dev/dev"],function(e,t,i){"use strict";function n(e,t,i){var n=e[d],o=n[t];n[t]=i,l.enqueueByQueue(n.handlers.getNode([t]),e,[i,o],function(){return{}},["Promise",e,"resolved with value",i,"and changed virtual property: "+t])}function o(e){var t=e[d];t||(Object.defineProperty(e,d,{enumerable:!1,configurable:!1,writable:!1,value:Object.create(p)}),(t=e[d]).handlers=new h([Object,Object,Array])),e.then(function(t){l.batch.start(),n(e,"isPending",!1),n(e,"isResolved",!0),n(e,"value",t),n(e,"state","resolved"),l.batch.stop()},function(t){l.batch.start(),n(e,"isPending",!1),n(e,"isRejected",!0),n(e,"reason",t),n(e,"state","rejected"),l.batch.stop()})}function r(e){var t,i="getPrototypeOf"in Object?Object.getPrototypeOf(e):e.__proto__;e[c]&&e[d]||(null!==i&&i!==Object.prototype||"function"==typeof(i=e).promise&&(t=i.promise,i.promise=function(){var e=t.call(i);return r(e),e}),s.assignSymbols(i,{"can.getKeyValue":function(e){switch(this[d]||o(this),u.add(this,e),e){case"state":case"isPending":case"isResolved":case"isRejected":case"value":case"reason":return this[d][e];default:return this[e]}},"can.getValue":function(){return this[c]("value")},"can.isValueLike":!1,"can.onKeyValue":function(e,t,i){this[d]||o(this),this[d].handlers.add([e,i||"mutate",t])},"can.offKeyValue":function(e,t,i){this[d]||o(this),this[d].handlers.delete([e,i||"mutate",t])},"can.hasOwnKey":function(e){return this[d]||o(this),e in this[d]}}))}var s=e("can-reflect"),a=e("can-symbol"),u=e("can-observation-recorder"),l=e("can-queues"),h=e("can-key-tree"),c=(e("can-log/dev/dev"),a.for("can.getKeyValue")),d=a.for("can.meta"),p={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0};i.exports=r}),define("can-stache-key@1.4.0#can-stache-key",["require","exports","module","can-observation-recorder","can-log/dev/dev","can-symbol","can-reflect","can-reflect-promise"],function(e,t,i){"use strict";var n,o=e("can-observation-recorder"),r=e("can-log/dev/dev"),s=e("can-symbol"),a=e("can-reflect"),u=e("can-reflect-promise"),l=s.for("can.getValue"),h=s.for("can.setValue"),c=s.for("can.isValueLike"),d=o.ignore(a.getKeyValue.bind(a)),p=Function.prototype.bind,f=function(e,t){var i=t[e-1];return i&&i.at},m=function(e,t,i,o,r,s){var a;do{a=!1;for(var u=0,l=n.valueReaders.length;u<l;u++)n.valueReaders[u].test(e,t,i,o)&&(e=n.valueReaders[u].read(e,t,i,o,r,s))}while(a);return e},g=function(e,t,i,n,r){e.foundObservable&&!t.foundObservable&&o.trapsCount()&&(o.addMany(i()),e.foundObservable(n,r),t.foundObservable=!0)},v=function(e,t,i){return!!(t&&t.length&&a.hasKey(e,t[i].key))};(n={read:function(e,t,i){var r,s={foundObservable:!1};(i=i||{}).foundObservable&&(r=o.trap());var a,u,l=m(e,0,t,i,s),h=t.length,c=0;for(g(i,s,r,e,0);c<h;){a=l;for(var d=0,p=n.propertyReaders.length;d<p;d++){var f=n.propertyReaders[d];if(f.test(l)){l=f.read(l,t[c],c,i,s);break}}if(g(i,s,r,a,c),c+=1,l=m(l,c,t,i,s,a),g(i,s,r,a,c-1),c<t.length&&(null===l||void 0===l))return u=v(a,t,c-1),i.earlyExit&&!u&&i.earlyExit(a,c-1,l),{value:void 0,parent:a,parentHasKey:u,foundLastParent:!1}}return u=v(a,t,t.length-1),void 0!==l||u||i.earlyExit&&i.earlyExit(a,c-1),{value:l,parent:a,parentHasKey:u,foundLastParent:!0}},get:function(e,t,i){return n.read(e,n.reads(t),i||{}).value},valueReadersMap:{},valueReaders:[{name:"function",test:function(e){return e&&a.isFunctionLike(e)&&!a.isConstructorLike(e)},read:function(e,t,i,n,o,s){return n.callMethodsOnObservables&&a.isObservableLike(s)&&a.isMapLike(s)?(r.warn("can-stache-key: read() called with `callMethodsOnObservables: true`."),e.apply(s,n.args||[])):!1!==n.proxyMethods?p.call(e,s):e}},{name:"isValueLike",test:function(e,t,i,n){return e&&e[l]&&!1!==e[c]&&(n.foundAt||!f(t,i))},read:function(e,t,i,n){return!1===n.readCompute&&t===i.length?e:a.getValue(e)},write:function(e,t){e[h]?e[h](t):e.set?e.set(t):e(t)}}],propertyReadersMap:{},propertyReaders:[{name:"map",test:function(e){return(a.isPromise(e)||"object"==typeof e&&e&&"function"==typeof e.then)&&u(e),a.isObservableLike(e)&&a.isMapLike(e)},read:function(e,t){var i=a.getKeyValue(e,t.key);return void 0!==i?i:e[t.key]},write:a.setKeyValue},{name:"object",test:function(){return!0},read:function(e,t,i,n){if(null!=e)return"object"!=typeof e?e[t.key]:t.key in e?e[t.key]:void 0},write:function(e,t,i){var n=e[t];null!=i&&"object"==typeof i&&a.isMapLike(n)?(r.warn('can-stache-key: Merging data into "'+t+'" because its parent is non-observable'),a.update(n,i)):null!=n&&void 0!==n[h]?a.setValue(n,i):e[t]=i}}],reads:function(e){var t=""+e,i=[],n=0,o=!1;"@"===t.charAt(0)&&(n=1,o=!0);for(var r="",s=n;s<t.length;s++){var a=t.charAt(s);"."===a||"@"===a?"\\"!==t.charAt(s-1)?(i.push({key:r,at:o}),o="@"===a,r=""):r=r.substr(0,r.length-1)+".":r+=a}return i.push({key:r,at:o}),i},write:function(e,t,i,o){var r,s="string"==typeof t?n.reads(t):t;if(o=o||{},s.length>1?(r=s.pop(),e=n.read(e,s,o).value,s.push(r)):r=s[0],e){var a=d(e,r.key);n.valueReadersMap.isValueLike.test(a,s.length-1,s,o)?n.valueReadersMap.isValueLike.write(a,i,o):(n.valueReadersMap.isValueLike.test(e,s.length-1,s,o)&&(e=e[l]()),n.propertyReadersMap.map.test(e)?n.propertyReadersMap.map.write(e,r.key,i,o):n.propertyReadersMap.object.test(e)&&(n.propertyReadersMap.object.write(e,r.key,i,o),o.observation&&o.observation.update()))}}}).propertyReaders.forEach(function(e){n.propertyReadersMap[e.name]=e}),n.valueReaders.forEach(function(e){n.valueReadersMap[e.name]=e}),n.set=n.write,i.exports=n}),define("can-define-lazy-value@1.1.0#define-lazy-value",function(e,t,i){"use strict";i.exports=function(e,t,i,n){Object.defineProperty(e,t,{configurable:!0,get:function(){Object.defineProperty(this,t,{value:void 0,writable:!0});var o=i.call(this,e,t);return Object.defineProperty(this,t,{value:o,writable:!!n}),o},set:function(e){return Object.defineProperty(this,t,{value:e,writable:!!n}),e}})}}),define("can-event-queue@1.1.3#dependency-record/merge",["require","exports","module","can-reflect"],function(e,t,i){"use strict";var n=e("can-reflect"),o=function(e,t){var i=t.valueDependencies;if(i){var o=e.valueDependencies;o||(o=new Set,e.valueDependencies=o),n.eachIndex(i,function(e){o.add(e)})}},r=function(e,t){var i=t.keyDependencies;if(i){var o=e.keyDependencies;o||(o=new Map,e.keyDependencies=o),n.eachKey(i,function(e,t){var i=o.get(t);i||(i=new Set,o.set(t,i)),n.eachIndex(e,function(e){i.add(e)})})}};i.exports=function(e,t){return r(e,t),o(e,t),e}}),define("can-event-queue@1.1.3#value/value",["require","exports","module","can-queues","can-key-tree","can-reflect","can-define-lazy-value","../dependency-record/merge"],function(e,t,i){"use strict";function n(){return new r([Object,Array],{onFirst:void 0!==this.onBound&&this.onBound.bind(this),onEmpty:void 0!==this.onUnbound&&this.onUnbound.bind(this)})}var o=e("can-queues"),r=e("can-key-tree"),s=e("can-reflect"),a=e("can-define-lazy-value"),u=(e("../dependency-record/merge"),{on:function(e,t){this.handlers.add([t||"mutate",e])},off:function(e,t){void 0===e?void 0===t?this.handlers.delete([]):this.handlers.delete([t]):this.handlers.delete([t||"mutate",e])}}),l={"can.onValue":u.on,"can.offValue":u.off,"can.dispatch":function(e,t){var i=[];i=[this.handlers.getNode([]),this,[e,t]],o.enqueueByQueue.apply(o,i)},"can.getWhatIChange":function(){},"can.isBound":function(){return!this.handlers.isEmpty()}},h=function(e){return s.assign(e,u),s.assignSymbols(e,l),a(e,"handlers",n,!0),e};h.addHandlers=function(e,t){return console.warn("can-event-queue/value: Avoid using addHandlers. Add onBound and onUnbound methods instead."),e.handlers=new r([Object,Array],t),e},i.exports=h}),define("can-observation@4.1.1#recorder-dependency-helpers",["require","exports","module","can-reflect"],function(e,t,i){"use strict";function n(e){void 0!==this.oldEventSet&&!1!==this.oldEventSet.delete(e)||l.onKeyValue(this.observable,e,this.onDependencyChange,"notify")}function o(e,t){e.forEach(n,{onDependencyChange:this.onDependencyChange,observable:t,oldEventSet:this.oldDependencies.keyDependencies.get(t)})}function r(e){l.offKeyValue(this.observable,e,this.onDependencyChange,"notify")}function s(e,t){e.forEach(r,{onDependencyChange:this.onDependencyChange,observable:t})}function a(e){!1===this.oldDependencies.valueDependencies.delete(e)&&l.onValue(e,this.onDependencyChange,"notify")}function u(e){l.offValue(e,this.onDependencyChange,"notify")}var l=e("can-reflect");i.exports={updateObservations:function(e){e.newDependencies.keyDependencies.forEach(o,e),e.oldDependencies.keyDependencies.forEach(s,e),e.newDependencies.valueDependencies.forEach(a,e),e.oldDependencies.valueDependencies.forEach(u,e)},stopObserving:function(e,t){e.keyDependencies.forEach(s,{onDependencyChange:t}),e.valueDependencies.forEach(u,{onDependencyChange:t})}}}),define("can-observation@4.1.1#temporarily-bind",["require","exports","module","can-reflect"],function(e,t,i){"use strict";var n,o=e("can-reflect"),r=function(){},s=function(){for(var e=0,t=n.length;e<t;e++)o.offValue(n[e],r);n=null};i.exports=function(e){var t=e.computeInstance||e;o.onValue(t,r),n||(n=[],setTimeout(s,10)),n.push(t)}}),define("can-observation@4.1.1#can-observation",["require","exports","module","can-namespace","can-reflect","can-queues","can-observation-recorder","can-symbol","can-log/dev/dev","can-event-queue/value/value","./recorder-dependency-helpers","./temporarily-bind"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t,i){this.func=e,this.context=t,this.options=i||{priority:0,isObservable:!0},this.bound=!1,this._value=void 0,this.newDependencies=u.makeDependenciesRecord(),this.oldDependencies=null;var n=this;this.onDependencyChange=function(e){n.dependencyChange(this,e)},this.update=this.update.bind(this)}var r=t("can-namespace"),s=t("can-reflect"),a=t("can-queues"),u=t("can-observation-recorder"),l=t("can-symbol"),h=(t("can-log/dev/dev"),t("can-event-queue/value/value")),c=t("./recorder-dependency-helpers"),d=t("./temporarily-bind"),p=l.for("can.dispatch"),f=(l.for("can.getChangesDependencyRecord"),l.for("can.getValueDependencies"));h(o.prototype),s.assign(o.prototype,{onBound:function(){this.bound=!0,this.oldDependencies=this.newDependencies,u.start(),this._value=this.func.call(this.context),this.newDependencies=u.stop(),c.updateObservations(this)},dependencyChange:function(e,t){if(!0===this.bound){var i=[];i=[this.update,this,[],{priority:this.options.priority}],a.deriveQueue.enqueue.apply(a.deriveQueue,i)}},update:function(){if(!0===this.bound){var e=this._value;this.oldValue=null,this.onBound(),e!==this._value&&this[p](this._value,e)}},onUnbound:function(){this.bound=!1,c.stopObserving(this.newDependencies,this.onDependencyChange),this.newDependencies=u.makeDependenciesRecorder()},get:function(){return this.options.isObservable&&u.isRecording()&&(u.add(this),this.bound||o.temporarilyBind(this)),!0===this.bound?(a.deriveQueue.tasksRemainingCount()>0&&o.updateChildrenAndSelf(this),this._value):this.func.call(this.context)},hasDependencies:function(){var e=this.newDependencies;return this.bound?e.valueDependencies.size+e.keyDependencies.size>0:void 0},log:function(){}}),Object.defineProperty(o.prototype,"value",{get:function(){return this.get()}});var m={"can.getValue":o.prototype.get,"can.isValueLike":!0,"can.isMapLike":!1,"can.isListLike":!1,"can.valueHasDependencies":o.prototype.hasDependencies,"can.getValueDependencies":function(){if(!0===this.bound){var e=this.newDependencies,t={};return e.keyDependencies.size&&(t.keyDependencies=e.keyDependencies),e.valueDependencies.size&&(t.valueDependencies=e.valueDependencies),t}},"can.getPriority":function(){return this.options.priority},"can.setPriority":function(e){this.options.priority=e}};s.assignSymbols(o.prototype,m),o.updateChildrenAndSelf=function(e){if(void 0!==e.update&&!0===a.deriveQueue.isEnqueued(e.update))return a.deriveQueue.flushQueuedTask(e.update),!0;if(e[f]){var t=!1;return(e[f]().valueDependencies||[]).forEach(function(e){!0===o.updateChildrenAndSelf(e)&&(t=!0)}),t}return!1};var g={addAll:"addMany"};["add","addAll","ignore","trap","trapsCount","isRecording"].forEach(function(e){o[e]=function(){var t=g[e]?g[e]:e;return console.warn("can-observation: Call "+t+"() on can-observation-recorder."),u[t].apply(this,arguments)}}),o.prototype.start=function(){return console.warn("can-observation: Use .on and .off to bind."),this.onBound()},o.prototype.stop=function(){return console.warn("can-observation: Use .on and .off to bind."),this.onUnbound()},o.temporarilyBind=d,n.exports=r.Observation=o}(0,e,0,i)}),define("can-globals@1.2.0#can-globals-proto",["require","exports","module","can-reflect"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e){var t=this.eventHandlers[e];if(t)for(var i=t.slice(),n=this.getKeyValue(e),o=0;o<i.length;o++)i[o](n)}function r(){this.eventHandlers={},this.properties={}}var s=t("can-reflect");r.prototype.define=function(e,t,i){return void 0===i&&(i=!0),this.properties[e]||(this.properties[e]={default:t,value:t,enableCache:i}),this},r.prototype.getKeyValue=function(e){var t=this.properties[e];if(t)return"function"==typeof t.value?t.cachedValue?t.cachedValue:t.enableCache?(t.cachedValue=t.value(),t.cachedValue):t.value():t.value},r.prototype.makeExport=function(e){return function(t){return 0===arguments.length?this.getKeyValue(e):void 0!==t&&null!==t?("function"==typeof t?this.setKeyValue(e,function(){return t}):this.setKeyValue(e,t),t):void this.deleteKeyValue(e)}.bind(this)},r.prototype.offKeyValue=function(e,t){if(this.properties[e]){var i=this.eventHandlers[e];if(i){var n=i.indexOf(t);i.splice(n,1)}}return this},r.prototype.onKeyValue=function(e,t){return this.properties[e]&&(this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)),this},r.prototype.deleteKeyValue=function(e){var t=this.properties[e];return void 0!==t&&(t.value=t.default,t.cachedValue=void 0,o.call(this,e)),this},r.prototype.setKeyValue=function(e,t){if(!this.properties[e])return this.define(e,t);var i=this.properties[e];return i.value=t,i.cachedValue=void 0,o.call(this,e),this},r.prototype.reset=function(){for(var e in this.properties)this.properties.hasOwnProperty(e)&&(this.properties[e].value=this.properties[e].default,this.properties[e].cachedValue=void 0,o.call(this,e));return this},s.assignSymbols(r.prototype,{"can.getKeyValue":r.prototype.getKeyValue,"can.setKeyValue":r.prototype.setKeyValue,"can.deleteKeyValue":r.prototype.deleteKeyValue,"can.onKeyValue":r.prototype.onKeyValue,"can.offKeyValue":r.prototype.offKeyValue}),n.exports=r}(0,e,0,i)}),define("can-globals@1.2.0#can-globals-instance",["require","exports","module","can-namespace","./can-globals-proto"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-namespace"),r=new(t("./can-globals-proto"));if(o.globals)throw new Error("You can't have two versions of can-globals, check your dependencies");n.exports=o.globals=r}(0,e,0,i)}),define("can-globals@1.2.0#global/global",["require","exports","module","can-globals/can-globals-instance"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-globals/can-globals-instance");o.define("global",function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"object"==typeof process&&"[object process]"==={}.toString.call(process)?e:window}),n.exports=o.makeExport("global")}(function(){return this}(),e,0,i)}),define("can-globals@1.2.0#document/document",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,i){!function(e,t,i,n){"use strict";t("can-globals/global/global");var o=t("can-globals/can-globals-instance");o.define("document",function(){return o.getKeyValue("global").document}),n.exports=o.makeExport("document")}(0,e,0,i)}),define("can-globals@1.2.0#is-node/is-node",["require","exports","module","can-globals/can-globals-instance"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-globals/can-globals-instance");o.define("isNode",function(){return"object"==typeof process&&"[object process]"==={}.toString.call(process)}),n.exports=o.makeExport("isNode")}(0,e,0,i)}),define("can-globals@1.2.0#is-browser-window/is-browser-window",["require","exports","module","can-globals/can-globals-instance","../is-node/is-node"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-globals/can-globals-instance");t("../is-node/is-node"),o.define("isBrowserWindow",function(){var e=o.getKeyValue("isNode");return"undefined"!=typeof window&&"undefined"!=typeof document&&!1===e}),n.exports=o.makeExport("isBrowserWindow")}(0,e,0,i)}),define("can-dom-events@1.3.3#helpers/util",["require","exports","module","can-globals/document/document","can-globals/is-browser-window/is-browser-window"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e){return e.ownerDocument||a()}function r(e){if(!e||!e.nodeName)return e===window;var t=e.nodeType;return 1===t||9===t||11===t}function s(e,t){var i=t.type,n="inserted"===i||"removed"===i,o=!!e.disabled;return n&&o}var a=t("can-globals/document/document"),u=t("can-globals/is-browser-window/is-browser-window"),l=!1;!function(){if(u()){var e="fix_synthetic_events_on_disabled_test",t=document.createElement("input");t.disabled=!0;var i=setTimeout(function(){l=!0},50),n=function n(){clearTimeout(i),t.removeEventListener(e,n)};t.addEventListener(e,n);try{var o=document.create("HTMLEvents");o.initEvent(e,!1),t.dispatchEvent(o)}catch(e){n(),l=!0}}}(),n.exports={createEvent:function(e,t,i,n){var r,s=o(e).createEvent("HTMLEvents");if("string"==typeof t)r=t;else{r=t.type;for(var a in t)void 0===s[a]&&(s[a]=t[a])}return void 0===i&&(i=!0),s.initEvent(r,i,n),s},addDomContext:function(e,t){return r(e)&&(t=Array.prototype.slice.call(t,0)).unshift(e),t},removeDomContext:function(e,t){return r(e)||(e=(t=Array.prototype.slice.call(t,0)).shift()),{context:e,args:t}},isDomEventTarget:r,getTargetDocument:o,forceEnabledForDispatch:function(e,t){return l&&s(e,t)}}}(0,e,0,i)}),define("can-dom-events@1.3.3#helpers/make-event-registry",function(e,t,i){"use strict";function n(){this._registry={}}i.exports=function(){return new n},n.prototype.has=function(e){return!!this._registry[e]},n.prototype.get=function(e){return this._registry[e]},n.prototype.add=function(e,t){if(!e)throw new Error("An EventDefinition must be provided");if("function"!=typeof e.addEventListener)throw new TypeError("EventDefinition addEventListener must be a function");if("function"!=typeof e.removeEventListener)throw new TypeError("EventDefinition removeEventListener must be a function");if("string"!=typeof(t=t||e.defaultEventType))throw new TypeError("Event type must be a string, not "+t);if(this.has(t))throw new Error('Event "'+t+'" is already registered');this._registry[t]=e;var i=this;return function(){i._registry[t]=void 0}}}),define("can-dom-events@1.3.3#helpers/-make-delegate-event-tree",["require","exports","module","can-key-tree","can-reflect"],function(e,t,i){"use strict";function n(e){var t=function(e){this.element=e,this.events={},this.delegated={}};return r.assignSymbols(t.prototype,{"can.setKeyValue":function(t,i){var n=this.delegated[t]=function(e){r.each(i,function(t,i){var n=e.target;do{var o=n===document?document.documentElement:n,r=o.matches||o.msMatchesSelector;r&&r.call(o,i)&&t.forEach(function(t){t.call(o,e)}),n=n.parentNode}while(n&&n!==e.currentTarget)})};this.events[t]=i,e.addEventListener(this.element,t,n,s(t))},"can.getKeyValue":function(e){return this.events[e]},"can.deleteKeyValue":function(t){e.removeEventListener(this.element,t,this.delegated[t],s(t)),delete this.delegated[t],delete this.events[t]},"can.getOwnEnumerableKeys":function(){return Object.keys(this.events)}}),t}var o=e("can-key-tree"),r=e("can-reflect"),s=function(e){return"focus"===e||"blur"===e};i.exports=function(e){var t=n(e);return new o([Map,t,Object,Array])}}),define("can-dom-events@1.3.3#can-dom-events",["require","exports","module","can-namespace","./helpers/util","./helpers/make-event-registry","./helpers/-make-delegate-event-tree"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-namespace"),r=t("./helpers/util"),s=t("./helpers/make-event-registry"),a=t("./helpers/-make-delegate-event-tree"),u={_eventRegistry:s(),addEvent:function(e,t){return this._eventRegistry.add(e,t)},addEventListener:function(e,t){if(u._eventRegistry.has(t))return u._eventRegistry.get(t).addEventListener.apply(u,arguments);var i=Array.prototype.slice.call(arguments,1);return e.addEventListener.apply(e,i)},removeEventListener:function(e,t){if(u._eventRegistry.has(t))return u._eventRegistry.get(t).removeEventListener.apply(u,arguments);var i=Array.prototype.slice.call(arguments,1);return e.removeEventListener.apply(e,i)},addDelegateListener:function(e,t,i,n){u._eventTree.add([e,t,i,n])},removeDelegateListener:function(e,t,i,n){u._eventTree.delete([e,t,i,n])},dispatch:function(e,t,i,n){var o=r.createEvent(e,t,i,n),s=r.forceEnabledForDispatch(e,o);s&&(e.disabled=!1);var a=e.dispatchEvent(o);return s&&(e.disabled=!0),a}};u._eventTree=a(u),n.exports=o.domEvents=u}(0,e,0,i)}),define("can-event-queue@1.1.3#map/map",["require","exports","module","can-log/dev/dev","can-queues","can-reflect","can-symbol","can-key-tree","can-dom-events","can-dom-events/helpers/util","../dependency-record/merge"],function(e,t,i){"use strict";function n(e,t){t.handlers||(t.handlers=new h([Object,Object,Object,Array],{onFirst:function(){void 0!==e._eventSetup&&e._eventSetup();var t=e.constructor;void 0!==t[f]&&e instanceof t&&t[f](e,!0)},onEmpty:function(){void 0!==e._eventTeardown&&e._eventTeardown();var t=e.constructor;void 0!==t[f]&&e instanceof t&&t[f](e,!1)}})),t.listenHandlers||(t.listenHandlers=new h([Map,Map,Object,Array]))}function o(e,t,i,n){arguments.length&&u.isPrimitive(e)&&(n=i,i=t,t=e,e=this.context),"function"==typeof t&&(n=i,i=t,t=void 0),"string"==typeof i&&(n=i,i=void 0);var o=[];return e&&(o.push(e),(t||i||n)&&(o.push(t),(n||i)&&(o.push(n||this.defaultQueue),i&&o.push(i)))),o}function r(e,t,i){Object.defineProperty(e,t,{enumerable:!1,value:i})}e("can-log/dev/dev");var s,a=e("can-queues"),u=e("can-reflect"),l=e("can-symbol"),h=e("can-key-tree"),c=e("can-dom-events"),d=e("can-dom-events/helpers/util").isDomEventTarget,p=(e("../dependency-record/merge"),l.for("can.meta")),f=l.for("can.dispatchInstanceBoundChange"),m=l.for("can.dispatchInstanceOnPatches"),g=l.for("can.onKeyValue"),v=l.for("can.offKeyValue"),y=l.for("can.onEvent"),b=l.for("can.offEvent"),x=l.for("can.onValue"),w=l.for("can.offValue"),D=function(e){var t=e[p];return t||(t={},u.setKeyValue(e,p,t)),n(e,t),t},C={dispatch:function(e,t){if(!this.__inSetup){"string"==typeof e&&(e={type:e});var i=D(this).handlers,n=void 0!==e.type&&i.getNode([e.type]),o=e.patches&&this.constructor[m],r=void 0!==e.patches&&i.getNode(["can.patches","onKeyValue"]),s=void 0!==e.keyChanged&&i.getNode(["can.keys","onKeyValue"]),u=o||n||r||s;if(u&&a.batch.start(),n&&(n.onKeyValue&&a.enqueueByQueue(n.onKeyValue,this,t,e.makeMeta,e.reasonLog),n.event)){e.batchNum=a.batch.number();var l=[e].concat(t);a.enqueueByQueue(n.event,this,l,e.makeMeta,e.reasonLog)}s&&a.enqueueByQueue(s,this,[e.keyChanged],e.makeMeta,e.reasonLog),r&&a.enqueueByQueue(r,this,[e.patches],e.makeMeta,e.reasonLog),o&&this.constructor[m](this,e.patches),u&&a.batch.stop()}return e},addEventListener:function(e,t,i){return D(this).handlers.add([e,"event",i||"mutate",t]),this},removeEventListener:function(e,t,i){if(void 0===e){var n=D(this).handlers,o=n.getNode([]);Object.keys(o).forEach(function(e){n.delete([e,"event"])})}else t||i?t?D(this).handlers.delete([e,"event",i||"mutate",t]):D(this).handlers.delete([e,"event",i||"mutate"]):D(this).handlers.delete([e,"event"]);return this},one:function(e,t){var i=function(){return s.off.call(this,e,i),t.apply(this,arguments)};return s.on.call(this,e,i),this},listenTo:function(e,t,i,n){return u.isPrimitive(e)&&(n=i,i=t,t=e,e=this),"function"==typeof t&&(n=i,i=t,t=void 0),D(this).listenHandlers.add([e,t,n||"mutate",i]),s.on.call(e,t,i,n||"mutate"),this},stopListening:function(){var e=o.apply({context:this,defaultQueue:"mutate"},arguments);return D(this).listenHandlers.delete(e,function(e,t,i,n){s.off.call(e,t,n,i)}),this},on:function(e,t,i){if(d(this))"string"==typeof t?c.addDelegateListener(this,e,t,i):c.addEventListener(this,e,t,i);else if("addEventListener"in this)this.addEventListener(e,t,i);else if(this[g])u.onKeyValue(this,e,t,i);else if(this[y])this[y](e,t,i);else{if(e||!this[x])throw new Error("can-event-queue: Unable to bind "+e);u.onValue(this,t,i)}return this},off:function(e,t,i){if(d(this))"string"==typeof t?c.removeDelegateListener(this,e,t,i):c.removeEventListener(this,e,t,i);else if("removeEventListener"in this)this.removeEventListener(e,t,i);else if(this[v])u.offKeyValue(this,e,t,i);else if(this[b])this[b](e,t,i);else{if(e||!this[w])throw new Error("can-event-queue: Unable to unbind "+e);u.offValue(this,t,i)}return this}},k={"can.onKeyValue":function(e,t,i){D(this).handlers.add([e,"onKeyValue",i||"mutate",t])},"can.offKeyValue":function(e,t,i){D(this).handlers.delete([e,"onKeyValue",i||"mutate",t])},"can.isBound":function(){return!D(this).handlers.isEmpty()},"can.getWhatIChange":function(e){},"can.onPatches":function(e,t){D(this).handlers.add(["can.patches","onKeyValue",t||"notify",e])},"can.offPatches":function(e,t){D(this).handlers.delete(["can.patches","onKeyValue",t||"notify",e])}};r(s=function(e){return u.assignMap(e,C),u.assignSymbols(e,k)},"addHandlers",n),r(s,"stopListeningArgumentsToKeys",o),C.bind=C.addEventListener,C.unbind=C.removeEventListener,u.assignMap(s,C),u.assignSymbols(s,k),r(s,"start",function(){console.warn("use can-queues.batch.start()"),a.batch.start()}),r(s,"stop",function(){console.warn("use can-queues.batch.stop()"),a.batch.stop()}),r(s,"flush",function(){console.warn("use can-queues.flush()"),a.flush()}),r(s,"afterPreviousEvents",function(e){console.warn("don't use afterPreviousEvents"),a.mutateQueue.enqueue(function(){a.mutateQueue.enqueue(e)}),a.flush()}),r(s,"after",function(e){console.warn("don't use after"),a.mutateQueue.enqueue(e),a.flush()}),i.exports=s}),define("can-key@1.2.0#utils",function(e,t,i){"use strict";var n={isContainer:function(e){var t=typeof e;return e&&("object"===t||"function"===t)},strReplacer:/\{([^\}]+)\}/g,parts:function(e){return Array.isArray(e)?e:void 0!==e?(e+"").replace(/\[/g,".").replace(/]/g,"").split("."):[]}};i.exports=n}),define("can-key@1.2.0#get/get",["require","exports","module","can-reflect","../utils"],function(e,t,i){"use strict";var n=e("can-reflect"),o=e("../utils");i.exports=function(e,t){var i,r,s,a=o.parts(t),u=a.length;if(!u)return e;for(i=e,r=0;r<u&&o.isContainer(i)&&null!==i;r++)s=i,i=n.getKeyValue(s,a[r]);return i}}),define("can-globals@1.2.0#location/location",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,i){!function(e,t,i,n){"use strict";t("can-globals/global/global");var o=t("can-globals/can-globals-instance");o.define("location",function(){return o.getKeyValue("global").location}),n.exports=o.makeExport("location")}(0,e,0,i)}),define("can-globals@1.2.0#mutation-observer/mutation-observer",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,i){!function(e,t,i,n){"use strict";t("can-globals/global/global");var o=t("can-globals/can-globals-instance");o.define("MutationObserver",function(){var e=o.getKeyValue("global");return e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver}),n.exports=o.makeExport("MutationObserver")}(0,e,0,i)}),define("can-globals@1.2.0#custom-elements/custom-elements",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,i){!function(e,t,i,n){"use strict";t("can-globals/global/global");var o=t("can-globals/can-globals-instance");o.define("customElements",function(){return o.getKeyValue("global").customElements}),n.exports=o.makeExport("customElements")}(0,e,0,i)}),define("can-globals@1.2.0#can-globals",["require","exports","module","can-globals/can-globals-instance","./global/global","./document/document","./location/location","./mutation-observer/mutation-observer","./is-browser-window/is-browser-window","./is-node/is-node","./custom-elements/custom-elements"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-globals/can-globals-instance");t("./global/global"),t("./document/document"),t("./location/location"),t("./mutation-observer/mutation-observer"),t("./is-browser-window/is-browser-window"),t("./is-node/is-node"),t("./custom-elements/custom-elements"),n.exports=o}(0,e,0,i)}),define("can-dom-mutate@1.3.5#-util",["require","exports","module","can-globals/document/document"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t){return e.contains?e.contains(t):e.nodeType===Node.DOCUMENT_NODE&&e.documentElement?o(e.documentElement,t):(t=t.parentNode)===e}function r(e){return!(!e||11!==e.nodeType)}function s(e){return!(!e||1!==e.nodeType)}function a(e){for(var t=[],i=e.firstChild;i;)t.push(i),i=i.nextSibling;return t}function u(e){var t,i,n=0,o=r(e)?[]:[e];if(null==e.firstChild)return o;do{!t&&(i=e.firstChild)?(n++,o.push(i)):(i=e.nextSibling)?(t=!1,o.push(i)):(i=e.parentNode,n--,t=!0),e=i}while(n>0);return o}function l(){return NodeFilter.FILTER_ACCEPT}function h(e){for(var t,i=r(e)?[]:[e],n=s(e)&&c().createTreeWalker(e,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,d,!1);t=n&&n.nextNode();)i.push(t);return i}var c=t("can-globals/document/document"),d=l;d.acceptNode=l,n.exports={eliminate:function(e,t){var i=e.indexOf(t);i>=0&&e.splice(i,1)},isInDocument:function(e){var t=c();return t===e||o(t,e)},getDocument:c,isDocumentElement:function(e){return c().documentElement===e},isFragment:r,getParents:function(e){return r(e)?a(e):[e]},getAllNodes:function(e){return void 0!==c().createTreeWalker?h(e):u(e)},getChildren:a,subscription:function(e){return function(){var t=e.apply(this,arguments),i=!1;return function(){if(i){var n="Disposal function returned by "+(e.name||e.displayName||"an anonymous function")+" called more than once.";throw new Error(n)}t.apply(this,arguments),i=!0}}},addToSet:function(e,t){for(var i=0,n=e.length;i<n;i++)t.add(e[i])}}}(0,e,0,i)}),define("can-dom-mutate@1.3.5#can-dom-mutate",["require","exports","module","can-globals","can-globals/global/global","can-globals/mutation-observer/mutation-observer","can-namespace","can-globals/document/document","can-reflect","./-util"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t){var i=P.get(e);if(i)return i[t]}function r(e,t,i){var n=P.get(e);n||(n={},P.set(e,n)),n[t]=i}function s(e,t){return delete P.get(e)[t]}function a(e){for(var t=[],i=0;i<e.length;i++)t.push({target:e[i]});return t}function u(e){return function(t,i){e(t),i&&i()}}function l(e,t){var i=o(S(),t);if(i)return i.listeners}function h(e,t){var i=o(S(),t);if(i)return i.get(e)}function c(e,t,i){var n=S(),s=o(n,t);s||r(n,t,s=new Map);var a=s.get(e);a||(a=[],s.set(e,a)),a.push(i)}function d(e,t,i){var n=S(),r=o(n,t);if(r){var a=r.get(e);a&&(M(a,i),0===a.length&&(r.delete(e),0===r.size&&s(n,t)))}}function p(e,t){for(var i=L.call(e,0),n=i.length,o=0;o<n;o++)i[o](t)}function f(e,t){return function(i){for(var n=0;n<i.length;n++){var o=i[n],r=o.target,s=h(r,e);if(s&&p(s,o),t){var a=l(r,t);a&&p(a,o)}}}}function m(e,t,i,n){var a=o(e,t);a||r(e,t,a={observingCount:0});var u=function(){a.observer&&(a.observer.disconnect(),a.observer=null);var t=_();if(t){var o=k().Node;if(o&&e instanceof o){var r=new t(n);r.id=N++,r.observe(e,i),a.observer=r}}};return 0===a.observingCount&&(C.onKeyValue("MutationObserver",u),u()),a.observingCount++,function(){var i=o(e,t);i&&(i.observingCount--,i.observingCount<=0&&(i.observer&&i.observer.disconnect(),s(e,t),C.offKeyValue("MutationObserver",u)))}}function g(e){if("undefined"!=typeof Set){for(var t=e.length,i=new Set,n=new Set,o=0;o<t;o++){for(var r=e[o],s=r.addedNodes.length,u=0;u<s;u++)F.addToSet(B(r.addedNodes[u]),i);for(var l=r.removedNodes.length,h=0;h<l;h++)F.addToSet(B(r.removedNodes[h]),n)}D(a(A.toArray(n))),w(a(A.toArray(i)))}}function v(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];if("attributes"===n.type){var o=n.target,r=n.attributeName,s=n.oldValue;x.dispatchNodeAttributeChange(o,r,s)}}}function y(e,t,i){return T(function(n,o){if(11===n.nodeType)return Function.prototype;var r;return r=i?m(n,t,R,v):m(S(),t,I,g),c(n,e,o),function(){r(),d(n,e,o)}})}function b(e,t){return T(function(i,n){if(!O(i))throw new Error("Global mutation listeners must pass a documentElement");var a=S(),u=o(a,e);u||r(a,e,u={listeners:[]});var l=u.listeners;return 0===l.length&&(u.removeListener=t(a,function(){})),l.push(n),function(){var t=o(a,e);if(t){var i=t.listeners;M(i,n),0===i.length&&(t.removeListener(),s(a,e))}}})}var x,w,D,C=t("can-globals"),k=t("can-globals/global/global"),_=t("can-globals/mutation-observer/mutation-observer"),E=t("can-namespace"),S=t("can-globals/document/document"),A=t("can-reflect"),F=t("./-util"),M=F.eliminate,T=F.subscription,O=F.isDocumentElement,B=F.getAllNodes,L=Array.prototype.slice,P=new WeakMap,N=0,I={subtree:!0,childList:!0},R={attributes:!0,attributeOldValue:!0};w=u(f("domMutationInsertionData","domMutationDocumentInsertionData")),D=u(f("domMutationRemovalData","domMutationDocumentRemovalData"));var z=u(f("domMutationAttributeChangeData","domMutationDocumentAttributeChangeData")),j=y("domMutationInsertionData","domMutationTreeData"),V=y("domMutationRemovalData","domMutationTreeData"),H=y("domMutationAttributeChangeData","domMutationAttributeData",!0),W=b("domMutationDocumentInsertionData",j),U=b("domMutationDocumentRemovalData",V),q=b("domMutationDocumentAttributeChangeData",H);x={dispatchNodeInsertion:function(e,t){var i=new Set;F.addToSet(B(e),i);var n=a(A.toArray(i));w(n,t)},dispatchNodeRemoval:function(e,t){var i=new Set;F.addToSet(B(e),i);var n=a(A.toArray(i));D(n,t)},dispatchNodeAttributeChange:function(e,t,i,n){z([{target:e,attributeName:t,oldValue:i}],n)},onNodeInsertion:j,onNodeRemoval:V,onNodeAttributeChange:H,onRemoval:U,onInsertion:W,onAttributeChange:q},n.exports=E.domMutate=x}(0,e,0,i)}),define("can-control@4.4.1#can-control",["require","exports","module","can-construct","can-namespace","can-assign","can-stache-key","can-reflect","can-observation","can-event-queue/map/map","can-log/dev/dev","can-string","can-key/get/get","can-dom-mutate","can-symbol"],function(e,t,i){"use strict";var n,o,r=e("can-construct"),s=e("can-namespace"),a=e("can-assign"),u=e("can-stache-key"),l=e("can-reflect"),h=e("can-observation"),c=e("can-event-queue/map/map"),d=(e("can-log/dev/dev"),e("can-string")),p=e("can-key/get/get"),f=e("can-dom-mutate"),m=e("can-symbol").for("can.controls"),g=function(e,t,i,n){return c.on.call(e,t,i,n),function(){c.off.call(e,t,i,n)}},v=[].slice,y=/\{([^\}]+)\}/g,b=function(e,t,i,n){return c.on.call(e,i,t,n),function(){c.off.call(e,i,t,n)}},x=function(e,t,i,n){return n?b(e,n.trim(),t,i):g(e,t,i)},w=r.extend("Control",{setup:function(){if(r.setup.apply(this,arguments),w){var e,t=this;t.actions={};for(e in t.prototype)t._isAction(e)&&(t.actions[e]=t._action(e))}},_shifter:function(e,t){var i="string"==typeof t?e[t]:t;"function"!=typeof i&&(i=e[i]);var n=this;return function(){var o=n.wrapElement(this);return e.called=t,i.apply(e,[o].concat(v.call(arguments,0)))}},_isAction:function(e){var t=this.prototype[e],i=typeof t;return"constructor"!==e&&("function"===i||"string"===i&&"function"==typeof this.prototype[t])&&!!(w.isSpecial(e)||n[e]||/[^\w]/.test(e))},_action:function(e,t,i){var n,r;if(y.lastIndex=0,t||!y.test(e)){if(n=new h(function(){var i,n=e.replace(y,function(e,n){var o,s;return this._isDelegate(t,n)?(i=this._getDelegate(t,n),""):(n=this._removeDelegateFromKey(n),s=this._lookup(t)[0],void 0===(o=u.read(s,u.reads(n),{readCompute:!1}).value)&&"undefined"!=typeof window&&(o=p(window,n)),s&&(l.isObservableLike(s)&&l.isMapLike(s)||o)?"string"==typeof o?o:(i=o,""):(r=!0,null))}.bind(this)),s=(n=n.trim()).split(/\s+/g),a=s.pop();return{processor:this.processors[a]||o,parts:[n,s.join(" "),a],delegate:i||void 0}},this),i){var s=function(t){i._bindings.control[e](i.element),i._bindings.control[e]=t.processor(t.delegate||i.element,t.parts[2],t.parts[1],e,i)};l.onValue(n,s,"mutate"),i._bindings.readyComputes[e]={compute:n,handler:s}}return n.get()}},_lookup:function(e){return[e,window]},_removeDelegateFromKey:function(e){return e},_isDelegate:function(e,t){return"element"===t},_getDelegate:function(e,t){},processors:{},defaults:{},convertElement:function(e){return e="string"==typeof e?document.querySelector(e):e,this.wrapElement(e)},wrapElement:function(e){return e},unwrapElement:function(e){return e},isSpecial:function(e){return"inserted"===e||"removed"===e}},{setup:function(e,t){var i,n=this.constructor,o=n.pluginName||n.shortName;if(!e)throw new Error("Creating an instance of a named control without passing an element");if(this.element=n.convertElement(e),o&&"Control"!==o&&this.element.classList&&this.element.classList.add(o),(i=this.element[m])||(i=[],this.element[m]=i),i.push(this),l.isObservableLike(t)&&l.isMapLike(t)){for(var r in n.defaults)t.hasOwnProperty(r)||u.set(t,r,n.defaults[r]);this.options=t}else this.options=a(a({},n.defaults),t);return this.on(),[this.element,this.options]},on:function(e,t,i,n){if(!e){this.off();var o,r,s=this.constructor,a=this._bindings,u=s.actions,l=this.constructor.unwrapElement(this.element),h=w._shifter(this,"destroy");for(o in u)u.hasOwnProperty(o)&&(r=u[o]||s._action(o,this.options,this))&&(a.control[o]=r.processor(r.delegate||l,r.parts[2],r.parts[1],o,this));var c=f.onNodeRemoval(l,function(){var e=l.ownerDocument,t=e.contains?e:e.documentElement;t&&!1!==t.contains(l)||h()});return a.user.push(function(){c&&(c(),c=void 0)}),a.user.length}return"string"==typeof e&&(n=i,i=t,t=e,e=this.element),void 0===n&&(n=i,i=t,t=null),"string"==typeof n&&(n=w._shifter(this,n)),this._bindings.user.push(x(e,i,n,t)),this._bindings.user.length},off:function(){var e=this.constructor.unwrapElement(this.element),t=this._bindings;t&&((t.user||[]).forEach(function(t){t(e)}),l.eachKey(t.control||{},function(t){t(e)}),l.eachKey(t.readyComputes||{},function(e){l.offValue(e.compute,e.handler,"mutate")})),this._bindings={user:[],control:{},readyComputes:{}}},destroy:function(){if(null!==this.element){var e,t=this.constructor,i=t.pluginName||t.shortName&&d.underscore(t.shortName);this.off(),i&&"can_control"!==i&&this.element.classList&&this.element.classList.remove(i),(e=this.element[m])&&e.splice(e.indexOf(this),1),this.element=null}}});n=w.processors,o=function(e,t,i,n,o){return x(e,t,w._shifter(o,n),i)},["beforeremove","change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"].forEach(function(e){n[e]=o}),i.exports=s.Control=w}),define("can-component@4.4.9#control/control",["require","exports","module","can-control","can-reflect"],function(e,t,i){"use strict";var n=e("can-control"),o=e("can-reflect"),r=/\{([^\}]+)\}/g,s=n.extend({_lookup:function(e){return[e.scope,e,window]},_removeDelegateFromKey:function(e){return e.replace(/^(scope|^viewModel)\./,"")},_isDelegate:function(e,t){return"scope"===t||"viewModel"===t},_getDelegate:function(e,t){return e[t]},_action:function(e,t,i){var o;return r.lastIndex=0,o=r.test(e),!i&&o?void 0:n._action.apply(this,arguments)}},{setup:function(e,t){return this.scope=t.scope,this.viewModel=t.viewModel,n.prototype.setup.call(this,e,t)},off:function(){this._bindings&&o.eachKey(this._bindings.readyComputes||{},function(e){o.offValue(e.compute,e.handler)}),n.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){n.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}});i.exports=s}),define("can-reflect-dependencies@1.1.1#src/add-mutated-by",["require","exports","module","can-reflect"],function(e,t,i){"use strict";var n=e("can-reflect"),o=function(){return{keyDependencies:new Map,valueDependencies:new Set}},r=function(){return{mutateDependenciesForKey:new Map,mutateDependenciesForValue:o()}};i.exports=function(e){return function(t,i,s){var a=3===arguments.length;if(2===arguments.length&&(s=i,i=void 0),!s.keyDependencies&&!s.valueDependencies){var u=new Set;u.add(s),s={valueDependencies:u}}var l=e.get(t);l||(l=r(),e.set(t,l)),a&&!l.mutateDependenciesForKey.get(i)&&l.mutateDependenciesForKey.set(i,o());var h=a?l.mutateDependenciesForKey.get(i):l.mutateDependenciesForValue;s.valueDependencies&&n.addValues(h.valueDependencies,s.valueDependencies),s.keyDependencies&&n.each(s.keyDependencies,function(e,t){var i=h.keyDependencies.get(t);i||(i=new Set,h.keyDependencies.set(t,i)),n.addValues(i,e)})}}}),define("can-reflect-dependencies@1.1.1#src/delete-mutated-by",["require","exports","module","can-reflect"],function(e,t,i){"use strict";var n=e("can-reflect");i.exports=function(e){return function(t,i,o){var r=3===arguments.length,s=e.get(t);if(2===arguments.length&&(o=i,i=void 0),!o.keyDependencies&&!o.valueDependencies){var a=new Set;a.add(o),o={valueDependencies:a}}var u=r?s.mutateDependenciesForKey.get(i):s.mutateDependenciesForValue;o.valueDependencies&&n.removeValues(u.valueDependencies,o.valueDependencies),o.keyDependencies&&n.each(o.keyDependencies,function(e,t){var i=u.keyDependencies.get(t);i&&(n.removeValues(i,e),i.size||u.keyDependencies.delete(t))})}}}),define("can-reflect-dependencies@1.1.1#src/is-function",function(e,t,i){"use strict";i.exports=function(e){return"function"==typeof e}}),define("can-reflect-dependencies@1.1.1#src/get-dependency-data-of",["require","exports","module","can-symbol","can-reflect","./is-function","can-assign"],function(e,t,i){"use strict";var n=e("can-symbol"),o=e("can-reflect"),r=e("./is-function"),s=e("can-assign"),a=n.for("can.getWhatIChange"),u=n.for("can.getKeyDependencies"),l=n.for("can.getValueDependencies"),h=function(e,t){if(r(e[u]))return o.getKeyDependencies(e,t)},c=function(e){if(r(e[l]))return o.getValueDependencies(e)},d=function(e,t,i){var n,o=e.get(t);return o&&o.mutateDependenciesForKey.has(i)&&(n=o.mutateDependenciesForKey.get(i)),n},p=function(e,t){var i,n=e.get(t);if(n){var o=n.mutateDependenciesForValue;o.keyDependencies.size&&((i=i||{}).keyDependencies=o.keyDependencies),o.valueDependencies.size&&((i=i||{}).valueDependencies=o.valueDependencies)}return i},f=function(e,t){if(r(e[a]))return 2===arguments.length?o.getWhatIChange(e,t):o.getWhatIChange(e)},m=function(e){return null==e||!Object.keys(e).length||e.keyDependencies&&!e.keyDependencies.size&&e.valueDependencies&&!e.valueDependencies.size},g=function(e,t,i){var n=3===arguments.length,o=n?d(e,t,i):p(e,t),r=n?h(t,i):c(t);if(!m(o)||!m(r))return s(s({},o?{mutate:o}:null),r?{derive:r}:null)};i.exports=function(e){return function(t,i){var n=2===arguments.length,o=n?g(e,t,i):g(e,t),r=n?f(t,i):f(t);if(o||r)return s(s({},r?{whatIChange:r}:null),o?{whatChangesMe:o}:null)}}}),define("can-reflect-dependencies@1.1.1#can-reflect-dependencies",["require","exports","module","./src/add-mutated-by","./src/delete-mutated-by","./src/get-dependency-data-of"],function(e,t,i){"use strict";var n=e("./src/add-mutated-by"),o=e("./src/delete-mutated-by"),r=e("./src/get-dependency-data-of"),s=new WeakMap;i.exports={addMutatedBy:n(s),deleteMutatedBy:o(s),getDependencyDataOf:r(s)}}),define("can-bind@1.1.1#can-bind",["require","exports","module","can-reflect","can-symbol","can-namespace","can-queues","can-assign"],function(e,t,i){"use strict";function n(e,t){l.setValue(t,e)}function o(e,t,i,n){e[m]&&l.offValue(e,i,n)}function r(e,t,i,n){e[m]&&l.onValue(e,i,n)}function s(e,t){this.value=0,this._binding=e,this._type=t}function a(e){this._options=e,void 0===e.queue&&(e.queue="domUI"),e.cycles>0==0&&(e.cycles=0),e.onInitDoNotUpdateChild="boolean"==typeof e.onInitDoNotUpdateChild&&e.onInitDoNotUpdateChild,e.onInitSetUndefinedParentIfChildIsDefined="boolean"!=typeof e.onInitSetUndefinedParentIfChildIsDefined||e.onInitSetUndefinedParentIfChildIsDefined;var t=new s(this,"child"),i=new s(this,"parent"),o=!0;"boolean"==typeof e.childToParent?o=e.childToParent:null==e.child[f]?o=!1:void 0===e.setParent&&null==e.parent[g]&&(o=!1);var r=!0;if("boolean"==typeof e.parentToChild?r=e.parentToChild:null==e.parent[f]?r=!1:void 0===e.setChild&&null==e.child[g]&&(r=!1),!1===o&&!1===r)throw new Error("Neither the child nor parent will be updated; this is a no-way binding");this._childToParent=o,this._parentToChild=r,void 0===e.setChild&&(e.setChild=n),void 0===e.setParent&&(e.setParent=n),void 0!==e.priority&&(l.setPriority(e.child,e.priority),l.setPriority(e.parent,e.priority));var a=2*e.cycles,h=a+("childSticksToParent"===e.sticky?1:0),c=a+("parentSticksToChild"===e.sticky?1:0);this._bindingState={child:!1,parent:!1},this._updateChild=function(n){u.call(this,{bindingState:this._bindingState,newValue:n,debugObservableName:"child",debugPartnerName:"parent",observable:e.child,setValue:e.setChild,semaphore:t,allowedUpdates:h,sticky:"parentSticksToChild"===e.sticky,partner:e.parent,setPartner:e.setParent,partnerSemaphore:i})}.bind(this),this._updateParent=function(n){u.call(this,{bindingState:this._bindingState,newValue:n,debugObservableName:"parent",debugPartnerName:"child",observable:e.parent,setValue:e.setParent,semaphore:i,allowedUpdates:c,sticky:"childSticksToParent"===e.sticky,partner:e.child,setPartner:e.setChild,partnerSemaphore:t})}.bind(this)}function u(e){var t=e.bindingState;if(!1!==t.child||!1!==t.parent){var i=e.semaphore;if(i.value+e.partnerSemaphore.value<=e.allowedUpdates&&(d.batch.start(),i.increment(e),e.setValue(e.newValue,e.observable),d.mutateQueue.enqueue(i.decrement,i,[]),d.batch.stop(),e.sticky)){var n=l.getValue(e.observable);n!==l.getValue(e.partner)&&e.setPartner(n,e.partner)}}}var l=e("can-reflect"),h=e("can-symbol"),c=e("can-namespace"),d=e("can-queues"),p=e("can-assign"),f=(h.for("can.getChangesDependencyRecord"),h.for("can.getValue")),m=h.for("can.onValue"),g=h.for("can.setValue");p(s.prototype,{decrement:function(){this.value-=1},increment:function(e){this._incremented=!0,this.value+=1}}),Object.defineProperty(a.prototype,"parentValue",{get:function(){return l.getValue(this._options.parent)}}),p(a.prototype,{start:function(){var e,t,i=this._options;this.startParent(),this.startChild(),!0===this._childToParent&&!0===this._parentToChild?void 0===(t=l.getValue(i.parent))?void 0===(e=l.getValue(i.child))?!1===i.onInitDoNotUpdateChild&&this._updateChild(t):!0===i.onInitSetUndefinedParentIfChildIsDefined&&this._updateParent(e):!1===i.onInitDoNotUpdateChild&&this._updateChild(t):!0===this._childToParent?(e=l.getValue(i.child),this._updateParent(e)):!0===this._parentToChild&&!1===i.onInitDoNotUpdateChild&&(t=l.getValue(i.parent),this._updateChild(t))},startChild:function(){if(!1===this._bindingState.child&&!0===this._childToParent){var e=this._options;this._bindingState.child=!0,r(e.child,e.parent,this._updateParent,e.queue)}},startParent:function(){if(!1===this._bindingState.parent&&!0===this._parentToChild){var e=this._options;this._bindingState.parent=!0,r(e.parent,e.child,this._updateChild,e.queue)}},stop:function(){var e=this._bindingState,t=this._options;!0===e.parent&&!0===this._parentToChild&&(e.parent=!1,o(t.parent,t.child,this._updateChild,t.queue)),!0===e.child&&!0===this._childToParent&&(e.child=!1,o(t.child,t.parent,this._updateParent,t.queue))}}),i.exports=c.Bind=a}),define("can-attribute-encoder@1.1.1#can-attribute-encoder",["require","exports","module","can-namespace","can-log/dev/dev"],function(e,t,i){"use strict";function n(e,t){for(var i=0;i<e.length;i++)t(e[i],i)}function o(e,t,i){return t+"-"+i.toLowerCase()}function r(e,t){return 0===e.indexOf(t)}function s(e,t){return e.length-e.lastIndexOf(t)===t.length}var a=e("can-namespace"),u=(e("can-log/dev/dev"),function(e){var t={};return n("allowReorder,attributeName,attributeType,autoReverse,baseFrequency,baseProfile,calcMode,clipPathUnits,contentScriptType,contentStyleType,diffuseConstant,edgeMode,externalResourcesRequired,filterRes,filterUnits,glyphRef,gradientTransform,gradientUnits,kernelMatrix,kernelUnitLength,keyPoints,keySplines,keyTimes,lengthAdjust,limitingConeAngle,markerHeight,markerUnits,markerWidth,maskContentUnits,maskUnits,patternContentUnits,patternTransform,patternUnits,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,repeatCount,repeatDur,requiredExtensions,requiredFeatures,specularConstant,specularExponent,spreadMethod,startOffset,stdDeviation,stitchTiles,surfaceScale,systemLanguage,tableValues,textLength,viewBox,viewTarget,xChannelSelector,yChannelSelector".split(","),function(e){t[e]=!0}),t}()),l={leftParens:/\(/g,rightParens:/\)/g,leftBrace:/\{/g,rightBrace:/\}/g,camelCase:/([a-z]|^)([A-Z])/g,forwardSlash:/\//g,space:/\s/g,uppercase:/[A-Z]/g,uppercaseDelimiterThenChar:/:u:([a-z])/g,caret:/\^/g,dollar:/\$/g,at:/@/g},h={prependUppercase:":u:",replaceSpace:":s:",replaceForwardSlash:":f:",replaceLeftParens:":lp:",replaceRightParens:":rp:",replaceLeftBrace:":lb:",replaceRightBrace:":rb:",replaceCaret:":c:",replaceDollar:":d:",replaceAt:":at:"},c={};if(c.encode=function(e){var t=e;return!u[t]&&t.match(l.camelCase)&&(r(t,"on:")||s(t,":to")||s(t,":from")||s(t,":bind")||s(t,":raw")?t=t.replace(l.uppercase,function(e){return h.prependUppercase+e.toLowerCase()}):(r(t,"(")||r(t,"{"))&&(t=t.replace(l.camelCase,o))),t=t.replace(l.space,h.replaceSpace).replace(l.forwardSlash,h.replaceForwardSlash).replace(l.leftParens,h.replaceLeftParens).replace(l.rightParens,h.replaceRightParens).replace(l.leftBrace,h.replaceLeftBrace).replace(l.rightBrace,h.replaceRightBrace).replace(l.caret,h.replaceCaret).replace(l.dollar,h.replaceDollar).replace(l.at,h.replaceAt)},c.decode=function(e){var t=e;return!u[t]&&l.uppercaseDelimiterThenChar.test(t)&&(r(t,"on:")||s(t,":to")||s(t,":from")||s(t,":bind")||s(t,":raw"))&&(t=t.replace(l.uppercaseDelimiterThenChar,function(e,t){return t.toUpperCase()})),t=t.replace(h.replaceLeftParens,"(").replace(h.replaceRightParens,")").replace(h.replaceLeftBrace,"{").replace(h.replaceRightBrace,"}").replace(h.replaceForwardSlash,"/").replace(h.replaceSpace," ").replace(h.replaceCaret,"^").replace(h.replaceDollar,"$").replace(h.replaceAt,"@")},a.encoder)throw new Error("You can't have two versions of can-attribute-encoder, check your dependencies");i.exports=a.encoder=c}),define("can-view-parser@4.1.2#can-view-parser",["require","exports","module","can-namespace","can-log/dev/dev","can-attribute-encoder"],function(e,t,i){"use strict";function n(e,t){for(var i=0;i<e.length;i++)t(e[i],i)}function o(e){var t={};return n(e.split(","),function(e){t[e]=!0}),t}function r(e,t){for(var i=0,n=e.length;i<n;i++){var o=e[i];t[o.tokenType].apply(t,o.args)}return e}var s=e("can-namespace"),a=(e("can-log/dev/dev"),e("can-attribute-encoder")),u=new RegExp("^<\\/([-:_A-Za-z0-9]+)[^>]*>"),l=new RegExp("\\{\\{(![\\s\\S]*?!|[\\s\\S]*?)\\}\\}\\}?","g"),h=/\s/,c=new RegExp("[A-Za-z0-9]"),d=new RegExp("[-:_A-Za-z0-9]+s*=s*(\"[^\"]*\"|'[^']*')"),p=o("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),f=o("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),m=o("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),g=o("script"),v="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),y={"{":"}","(":")"},b=function(){},x=function(e,t,i){function o(e,i){var n;if(i)for(i=f[i]?i:i.toLowerCase(),n=D.length-1;n>=0&&D[n]!==i;n--);else n=0;if(n>=0){for(var o=D.length-1;o>=n;o--)t.close&&t.close(D[o],y);D.length=n,"body"===i&&(c=!0)}}if("object"==typeof e)return r(e,t);var s=[];t=t||{},i&&n(v,function(e){var i=t[e]||b;t[e]=function(){if(!1!==i.apply(this,arguments)){var t=arguments.length;void 0===arguments[t-1]&&(t=arguments.length-1),s.push({tokenType:e,args:[].slice.call(arguments,0,t)})}}});var a,h,c,d,y,w=function(){_&&!c&&t.chars&&t.chars(_,y),c=!1,_=""},D=[],k=e,_="";for(D.last=function(){return this[this.length-1]};e;){if(h=!0,D.last()&&g[D.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+D.last()+"[^>]*>"),function(e,i){return i=i.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(i,y),""}),o(0,D.last());else{if(0===e.indexOf("\x3c!--"))(a=e.indexOf("--\x3e"))>=0&&(w(),t.comment&&t.comment(e.substring(4,a),y),e=e.substring(a+3),h=!1);else if(0===e.indexOf("</"))(d=e.match(u))&&(w(),d[0].replace(u,o),e=e.substring(d[0].length),h=!1);else if(0===e.indexOf("<")){var E=x.searchStartTag(e);E&&(w(),function(e,i,n,r){i=f[i]?i:i.toLowerCase(),m[i]&&D.last()===i&&o(0,i),r=p[i]||!!r,t.start(i,r,y),r||D.push(i),x.parseAttrs(n,t,y),t.end(i,r,y),"html"===i&&(c=!0)}.apply(null,E.match),e=E.html,h=!1)}else 0===e.indexOf("{{")&&(d=e.match(l))&&(w(),d[0].replace(l,function(e,i){t.special&&t.special(i,y)}),e=e.substring(d[0].length));if(h){0===(a=C(e,"{{"))&&e===k&&(_+=e.charAt(0),e=e.substr(1),a=C(e,"{{"));var S=a<0?e:e.substring(0,a);e=a<0?"":e.substring(a),S&&(_+=S)}}if(e===k)throw new Error("Parse Error: "+e);k=e}return w(),o(),t.done(y),s},w=function(e,t,i,n,o){var r=n.substring("number"==typeof e.nameStart?e.nameStart:t,t),s=a.encode(r);e.attrStart=s,i.attrStart(e.attrStart,o),e.inName=!1},D=function(e,t,i,n,o){if(void 0!==e.valueStart&&e.valueStart<t){var r=n.substring(e.valueStart,t);i.attrValue(r,o)}i.attrEnd(e.attrStart,o),e.attrStart=void 0,e.valueStart=void 0,e.inValue=!1,e.inName=!1,e.lookingForEq=!1,e.inQuote=!1,e.lookingForName=!0},C=function(e,t){for(var i=t.length,n=0,o=e.length;n<o;n++)if("<"===e[n]||e.substr(n,i)===t)return n;return-1};x.parseAttrs=function(e,t,i){if(e){for(var n,o=0,r={inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};o<e.length;){n=o;var s=e.charAt(o);if(o++,"{{"===e.substr(n,"{{".length)){r.inValue&&n>r.valueStart?t.attrValue(e.substring(r.valueStart,n),i):r.inName&&r.nameStart<n?(w(r,n,t,e,i),D(r,n,t,e,i)):r.lookingForValue?r.inValue=!0:r.lookingForEq&&r.attrStart&&D(r,n,t,e,i),l.lastIndex=n;var a=l.exec(e);a&&(t.special(a[1],i),o=n+a[0].length,r.inValue&&(r.valueStart=n+a[0].length))}else if(r.inValue)r.inQuote?s===r.inQuote&&D(r,n,t,e,i):h.test(s)&&D(r,n,t,e,i);else if("="===s&&(r.lookingForEq||r.lookingForName||r.inName))r.attrStart||w(r,n,t,e,i),r.lookingForValue=!0,r.lookingForEq=!1,r.lookingForName=!1;else if(r.inName){var u,c=e[r.nameStart];y[c]===s?(u=y["{"===c?"(":"{"],e[n+1]===u?(w(r,n+2,t,e,i),o++):w(r,n+1,t,e,i),r.lookingForEq=!0):h.test(s)&&"{"!==c&&"("!==c&&(w(r,n,t,e,i),r.lookingForEq=!0)}else r.lookingForName?h.test(s)||(r.attrStart&&D(r,n,t,e,i),r.nameStart=n,r.inName=!0):r.lookingForValue&&(h.test(s)?o===e.length&&D(r,n,t,e,i):(r.lookingForValue=!1,r.inValue=!0,"'"===s||'"'===s?(r.inQuote=s,r.valueStart=n+1):r.valueStart=n))}r.inName?(w(r,n+1,t,e,i),D(r,n+1,t,e,i)):(r.lookingForEq||r.lookingForValue||r.inValue)&&D(r,n+1,t,e,i),l.lastIndex=0}},x.searchStartTag=function(e){for(var t=e.indexOf(">"),i=d.exec(e.substring(1)),n=1;i&&t>=n+i.index;){for(n+=i.index+i[0].length;t<n;)t+=e.substring(t+1).indexOf(">")+1;i=d.exec(e.substring(n))}if(-1===t||!c.test(e[1]))return null;var o,r,s,a="",u="",l=e.substring(0,t+1),p="/"===l[l.length-2],f=l.search(h);return p?(u="/",r=l.substring(1,l.length-2).trim()):r=l.substring(1,l.length-1).trim(),-1===f?o=r:(f--,o=r.substring(0,f),a=r.substring(f)),s=[l,o,a,u],{match:s,html:e.substring(l.length)}},i.exports=s.HTMLParser=x}),define("can-dom-mutate@1.3.5#node",["require","exports","module","can-globals","can-namespace","./can-dom-mutate","./-util"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e){var t=e?p:d;for(var i in t)f[i]=t[i]}var r=t("can-globals"),s=t("can-namespace"),a=t("./can-dom-mutate"),u=t("./-util"),l=u.isInDocument,h=u.getParents,c={dispatchNodeInsertion:function(e,t){l(t)&&a.dispatchNodeInsertion(t)},dispatchNodeRemoval:function(e,t){l(e)&&!l(t)&&a.dispatchNodeRemoval(t)}},d={replaceChild:function(e,t){var i=h(e),n=this.replaceChild(e,t);c.dispatchNodeRemoval(this,t);for(var o=0;o<i.length;o++)c.dispatchNodeInsertion(this,i[o]);return n},setAttribute:function(e,t){var i=this.getAttribute(e),n=this.setAttribute(e,t);return i!==this.getAttribute(e)&&a.dispatchNodeAttributeChange(this,e,i),n},removeAttribute:function(e){var t=this.getAttribute(e),i=this.removeAttribute(e);return t&&a.dispatchNodeAttributeChange(this,e,t),i}};[["appendChild","Insertion"],["insertBefore","Insertion"],["removeChild","Removal"]].forEach(function(e){var t=e[0],i="dispatchNode"+e[1];d[t]=function(e){for(var n=h(e),o=this[t].apply(this,arguments),r=0;r<n.length;r++)c[i](this,n[r]);return o}});var p={};["appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute"].forEach(function(e){p[e]=function(){return this[e].apply(this,arguments)}});var f={};o(r.getKeyValue("MutationObserver")),r.onKeyValue("MutationObserver",o),n.exports=s.domMutateNode=a.node=f}(0,e,0,i)}),define("can-view-nodelist@4.3.2#can-view-nodelist",["require","exports","module","can-namespace","can-dom-mutate/node"],function(e,t,i){"use strict";var n=e("can-namespace"),o=e("can-dom-mutate/node"),r=new Map,s=[].splice,a=[].push,u=function(e){for(var t=0,i=0,n=e.length;i<n;i++){var o=e[i];o.nodeType?t++:t+=u(o)}return t},l=function(e){for(var t=new Map,i=0,n=e.length;i<n;i++){var o=c.first(e[i]);t.set(o,e[i])}return t},h=function(e,t){t.forEach(function(t){e.newDeepChildren.push(t)})},c={update:function(e,t,i){i||(i=c.unregisterChildren(e));for(var n=[],o=0,r=n.length=t.length;o<r;o++)n[o]=t[o];t=n;var a=e.length;return s.apply(e,[0,a].concat(t)),e.replacements?(c.nestReplacements(e),e.deepChildren=e.newDeepChildren,e.newDeepChildren=[]):c.nestList(e),i},nestReplacements:function(e){for(var t=0,i=l(e.replacements),n=e.replacements.length;t<e.length&&n;){var o=e[t],r=i.get(o);r&&(i.delete(o),e.splice(t,u(r),r),n--),t++}n&&h(e,i),e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var i=e[t],n=r.get(i);n?n!==e&&e.splice(t,u(n),n):r.set(i,e),t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:c.last(t)},first:function(e){var t=e[0];return t.nodeType?t:c.first(t)},flatten:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.nodeType?t.push(n):t.push.apply(t,c.flatten(n))}return t},register:function(e,t,i,n){return e.unregistered=t,e.parentList=i,e.nesting=i&&void 0!==i.nesting?i.nesting+1:0,i?(e.deepChildren=[],e.newDeepChildren=[],e.replacements=[],!0!==i&&(n?i.replacements.push(e):i.newDeepChildren.push(e))):c.nestList(e),e},unregisterChildren:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.nodeType?(e.replacements||r.delete(n),t.push(n)):a.apply(t,c.unregister(n,!0))}var o=e.deepChildren;if(o)for(var s=0;s<o.length;s++)c.unregister(o[s],!0);return t},unregister:function(e,t){var i=c.unregisterChildren(e,!0);if(e.isUnregistered=!0,e.unregistered){var n=e.unregistered;if(e.replacements=e.unregistered=null,!t){var o=e.parentList&&e.parentList.deepChildren;if(o){var r=o.indexOf(e);-1!==r&&o.splice(r,1)}}n()}return i},after:function(e,t){var i=e[e.length-1];i.nextSibling?o.insertBefore.call(i.parentNode,t,i.nextSibling):o.appendChild.call(i.parentNode,t)},replace:function(e,t){var i,n=e[0].parentNode;"SELECT"===n.nodeName.toUpperCase()&&n.selectedIndex>=0&&(i=n.value),1===e.length?o.replaceChild.call(n,t,e[0]):(c.after(e,t),c.remove(e)),void 0!==i&&(n.value=i)},remove:function(e){for(var t=e[0]&&e[0].parentNode,i=0;i<e.length;i++)o.removeChild.call(t,e[i])},nodeMap:r};i.exports=n.nodeLists=c}),define("can-child-nodes@1.2.0#can-child-nodes",["require","exports","module","can-namespace"],function(e,t,i){"use strict";var n=e("can-namespace");i.exports=n.childNodes=function(e){var t=e.childNodes;if("length"in t)return t;for(var i=e.firstChild,n=[];i;)n.push(i),i=i.nextSibling;return n}}),define("can-fragment@1.3.0#can-fragment",["require","exports","module","can-globals/document/document","can-namespace","can-reflect","can-child-nodes","can-symbol"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t,i){void 0===t&&(t=c.test(e)&&RegExp.$1),e&&"[object Function]"===d.call(e.replace)&&(e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var n=i.createElement("div"),o=i.createElement("div");return"tbody"===t||"tfoot"===t||"thead"===t||"colgroup"===t?(o.innerHTML="<table>"+e+"</table>",n=3===o.firstChild.nodeType?o.lastChild:o.firstChild):"col"===t?(o.innerHTML="<table><colgroup>"+e+"</colgroup></table>",n=3===o.firstChild.nodeType?o.lastChild:o.firstChild.firstChild):"tr"===t?(o.innerHTML="<table><tbody>"+e+"</tbody></table>",n=3===o.firstChild.nodeType?o.lastChild:o.firstChild.firstChild):"td"===t||"th"===t?(o.innerHTML="<table><tbody><tr>"+e+"</tr></tbody></table>",n=3===o.firstChild.nodeType?o.lastChild:o.firstChild.firstChild.firstChild):"option"===t?(o.innerHTML="<select>"+e+"</select>",n=3===o.firstChild.nodeType?o.lastChild:o.firstChild):n.innerHTML=""+e,[].slice.call(l(n))}function r(e,t){if(e&&11===e.nodeType)return e;t?t.length&&(t=t[0]):t=s();for(var i=o(e,void 0,t),n=(t||document).createDocumentFragment(),r=0,a=i.length;r<a;r++)n.appendChild(i[r]);return n}var s=t("can-globals/document/document"),a=t("can-namespace"),u=t("can-reflect"),l=t("can-child-nodes"),h=t("can-symbol"),c=/^\s*<(\w+)[^>]*>/,d={}.toString,p=h.for("can.toDOM"),f=function(e,t){var i,n=t||s();if(e&&"string"!=typeof e){if("function"==typeof e[p])return f(e[p]());if(11===e.nodeType)return e;if("number"==typeof e.nodeType)return(i=n.createDocumentFragment()).appendChild(e),i;u.isListLike(e)?(i=n.createDocumentFragment(),u.eachIndex(e,function(e){i.appendChild(f(e))})):i=r(""+e,n)}else i=r(null==e?"":""+e,n);return l(i).length||i.appendChild(n.createTextNode("")),i};n.exports=a.fragment=a.frag=f}(0,e,0,i)}),define("can-view-callbacks@4.3.1#can-view-callbacks",["require","exports","module","can-observation-recorder","can-log/dev/dev","can-globals/global/global","can-dom-mutate/node","can-namespace","can-view-nodelist","can-fragment","can-globals","can-symbol","can-reflect"],function(e,t,i){!function(e,t,i,n){"use strict";var o,r=t("can-observation-recorder"),s=(t("can-log/dev/dev"),t("can-globals/global/global")),a=t("can-dom-mutate/node"),u=t("can-namespace"),l=t("can-view-nodelist"),h=t("can-fragment"),c=t("can-globals"),d=t("can-symbol"),p=t("can-reflect"),f=d.for("can.callbackMap"),m={},g=function(){var e=c.getKeyValue("document");return null!=e&&null!=e.documentElement&&"false"!==e.documentElement.getAttribute("data-can-automount")},v=new WeakMap,y=function(e){var t,i=e.tagName&&e.tagName.toLowerCase(),n=m[i];if(n&&!v.has(e)&&n(e,{}),e.getElementsByTagName){t=e.getElementsByTagName("*");for(var o,r=0;void 0!==(o=t[r]);r++)y(o)}},b=!1,x=function(){if(!b){var e=c.getKeyValue("MutationObserver");e&&((o=new e(function(e){for(var t,i,n=0;void 0!==(i=e[n]);n++)if("childList"===i.type){t=i.addedNodes;for(var o,r=0;void 0!==(o=t[r]);r++)v.has(o)||y(o)}})).observe(s().document.documentElement,{childList:!0,subtree:!0}),b=!0)}},w=function(e){for(var t,i=s().document.getElementsByTagName(e),n=0;void 0!==(t=i[n]);n++)y(t)},D=function(e,t){if(!t){var i=C[e];if(!i)for(var n=0,o=k.length;n<o;n++){var r=k[n];if(r.match.test(e))return r.handler}return i}"string"==typeof e?C[e]=t:k.push({match:e,handler:t})},C={},k=[],_=new WeakMap,E=/[-\:]/,S=function(){},A={_tags:m,_attributes:C,_regExpAttributes:k,defaultCallback:S,tag:function(e,t){if(!t){var i;return null===t?delete m[e.toLowerCase()]:i=m[e.toLowerCase()],!i&&E.test(e)&&(i=S),i}var n,r=s(),a=E.test(e);if(m[e.toLowerCase()],r.html5&&(r.html5.elements+=" "+e,r.html5.shivDocument()),m[e.toLowerCase()]=t,g()){var u=c.getKeyValue("customElements");if(u){if(n=u.get(e.toLowerCase()),a&&!n){var l=function(){return Reflect.construct(HTMLElement,[],l)};l.prototype=Object.create(HTMLElement.prototype),l.prototype.connectedCallback=function(){v.has(this)||m[e.toLowerCase()](this,{})},u.define(e,l)}}else x(),w(e)}else b&&o.disconnect()},attr:D,attrs:function(e){var t=p.getKeyValue(e,f)||e;_.has(t)||(_.set(t,!0),p.eachKey(t,function(e,t){D(t,e)}))},tagHandler:function(e,t,i){var n,o=i.scope,s=o&&o.templateContext.tags.get(t)||m[t];if(s?(n=r.ignore(s)(e,i),v.set(e,!0)):n=o,n&&i.subtemplate){o!==n&&(o=o.add(n));var u=l.register([],void 0,i.parentNodeList||!0,!1);u.expression="<"+e.tagName+">";var c=i.subtemplate(o,i.options,u),d="string"==typeof c?h(c):c;a.appendChild.call(e,d)}}};if(u.view=u.view||{},u.view.callbacks)throw new Error("You can't have two versions of can-view-callbacks, check your dependencies");n.exports=u.view.callbacks=A}(0,e,0,i)}),define("can-view-target@4.1.1#can-view-target",["require","exports","module","can-globals/document/document","can-dom-mutate/node","can-namespace","can-globals/mutation-observer/mutation-observer"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t,i,n){var o,r,s,a,u,h=i,c=typeof e,f=function(){return o||(o={path:i,callbacks:[]},t.push(o),h=[]),o};if("object"===c){if(e.tag){if(r=m&&e.namespace?n.createElementNS(e.namespace,e.tag):n.createElement(e.tag),e.attrs)for(var g in e.attrs){var v=e.attrs[g];"function"==typeof v?f().callbacks.push({callback:v}):null!==v&&"object"==typeof v&&v.namespaceURI?r.setAttributeNS(v.namespaceURI,g,v.value):l.setAttribute.call(r,g,v)}if(e.attributes)for(a=0,u=e.attributes.length;a<u;a++)f().callbacks.push({callback:e.attributes[a]});e.children&&e.children.length&&(s=o?o.paths=[]:t,r.appendChild(d(e.children,s,h,n)))}else if(e.comment&&(r=n.createComment(e.comment),e.callbacks))for(a=0,u=e.attributes.length;a<u;a++)f().callbacks.push({callback:e.callbacks[a]})}else"string"===c?r=n.createTextNode(e):"function"===c&&(p?(r=n.createTextNode(""),f().callbacks.push({callback:e})):(r=n.createComment("~"),f().callbacks.push({callback:function(){var t=n.createTextNode("");return l.replaceChild.call(this.parentNode,t,this),e.apply(t,arguments)}})));return r}function r(e,t,i){for(var n=t.path,o=t.callbacks,s=t.paths,a=e,u=n?n.length:0,l=s?s.length:0,h=0;h<u;h++)a=a.childNodes.item(n[h]);for(h=0;h<l;h++)r(a,s[h],i);i.push({element:a,callbacks:o})}function s(e,t){for(var i,n,o,r=e.length,s=0;s<r;s++){i=(o=e[s]).callbacks.length,n=o.element;for(var a=0;a<i;a++)o.callbacks[a].callback.apply(n,t)}}function a(e,t){var i=[],n=d(e,i,[],t||u());return{paths:i,clone:n,hydrate:function(){for(var e=g(this.clone),t=[],n=0,o=t.length=arguments.length;n<o;n++)t[n]=arguments[n];for(var a=[],u=0;u<i.length;u++)r(e,i[u],a);return s(a,t),e}}}var u=t("can-globals/document/document"),l=t("can-dom-mutate/node"),h=t("can-namespace"),c=t("can-globals/mutation-observer/mutation-observer"),d=function(e,t,i,n){for(var r=n.createDocumentFragment(),s=0,a=e.length;s<a;s++){var u=e[s];r.appendChild(o(u,t,i.concat(s),n))}return r},p="undefined"!=typeof document&&function(){var e=document.createDocumentFragment(),t=document.createElement("div");return t.appendChild(document.createTextNode("")),t.appendChild(document.createTextNode("")),e.appendChild(t),2===e.cloneNode(!0).firstChild.childNodes.length}(),f="undefined"!=typeof document&&function(){var e=document.createElement("a");e.innerHTML="<xyz></xyz>";var t,i,n=e.cloneNode(!0),o="<xyz></xyz>"===n.innerHTML;return o?((e=document.createDocumentFragment()).appendChild(document.createTextNode("foo-bar")),(t=c())?((i=new t(function(){})).observe(document.documentElement,{childList:!0,subtree:!0}),n=e.cloneNode(!0),i.disconnect()):n=e.cloneNode(!0),1===n.childNodes.length):o}(),m="undefined"!=typeof document&&!!document.createElementNS,g=f?function(e){return e.cloneNode(!0)}:function(e){var t,i=e.ownerDocument;if(1===e.nodeType?t="http://www.w3.org/1999/xhtml"!==e.namespaceURI&&m&&i.createElementNS?i.createElementNS(e.namespaceURI,e.nodeName):i.createElement(e.nodeName):3===e.nodeType?t=i.createTextNode(e.nodeValue):8===e.nodeType?t=i.createComment(e.nodeValue):11===e.nodeType&&(t=i.createDocumentFragment()),e.attributes)for(var n=e.attributes,o=0;o<n.length;o++){var r=n[o];r&&r.specified&&l.setAttribute.call(t,r.nodeName||r.name,r.nodeValue||r.value)}if(e&&e.firstChild)for(var s=e.firstChild;s;)t.appendChild(g(s)),s=s.nextSibling;return t};a.keepsTextNodes=p,a.cloneNode=g,h.view=h.view||{},n.exports=h.view.target=a}(0,e,0,i)}),define("can-simple-map@4.3.0#can-simple-map",["require","exports","module","can-construct","can-event-queue/map/map","can-queues","can-observation-recorder","can-reflect","can-log/dev/dev","can-symbol"],function(e,t,i){"use strict";var n=e("can-construct"),o=e("can-event-queue/map/map"),r=e("can-queues"),s=e("can-observation-recorder"),a=e("can-reflect"),u=(e("can-log/dev/dev"),e("can-symbol"),n.extend("SimpleMap",{setup:function(e){this._data={},e&&"object"==typeof e&&this.attr(e)},attr:function(e,t){var i=this;if(0===arguments.length){s.add(this,"can.keys");var n={};return a.eachKey(this._data,function(e,t){s.add(this,t),n[t]=e},this),n}if(arguments.length>1){var o=this._data.hasOwnProperty(e),u=this._data[e];if(this._data[e]=t,u!==t){var l={keyChanged:o?void 0:e,type:e};this.dispatch(l,[t,u])}}else{if("object"!=typeof e)return"constructor"!==e?(s.add(this,e),this._data[e]):this.constructor;r.batch.start(),a.eachKey(e,function(e,t){i.attr(t,e)}),r.batch.stop()}},serialize:function(){return a.serialize(this,Map)},get:function(){return this.attr.apply(this,arguments)},set:function(){return this.attr.apply(this,arguments)},log:function(e){}}));o(u.prototype);var l={"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":u.prototype.get,"can.setKeyValue":u.prototype.set,"can.deleteKeyValue":function(e){var t;if(this._data.hasOwnProperty(e)){var i=this._data[e];delete this._data[e],t={keyChanged:e,type:e},this.dispatch(t,[void 0,i])}},"can.getOwnEnumerableKeys":function(){return s.add(this,"can.keys"),Object.keys(this._data)},"can.assignDeep":function(e){r.batch.start(),a.assignMap(this,e),r.batch.stop()},"can.updateDeep":function(e){r.batch.start(),a.updateMap(this,e),r.batch.stop()},"can.keyHasDependencies":function(e){return!1},"can.getKeyDependencies":function(e){},"can.hasOwnKey":function(e){return this._data.hasOwnProperty(e)}};a.assignSymbols(u.prototype,l),i.exports=u}),define("can-view-scope@4.11.1#template-context",["require","exports","module","can-simple-map"],function(e,t,i){"use strict";var n=e("can-simple-map");i.exports=function(e){e=e||{},this.vars=new n(e.vars||{}),this.helpers=new n(e.helpers||{}),this.partials=new n(e.partials||{}),this.tags=new n(e.tags||{})}}),define("can-cid@1.3.0#can-cid",["require","exports","module","can-namespace"],function(e,t,i){"use strict";var n=e("can-namespace"),o=0,r="can"+new Date,s=function(e,t){var i=e.nodeName?r:"_cid";return e[i]||(o++,e[i]=(t||"")+o),e[i]};if(s.domExpando=r,s.get=function(e){var t=typeof e;return null===t||"object"!==t&&"function"!==t?t+":"+e:s(e)},n.cid)throw new Error("You can't have two versions of can-cid, check your dependencies");i.exports=n.cid=s}),define("can-single-reference@1.2.0#can-single-reference",["require","exports","module","can-cid"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t){return(t?s(e)+":"+t:s(e))||e}var r,s=t("can-cid");r={set:function(e,t,i,n){e[o(t,n)]=i},getAndDelete:function(e,t,i){var n=o(t,i),r=e[n];return delete e[n],r}},n.exports=r}(0,e,0,i)}),define("can-view-scope@4.11.1#make-compute-like",["require","exports","module","can-single-reference","can-reflect"],function(e,t,i){"use strict";var n=e("can-single-reference"),o=e("can-reflect"),r=function(e){return arguments.length?o.setValue(this,e):o.getValue(this)};i.exports=function(e){var t=r.bind(e);return t.on=t.bind=t.addEventListener=function(i,o){var r=function(e,i){o.call(t,{type:"change"},e,i)};n.set(o,this,r),e.on(r)},t.off=t.unbind=t.removeEventListener=function(t,i){e.off(n.getAndDelete(i,this))},o.assignSymbols(t,{"can.getValue":function(){return o.getValue(e)},"can.setValue":function(t){return o.setValue(e,t)},"can.onValue":function(t,i){return o.onValue(e,t,i)},"can.offValue":function(t,i){return o.offValue(e,t,i)},"can.valueHasDependencies":function(){return o.valueHasDependencies(e)},"can.getPriority":function(){return o.getPriority(e)},"can.setPriority":function(t){o.setPriority(e,t)},"can.isValueLike":!0,"can.isFunctionLike":!1}),t.isComputed=!0,t}}),define("can-stache-helpers@1.2.0#can-stache-helpers",["require","exports","module","can-namespace"],function(e,t,i){"use strict";var n=e("can-namespace");if(n.stacheHelpers)throw new Error("You can't have two versions of can-stache-helpers, check your dependencies");i.exports=n.stacheHelpers={}}),define("can-simple-observable@2.4.1#log",["require","exports","module","can-log/dev/dev","can-reflect"],function(e,t,i){"use strict";e("can-log/dev/dev"),e("can-reflect"),i.exports=function(){}}),define("can-simple-observable@2.4.1#can-simple-observable",["require","exports","module","./log","can-namespace","can-symbol","can-reflect","can-observation-recorder","can-event-queue/value/value"],function(e,t,i){"use strict";function n(e){this._value=e}var o=e("./log"),r=e("can-namespace"),s=e("can-symbol"),a=e("can-reflect"),u=e("can-observation-recorder"),l=e("can-event-queue/value/value"),h=s.for("can.dispatch");l(n.prototype),a.assignMap(n.prototype,{log:o,get:function(){return u.add(this),this._value},set:function(e){var t=this._value;this._value=e,this[h](e,t)}}),Object.defineProperty(n.prototype,"value",{set:function(e){return this.set(e)},get:function(){return this.get()}});var c={"can.getValue":n.prototype.get,"can.setValue":n.prototype.set,"can.isMapLike":!1,"can.valueHasDependencies":function(){return!0}};a.assignSymbols(n.prototype,c),i.exports=r.SimpleObservable=n}),define("can-view-scope@4.11.1#scope-key-data",["require","exports","module","can-observation","can-stache-key","can-assign","can-reflect","can-symbol","can-observation-recorder","./make-compute-like","can-reflect-dependencies","can-event-queue/value/value","can-stache-helpers","can-simple-observable"],function(e,t,i){"use strict";function n(){this._value=this.newVal}function o(){this.value=this.newVal}var r=e("can-observation"),s=e("can-stache-key"),a=e("can-assign"),u=e("can-reflect"),l=e("can-symbol"),h=e("can-observation-recorder"),c=e("./make-compute-like"),d=(e("can-reflect-dependencies"),e("can-event-queue/value/value")),p=e("can-stache-helpers"),f=e("can-simple-observable"),m=l.for("can.dispatch"),g=(h.ignore(u.getValue.bind(u)),h.ignore(r.prototype.get)),v=h.ignore(function(e){if(e.reads&&1===e.reads.length){var t=e.root;return t&&t[l.for("can.getValue")]&&(t=u.getValue(t)),t&&u.isObservableLike(t)&&u.isMapLike(t)&&"function"!=typeof t[e.reads[0].key]&&t}}),y=function(e){return e&&"number"==typeof e.batchNum&&"string"==typeof e.type},b=function(e,t,i){this.startingScope=e,this.key=t,this.read=this.read.bind(this),this.dispatch=this.dispatch.bind(this),"debugger"===t&&(this.startingScope={_context:p},this.read=function(){var t={scope:e};return(0,p.debugger)(t)});var n=this.observation=new r(this.read,this);this.options=a({observation:this.observation},i),this.fastPath=void 0,this.root=void 0,this.initialValue=void 0,this.reads=void 0,this.setRoot=void 0,this._thisArg=new f,this.parentHasKey=void 0;var o=new Set;o.add(n),this.dependencies={valueDependencies:o},this._latestValue=void 0};d(b.prototype),a(b.prototype,{constructor:b,dispatch:function(e){var t=this.value;this._latestValue=this.value=e,this[m].call(this,this.value,t)},onBound:function(){this.bound=!0,u.onValue(this.observation,this.dispatch,"notify");var e=v(this);e&&this.toFastPath(e),this._latestValue=this.value=g.call(this.observation)},onUnbound:function(){this.bound=!1,u.offValue(this.observation,this.dispatch,"notify"),this.toSlowPath()},set:function(e){var t=this.root||this.setRoot;t?this.reads.length?s.write(t,this.reads,e,this.options):u.setValue(t,e):this.startingScope.set(this.key,e,this.options)},get:function(){return h.isRecording()&&(h.add(this),this.bound||r.temporarilyBind(this)),!0===this.bound&&!0===this.fastPath?this._latestValue:g.call(this.observation)},toFastPath:function(e){var t=this,i=this.observation;this.fastPath=!0,i.dependencyChange=function(i,n){if(y(n))throw"no event objects!";return i===e&&"function"!=typeof n?(t._latestValue=n,this.newVal=n):t.toSlowPath(),r.prototype.dependencyChange.apply(this,arguments)},i.hasOwnProperty("_value")?i.onBound=n:i.onBound=o},toSlowPath:function(){this.observation.dependencyChange=r.prototype.dependencyChange,this.observation.onBound=r.prototype.onBound,this.fastPath=!1},read:function(){var e;return this.root?(e=s.read(this.root,this.reads,this.options),this.thisArg=e.parent,e.value):(e=this.startingScope.read(this.key,this.options),this.scope=e.scope,this.reads=e.reads,this.root=e.rootObserve,this.setRoot=e.setRoot,this.thisArg=e.thisArg,this.parentHasKey=e.parentHasKey,this.initialValue=e.value)},hasDependencies:function(){return u.valueHasDependencies(this.observation)}}),Object.defineProperty(b.prototype,"thisArg",{get:function(){return this._thisArg.get()},set:function(e){this._thisArg.set(e)}});var x={"can.getValue":b.prototype.get,"can.setValue":b.prototype.set,"can.valueHasDependencies":b.prototype.hasDependencies,"can.getValueDependencies":function(){return this.dependencies},"can.getPriority":function(){return u.getPriority(this.observation)},"can.setPriority":function(e){u.setPriority(this.observation,e)}};u.assignSymbols(b.prototype,x),Object.defineProperty(b.prototype,"compute",{get:function(){var e=c(this);return Object.defineProperty(this,"compute",{value:e,writable:!1,configurable:!1}),e},configurable:!0}),i.exports=b}),define("can-view-scope@4.11.1#compute_data",["require","exports","module","./scope-key-data"],function(e,t,i){"use strict";var n=e("./scope-key-data");i.exports=function(e,t,i){return new n(e,t,i||{args:[]})}}),define("can-view-scope@4.11.1#can-view-scope",["require","exports","module","can-stache-key","can-observation-recorder","./template-context","./compute_data","can-assign","can-namespace","can-reflect","can-log/dev/dev","can-define-lazy-value","can-stache-helpers","can-simple-map"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e){return null!=e}function r(){return!1}function s(e,t,i){this._context=e,this._parent=t,this._meta=i||{},this.__cache={}}var a=t("can-stache-key"),u=t("can-observation-recorder"),l=t("./template-context"),h=t("./compute_data"),c=t("can-assign"),d=t("can-namespace"),p=t("can-reflect"),f=t("can-log/dev/dev"),m=t("can-define-lazy-value"),g=t("can-stache-helpers"),v=t("can-simple-map").extend("LetContext",{}),y=/(\.\.\/)|(\.\/)|(this[\.@])/g;c(s,{read:a.read,TemplateContext:l,keyInfo:function(e){"./"===e&&(e="this");var t={remainingKey:e};if(t.isScope="scope"===e,t.isScope)return t;var i=e.substr(0,6);return t.isInScope="scope."===i||"scope@"===i,t.isInScope?(t.remainingKey=e.substr(6),t):"scope/"===i?(t.walkScope=!0,t.remainingKey=e.substr(6),t):"@scope/"===e.substr(0,7)?(t.walkScope=!0,t.remainingKey=e.substr(7),t):(t.parentContextWalkCount=0,t.remainingKey=e.replace(y,function(e,i,n,o,r){return t.isContextBased=!0,void 0!==i&&t.parentContextWalkCount++,""}),".."===t.remainingKey?(t.parentContextWalkCount++,t.remainingKey="this"):"."!==t.remainingKey&&""!==t.remainingKey||(t.remainingKey="this"),"this"===t.remainingKey&&(t.isContextBased=!0),t)},isTemplateContextOrCanNotHaveProperties:function(e){var t=e._context;return t instanceof l||!o(t)},shouldSkipIfSpecial:function(e){return!0==(!0===e._meta.special)||!!s.isTemplateContextOrCanNotHaveProperties(e)},shouldSkipEverythingButSpecial:function(e){return!1==(!0===e._meta.special)||!!s.isTemplateContextOrCanNotHaveProperties(e)},makeShouldExitOnSecondNormalContext:function(){var e=!1;return function(t){var i=!t.isSpecial(),n=i&&e;return i&&(e=!0),n}},makeShouldExitAfterFirstNormalContext:function(){var e=!1;return function(t){return!!e||(!t.isSpecial()&&(e=!0),!1)}},makeShouldSkipSpecialContexts:function(e){var t=e||0;return function(e){return!(t<0&&e._meta.notContext||!e.isSpecial()&&--t<0)}}}),c(s.prototype,{add:function(e,t){return e!==this._context?new this.constructor(e,this,t):this},find:function(e,t){var i=a.reads(e),n={shouldExit:r,shouldSkip:s.shouldSkipIfSpecial,shouldLookForHelper:!0,read:a.read};return this._walk(i,t,n).value},readFromSpecialContext:function(e){return this._walk([{key:e,at:!1}],{special:!0},{shouldExit:r,shouldSkip:s.shouldSkipEverythingButSpecial,shouldLookForHelper:!1,read:a.read})},readFromTemplateContext:function(e,t){var i=a.reads(e);return a.read(this.templateContext,i,t)},read:function(e,t){return t=t||{},this.readKeyInfo(s.keyInfo(e),t||{})},readKeyInfo:function(e,t){var i,n,o={read:t.read||a.read};if(e.isScope)return{value:this};if(e.isInScope)return n=a.reads(e.remainingKey),void 0!==(i=a.read(this,n,t)).value||i.parentHasKey||(i=this.readFromTemplateContext(e.remainingKey,t)),c(i,{thisArg:n.length>0?i.parent:void 0});if(e.isContextBased)return n="this"!==e.remainingKey?a.reads(e.remainingKey):[],o.shouldExit=s.makeShouldExitOnSecondNormalContext(),o.shouldSkip=s.makeShouldSkipSpecialContexts(e.parentContextWalkCount),o.shouldLookForHelper=!0,this._walk(n,t,o);if(e.walkScope)return o.shouldExit=r,o.shouldSkip=s.shouldSkipIfSpecial,o.shouldLookForHelper=!0,n=a.reads(e.remainingKey),this._walk(n,t,o);n=a.reads(e.remainingKey);var u=t&&!0===t.special;return o.shouldExit=s.makeShouldExitOnSecondNormalContext(),o.shouldSkip=u?s.shouldSkipEverythingButSpecial:s.shouldSkipIfSpecial,o.shouldLookForHelper=!u,this._walk(n,t,o)},_walk:function(e,t,i){for(var n,o,r,s,a,l=this,h=[],d=-1,f=c({foundObservable:function(t,i){o=t,r=e.slice(i)},earlyExit:function(t,i){(!0==(!0===l._meta.variable)&&0===i?p.hasKey(t,e[i].key):i>d||i===d&&"object"==typeof t&&p.hasOwnKey(t,e[i].key))&&(a=o,s=r,d=i)}},t),m=u.isRecording(),g=!1;l;)if(!0!==i.shouldSkip(l)){if(!0===i.shouldExit(l))break;g=!0,n=l._context;var v=u.trap(),y=i.read(n,e,f),b=v();if(void 0!==y.value||y.parentHasKey)return!b.length&&m?(o=y.parent,r=e.slice(e.length-1)):u.addMany(b),{scope:l,rootObserve:o,value:y.value,reads:r,thisArg:y.parent,parentHasKey:y.parentHasKey};h.push.apply(h,b),l=l._parent}else l=l._parent;if(i.shouldLookForHelper){var x=this.getHelperOrPartial(e);if(x&&x.value)return{value:x.value}}return u.addMany(h),{setRoot:a,reads:s,value:void 0,noContextAvailable:!g}},getDataForScopeSet:function(e,t){var i,n=s.keyInfo(e),o=c({read:function(e,n){if(void 0!==i||e instanceof v||(i=e),n.length>1){var o=n.slice(0,n.length-1),r=a.read(e,o,t).value;return null!=r&&p.hasKey(r,n[n.length-1].key)?{parent:r,parentHasKey:!0,value:void 0}:{}}return 1===n.length?p.hasKey(e,n[0].key)?{parent:e,parentHasKey:!0,value:void 0}:{}:{value:e}}},t),r=this.readKeyInfo(n,o);if("this"===n.remainingKey)return{parent:r.value,how:"setValue"};var u,l=n.remainingKey.split(".").pop();return r.thisArg?u=r.thisArg:i&&(u=i),void 0===u?{error:"Attempting to set a value at "+e+" where the context is undefined."}:!p.isObservableLike(u)&&p.isObservableLike(u[l])?p.isMapLike(u[l])?{parent:u,key:l,how:"updateDeep",warn:'can-view-scope: Merging data into "'+l+'" because its parent is non-observable'}:p.isValueLike(u[l])?{parent:u,key:l,how:"setValue"}:{parent:u,how:"write",key:l,passOptions:!0}:{parent:u,how:"write",key:l,passOptions:!0}},getHelper:function(e){return console.warn(".getHelper is deprecated, use .getHelperOrPartial"),this.getHelperOrPartial(e)},getHelperOrPartial:function(e){for(var t,i,n=this;n;){if((t=n._context)instanceof l){if(void 0!==(i=a.read(t.helpers,e,{proxyMethods:!1})).value)return i;if(void 0!==(i=a.read(t.partials,e,{proxyMethods:!1})).value)return i}n=n._parent}return a.read(g,e,{proxyMethods:!1})},get:function(e,t){return t=c({isArgument:!0},t),this.read(e,t).value},peek:u.ignore(function(e,t){return this.get(e,t)}),peak:u.ignore(function(e,t){return this.peek(e,t)}),getScope:function(e){for(var t=this;t;){if(e(t))return t;t=t._parent}},getContext:function(e){var t=this.getScope(e);return t&&t._context},getTemplateContext:function(){var e,t=this.getScope(function(t){return e=t,t._context instanceof l});return t||(t=new s(new l),e._parent=t),t},addTemplateContext:function(){return this.add(new l)},addLetContext:function(e){return this.add(new v(e||{}),{variable:!0})},getRoot:function(){for(var e=this,t=this;e._parent;)t=e,e=e._parent;return e._context instanceof l&&(e=t),e._context},getViewModel:function(){var e=this.getScope(function(e){return e._meta.viewModel});return e&&e._context},getTop:function(){var e;return this.getScope(function(t){return t._meta.viewModel&&(e=t),!1}),e&&e._context},getPathsForKey:function(e){},hasKey:function(e){var t,i=a.reads(e);return(t="scope"===i[0].key?a.read(this,i.slice(1),e):a.read(this._context,i,e)).foundLastParent&&t.parentHasKey},set:function(e,t,i){i=i||{};var n=this.getDataForScopeSet(e,i),o=n.parent;switch(n.warn&&f.warn(n.warn),n.how){case"set":o.set(n.key,t,n.passOptions?i:void 0);break;case"write":a.write(o,n.key,t,i);break;case"setValue":p.setValue("key"in n?o[n.key]:o,t);break;case"setKeyValue":p.setKeyValue(o,n.key,t);break;case"updateDeep":p.updateDeep(o[n.key],t)}},attr:u.ignore(function(e,t,i){return f.warn("can-view-scope::attr is deprecated, please use peek, get or set"),i=c({isArgument:!0},i),2===arguments.length?this.set(e,t,i):this.get(e,i)}),computeData:function(e,t){return h(this,e,t)},compute:function(e,t){return this.computeData(e,t).compute},cloneFromRef:function(){for(var e,t=[],i=this;i;){if(i._context instanceof l){e=i._parent;break}t.unshift(i),i=i._parent}return e?(t.forEach(function(t){e=e.add(t._context,t._meta)}),e):this},isSpecial:function(){return this._meta.notContext||this._meta.special||this._context instanceof l||this._meta.variable}}),s.prototype._read=s.prototype._walk,p.assignSymbols(s.prototype,{"can.hasKey":s.prototype.hasKey}),["filename","lineNumber"].forEach(function(e){Object.defineProperty(s.prototype,e,{get:function(){return this.readFromTemplateContext(e).value},set:function(t){this.templateContext[e]=t}})}),m(s.prototype,"templateContext",function(){return this.getTemplateContext()._context}),m(s.prototype,"root",function(){return f.warn("`scope.root` is deprecated. Use either `scope.top` or `scope.vm` instead."),this.getRoot()}),m(s.prototype,"vm",function(){return this.getViewModel()}),m(s.prototype,"top",function(){return this.getTop()}),m(s.prototype,"helpers",function(){return g}),["index","key","element","event","viewModel","arguments","helperOptions"].forEach(function(e){Object.defineProperty(s.prototype,e,{get:function(){return this.readFromSpecialContext(e).value}})}),d.view=d.view||{},n.exports=d.view.Scope=s}(0,e,0,i)}),define("can-simple-observable@2.4.1#settable/settable",["require","exports","module","can-reflect","can-observation-recorder","../can-simple-observable","can-observation","can-queues","../log","can-event-queue/value/value"],function(e,t,i){"use strict";function n(e,t,i){this.lastSetValue=new s(i),this.handler=this.handler.bind(this),this.observation=new a(function(){return e.call(t,this.lastSetValue.get())},this)}var o=e("can-reflect"),r=e("can-observation-recorder"),s=e("../can-simple-observable"),a=e("can-observation"),u=e("can-queues"),l=e("../log"),h=e("can-event-queue/value/value"),c=r.ignore(o.getValue.bind(o));h(n.prototype),o.assignMap(n.prototype,{log:l,constructor:n,handler:function(e){var t=this._value;this._value=e,u.enqueueByQueue(this.handlers.getNode([]),this,[e,t],null,void 0)},onBound:function(){this.bound||(this.bound=!0,this.activate())},activate:function(){o.onValue(this.observation,this.handler,"notify"),this._value=c(this.observation)},onUnbound:function(){this.bound=!1,o.offValue(this.observation,this.handler,"notify")},set:function(e){var t=this.lastSetValue.get();o.isObservableLike(t)&&o.isValueLike(t)&&!o.isObservableLike(e)?o.setValue(t,e):e!==t&&this.lastSetValue.set(e)},get:function(){return r.isRecording()&&(r.add(this),this.bound||this.onBound()),!0===this.bound?this._value:this.observation.get()},hasDependencies:function(){return o.valueHasDependencies(this.observation)},getValueDependencies:function(){return o.getValueDependencies(this.observation)}}),Object.defineProperty(n.prototype,"value",{set:function(e){return this.set(e)},get:function(){return this.get()}}),o.assignSymbols(n.prototype,{"can.getValue":n.prototype.get,"can.setValue":n.prototype.set,"can.isMapLike":!1,"can.getPriority":function(){return o.getPriority(this.observation)},"can.setPriority":function(e){o.setPriority(this.observation,e)},"can.valueHasDependencies":n.prototype.hasDependencies,"can.getValueDependencies":n.prototype.getValueDependencies}),i.exports=n}),define("can-stache@4.15.8#src/key-observable",["require","exports","module","can-simple-observable/settable/settable","can-stache-key"],function(e,t,i){"use strict";function n(e,t){t=""+t,this.key=t,this.root=e,o.call(this,function(){return r.get(this,t)},e)}var o=e("can-simple-observable/settable/settable"),r=e("can-stache-key");(n.prototype=Object.create(o.prototype)).set=function(e){r.set(this.root,this.key,e)},i.exports=n}),define("can-stache@4.15.8#src/utils",["require","exports","module","can-view-scope","can-observation-recorder","can-stache-key","can-reflect","./key-observable","can-symbol"],function(e,t,i){"use strict";var n=e("can-view-scope"),o=e("can-observation-recorder"),r=e("can-stache-key"),s=e("can-reflect"),a=e("./key-observable"),u=e("can-symbol").for("can.isView"),l=function(e){return function(){e&&(e.rendered=!0)}};i.exports={last:function(e){return null!=e&&e[e.length-1]},emptyHandler:function(){},jsonParse:function(e){return"'"===e[0]?e.substr(1,e.length-2):"undefined"===e?void 0:JSON.parse(e)},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(e){this.last().add(e)},subSectionDepth:function(){return this.stack.length-1}},createRenderers:function(e,t,i,n,o,r){e.fn=n?this.makeRendererConvertScopes(n,t,i,r,e.metadata):l(e.metadata),e.inverse=o?this.makeRendererConvertScopes(o,t,i,r,e.metadata):l(e.metadata),e.isSection=!(!n&&!o)},makeRendererConvertScopes:function(e,t,i,r,s){var a=function(o,r,a){return void 0===o||o instanceof n||(o=t?t.add(o):new n(o||{})),s&&(s.rendered=!0),e(o||t,a||i)};return r?a:o.ignore(a)},makeView:function(e){var t=o.ignore(function(t,i){return t instanceof n||(t=new n(t)),e(t,i)});return t[u]=!0,t},getItemsStringContent:function(e,t,i){for(var n="",o=r.get(e,"length"),u=s.isObservableLike(e),l=0;l<o;l++){var h=u?new a(e,l):e[l];n+=i.fn(h)}return n},getItemsFragContent:function(e,t,i){var n,o=[],u=r.get(e,"length"),l=s.isObservableLike(e),h=t.exprData&&t.exprData.hashExprs;s.size(h)>0&&(n={},s.eachKey(h,function(e,t){n[e.key]=t}));for(var c=0;c<u;c++){var d={},p=l?new a(e,c):e[c];s.size(n)>0&&(n.value&&(d[n.value]=p),n.index&&(d[n.index]=c)),o.push(t.fn(i.add(d,{notContext:!0}).add({index:c},{special:!0}).add(p)))}return o}}}),define("can-stache@4.15.8#src/html_section",["require","exports","module","can-view-target","./utils","can-globals/document/document","can-assign"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-view-target"),r=t("./utils"),s=t("can-globals/document/document"),a=t("can-assign"),u=r.last,l="undefined"!=typeof document&&function(){var e=s().createElement("div");return function(t){return-1===t.indexOf("&")?t.replace(/\r\n/g,"\n"):(e.innerHTML=t,0===e.childNodes.length?"":e.childNodes.item(0).nodeValue)}}(),h=function(e){e&&(this.filename=e),this.stack=[new c]};a(h.prototype,r.mixins),a(h.prototype,{startSubSection:function(e){var t=new c(e);return this.stack.push(t),t},endSubSectionAndReturnRenderer:function(){if(this.last().isEmpty())return this.stack.pop(),null;var e=this.endSection();return r.makeView(e.compiled.hydrate.bind(e.compiled))},startSection:function(e){var t=new c(e);this.last().add(t.targetCallback),this.stack.push(t)},endSection:function(){return this.last().compile(),this.stack.pop()},inverse:function(){this.last().inverse()},compile:function(){var e=this.stack.pop().compile();return r.makeView(e.hydrate.bind(e))},push:function(e){this.last().push(e)},pop:function(){return this.last().pop()},removeCurrentNode:function(){this.last().removeCurrentNode()}});var c=function(e){this.data="targetData",this.targetData=[],this.targetStack=[];var t=this;this.targetCallback=function(i,n){e.call(this,i,n,t.compiled.hydrate.bind(t.compiled),t.inverseCompiled&&t.inverseCompiled.hydrate.bind(t.inverseCompiled))}};a(c.prototype,{inverse:function(){this.inverseData=[],this.data="inverseData"},push:function(e){this.add(e),this.targetStack.push(e)},pop:function(){return this.targetStack.pop()},add:function(e){"string"==typeof e&&(e=l(e)),this.targetStack.length?u(this.targetStack).children.push(e):this[this.data].push(e)},compile:function(){return this.compiled=o(this.targetData,s()),this.inverseData&&(this.inverseCompiled=o(this.inverseData,s()),delete this.inverseData),this.targetStack=this.targetData=null,this.compiled},removeCurrentNode:function(){return this.children().pop()},children:function(){return this.targetStack.length?u(this.targetStack).children:this[this.data]},isEmpty:function(){return!this.targetData.length}}),h.HTMLSection=c,n.exports=h}(0,e,0,i)}),define("can-view-live@4.2.7#lib/core",["require","exports","module","can-view-parser","can-dom-mutate","can-view-nodelist","can-fragment","can-child-nodes","can-reflect","can-reflect-dependencies"],function(e,t,i){"use strict";function n(e,t){return e.contains?e.contains(t):e.nodeType===Node.DOCUMENT_NODE&&e.documentElement?n(e.documentElement,t):(t=t.parentNode)===e}var o=e("can-view-parser"),r=e("can-dom-mutate"),s=e("can-view-nodelist"),a=e("can-fragment"),u=e("can-child-nodes"),l=e("can-reflect"),h=(e("can-reflect-dependencies"),{setup:function(e,t,i){var o,s,a=!1,u=function(){return a||(a=!0,i(s),o&&(o(),o=void 0)),!0};return s={teardownCheck:function(e){return!e&&u()}},o=r.onNodeRemoval(e,function(){n(e.ownerDocument,e)||u()}),t(s),s},listen:function(e,t,i,n){return h.setup(e,function(){l.onValue(t,i,n||"notify")},function(e){l.offValue(t,i,n||"notify"),e.nodeList&&s.unregister(e.nodeList)})},getAttributeParts:function(e){var t,i={};return o.parseAttrs(e,{attrStart:function(e){i[e]="",t=e},attrValue:function(e){i[t]+=e},attrEnd:function(){}}),i},isNode:function(e){return e&&e.nodeType},addTextNodeIfNoChildren:function(e){e.firstChild||e.appendChild(e.ownerDocument.createTextNode(""))},replace:function(e,t,i){var n=e.slice(0),o=a(t);return s.register(e,i),s.update(e,u(o)),s.replace(n,o),e},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},makeString:function(e){return null==e?"":""+e}});i.exports=h}),define("can-dom-data-state@1.0.5#can-dom-data-state",["require","exports","module","can-namespace","can-dom-mutate","can-cid"],function(e,t,i){"use strict";var n=e("can-namespace"),o=e("can-dom-mutate"),r=e("can-cid"),s=function(e){for(var t in e)return!1;return!0},a={},u={},l=function(){var e=r.get(this),t=!1;return e&&a[e]&&(t=!0,delete a[e]),u[e]&&(u[e](),delete u[e]),t},h={_data:a,_removalDisposalMap:u,getCid:function(){return r.get(this)},cid:function(){return r(this)},expando:r.domExpando,get:function(e){var t=r.get(this),i=t&&a[t];return void 0===e?i:i&&i[e]},set:function(e,t){var i=r(this),n=a[i]||(a[i]={});if(void 0!==e&&(n[e]=t,this&&"number"==typeof this.nodeType&&!u[i])){var s=this;u[i]=o.onNodeRemoval(s,function(){var e=s.ownerDocument,t=e.contains?e:e.documentElement;t&&t.contains(s)||setTimeout(function(){l.call(s)},13)})}return n},clean:function(e){var t=r.get(this),i=a[t];i&&i[e]&&delete i[e],s(i)&&l.call(this)},delete:l};if(n.domDataState)throw new Error("You can't have two versions of can-dom-data-state, check your dependencies");i.exports=n.domDataState=h}),define("can-diff@1.4.2#list/list",["require","exports","module","can-reflect"],function(e,t,i){"use strict";function n(e,t){return e===t}function o(e){return e.identity&&e.identity.length?function(t,i){return u.getIdentity(t,e)===u.getIdentity(i,e)}:n}function r(e){return null!=e.values?o(u.getSchema(e.values)):n}function s(e,t){var i,r=u.getSchema(e);if(null!=r){if(null==r.values)return n;i=u.getSchema(r.values)}return null==i&&t>0&&(i=u.getSchema(u.getKeyValue(e,0))),i?o(i):n}function a(e,t,i,n,o){for(var r=i.length-1,s=n.length-1;r>e&&s>t;){if(!o(i[r],n[s],r))return[{type:"splice",index:t,deleteCount:r-e+1,insert:l.call(n,t,s+1)}];r--,s--}return[{type:"splice",index:t,deleteCount:r-e+1,insert:l.call(n,t,s+1)}]}var u=e("can-reflect"),l=[].slice;i.exports=function(e,t,i){var n,h=0,c=0,d=u.size(e),p=u.size(t),f=[];for(n="function"==typeof i?i:null!=i?"map"===i.type?o(i):r(i):s(e,d);h<d&&c<p;){var m=e[h],g=t[c];if(n(m,g,h))h++,c++;else if(c+1<p&&n(m,t[c+1],h))f.push({index:c,deleteCount:0,insert:[t[c]],type:"splice"}),h++,c+=2;else{if(!(h+1<d&&n(e[h+1],g,h+1)))return f.push.apply(f,a(h,c,e,t,n)),f;f.push({index:c,deleteCount:1,insert:[],type:"splice"}),h+=2,c++}}return c===p&&h===d?f:(f.push({type:"splice",index:c,deleteCount:d-h,insert:l.call(t,c)}),f)}}),define("can-attribute-observable@1.1.6#behaviors",["require","exports","module","can-globals/document/document","can-globals/global/global","can-dom-data-state","can-dom-events","can-dom-mutate","can-dom-mutate/node","can-globals/mutation-observer/mutation-observer","can-diff/list/list","can-queues"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-globals/document/document"),e=t("can-globals/global/global")(),r=t("can-dom-data-state"),s=t("can-dom-events"),a=t("can-dom-mutate"),u=t("can-dom-mutate/node"),l=t("can-globals/mutation-observer/mutation-observer"),h=t("can-diff/list/list"),c=t("can-queues"),d={INPUT:!0,TEXTAREA:!0,SELECT:!0},p=function(e){return null==e?"":""+e},f=function(e){return"http://www.w3.org/2000/svg"===e.namespaceURI},m=function(){return!0},g=function(e){return e&&e.test||m},v=function(e,t){return t=t||{},t.get=function(){return this[e]},t.set=function(t){this[e]!==t&&(this[e]=t)},t},y=function(e){return{isBoolean:!0,set:function(t){e in this?this[e]=t:u.setAttribute.call(this,e,"")},remove:function(){this[e]=!1}}},b=function(e,t){if(!r.get.call(e,"attrMO")){var i=function(){t.call(e)},n=l();if(n){var o=new n(i);o.observe(e,{childList:!0,subtree:!0}),r.set.call(e,"attrMO",o)}else r.set.call(e,"attrMO",!0),r.set.call(e,"canBindingCallback",{onMutation:i})}},x=function(e,t){for(var i=e.firstChild;i;){if("OPTION"===i.nodeName&&t===i.value)return i;if("OPTGROUP"===i.nodeName){var n=x(i,t);if(n)return n}i=i.nextSibling}},w=function(e,t){var i;null!=t&&(i=x(e,t)),i?i.selected=!0:e.selectedIndex=-1},D=function(e,t){for(var i=e.firstChild;i;)"OPTION"===i.nodeName&&t(i),"OPTGROUP"===i.nodeName&&D(i,t),i=i.nextSibling},C=function(e){var t=[];return D(e,function(e){e.selected&&t.push(e.value)}),t},k=function(e,t){D(e,function(e){e.selected=-1!==t.indexOf(e.value)})},_=function(e,t){var i=r.get.call(e,"attrSetChildOptions");return i?Function.prototype:(i=function(){w(e,e.value)},r.set.call(e,"attrSetChildOptions",i),t.call(e,"change",i),function(t){r.clean.call(e,"attrSetChildOptions"),t.call(e,"change",i)})},E=new Map,S=function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);if(i)return i.writable||i.set;var n=Object.getPrototypeOf(e);return!!n&&S(n,t)},A=function(e,t,i){var n;return(n=E.get(e.prototype))||(n={},E.set(e.constructor,n)),n[t]=i,i},F={checked:{get:function(){return this.checked},set:function(e){var t=!!e||""===e||0===arguments.length;this.checked=t,t&&"radio"===this.type&&(this.defaultChecked=!0)},remove:function(){this.checked=!1},test:function(){return"INPUT"===this.nodeName}},class:{get:function(){return f(this)?this.getAttribute("class"):this.className},set:function(e){e=e||"",f(this)?u.setAttribute.call(this,"class",""+e):this.className=e}},disabled:y("disabled"),focused:{get:function(){return this===document.activeElement},set:function(e){function t(){e?o.focus():o.blur()}var i=M.get(this,"focused"),n=this.ownerDocument.documentElement,o=this;if(i!==e)if(n.contains(o))c.enqueueByQueue({mutate:[t]},null,[]);else var r=a.onNodeInsertion(o,function(){r(),t()});return!0},addEventListener:function(e,t,i){return i.call(this,"focus",t),i.call(this,"blur",t),function(e){e.call(this,"focus",t),e.call(this,"blur",t)}},test:function(){return"INPUT"===this.nodeName}},for:v("htmlFor"),innertext:v("innerText"),innerhtml:v("innerHTML"),innerHTML:v("innerHTML",{addEventListener:function(e,t,i){var n=[],o=this;return["change","blur"].forEach(function(e){var i=function(){t.apply(this,arguments)};s.addEventListener(o,e,i),n.push([e,i])}),function(e){n.forEach(function(t){e.call(o,t[0],t[1])})}}}),required:y("required"),readonly:y("readOnly"),selected:{get:function(){return this.selected},set:function(e){e=!!e,r.set.call(this,"lastSetValue",e),this.selected=e},addEventListener:function(e,t,i){var n=this,o=this.parentNode,a=n.selected,u=function(t){var i=n.selected;i!==(a=r.get.call(n,"lastSetValue")||a)&&(a=i,s.dispatch(n,e))},l=_(o,i);return s.addEventListener(o,"change",u),i.call(n,e,t),function(i){l(i),s.removeEventListener(o,"change",u),i.call(n,e,t)}},test:function(){return"OPTION"===this.nodeName&&this.parentNode&&"SELECT"===this.parentNode.nodeName}},style:{set:function(){var t=e.document&&o().createElement("div");return t&&t.style&&"cssText"in t.style?function(e){this.style.cssText=e||""}:function(e){u.setAttribute.call(this,"style",e)}}()},textcontent:v("textContent"),value:{get:function(){var e=this.value;return"SELECT"===this.nodeName&&"selectedIndex"in this&&-1===this.selectedIndex&&(e=void 0),e},set:function(e){var t=this.nodeName.toLowerCase();if("input"===t&&(e=p(e)),this.value===e&&"option"!==t||(this.value=e),"input"!==t&&"textarea"!==t||(this.defaultValue=e),"select"===t){if(r.set.call(this,"attrValueLastVal",e),w(this,null===e?e:this.value),!this.ownerDocument.documentElement.contains(this))var i=this,n=a.onNodeInsertion(i,function(){n(),w(i,null===e?e:i.value)});b(this,function(){var e=r.get.call(this,"attrValueLastVal");M.set(this,"value",e),s.dispatch(this,"change")})}},test:function(){return d[this.nodeName]}},values:{get:function(){return C(this)},set:function(e){k(this,e=e||[]),r.set.call(this,"stickyValues",M.get(this,"values")),b(this,function(){var e=r.get.call(this,"stickyValues");M.set(this,"values",e);var t=r.get.call(this,"stickyValues");h(e.slice().sort(),t.slice().sort()).length&&s.dispatch(this,"values")})},addEventListener:function(e,t,i){var n=function(){s.dispatch(this,"values")};return s.addEventListener(this,"change",n),i.call(this,e,t),function(i){s.removeEventListener(this,"change",n),i.call(this,e,t)}}}},M={rules:E,specialAttributes:F,getRule:function(e,t){var i=F[t];if(i)return i;var n=E.get(e.constructor),o=n&&n[t];if(o)return o;if(!(t in e))return this.attribute(t);var r=S(e,t)?this.property(t):this.attribute(t);return A(e,t,r)},attribute:function(e){return{get:function(){return this.getAttribute(e)},set:function(t){u.setAttribute.call(this,e,t)}}},property:function(e){return{get:function(){return this[e]},set:function(t){this[e]=t}}},findSpecialListener:function(e){return F[e]&&F[e].addEventListener},setAttrOrProp:function(e,t,i){return this.set(e,t,i)},set:function(e,t,i){var n=this.getRule(e,t),o=n&&n.set;if(o)return o.call(e,i)},get:function(e,t){var i=this.getRule(e,t),n=i&&i.get;if(n)return i.test?i.test.call(e)&&n.call(e):n.call(e)},remove:function(e,t){t=t.toLowerCase();var i=F[t],n=i&&i.set,o=i&&i.remove,r=g(i);"function"==typeof o&&r.call(e)?o.call(e):"function"==typeof n&&r.call(e)?n.call(e,void 0):u.removeAttribute.call(e,t)}};n.exports=M}(function(){return this}(),e,0,i)}),define("can-view-live@4.2.7#lib/attr",["require","exports","module","./core","can-reflect","can-queues","can-attribute-observable/behaviors"],function(e,t,i){"use strict";var n=e("./core"),o=e("can-reflect"),r=e("can-queues"),s=e("can-attribute-observable/behaviors");n.attr=function(e,t,i){n.listen(e,i,function(i){r.domUIQueue.enqueue(s.set,s,[e,t,i])}),s.set(e,t,o.getValue(i))}}),define("can-view-live@4.2.7#lib/attrs",["require","exports","module","./core","can-view-callbacks","can-dom-mutate","can-dom-mutate/node","can-reflect","can-reflect-dependencies"],function(e,t,i){"use strict";var n=e("./core"),o=e("can-view-callbacks"),r=e("can-dom-mutate"),s=e("can-dom-mutate/node"),a=e("can-reflect");e("can-reflect-dependencies"),n.attrs=function(e,t,i,u){function l(t){var r,a=n.getAttributeParts(t);for(r in a){var l=a[r];if(l!==h[r]){s.setAttribute.call(e,r,l);var c=o.attr(r);c&&c(e,{attributeName:r,scope:i,options:u})}delete h[r]}for(r in h)s.removeAttribute.call(e,r);h=a}if(a.isObservableLike(t)){var h={};a.onValue(t,l,"domUI");var c,d=function(){a.offValue(t,l,"domUI"),c&&(c(),c=void 0)};c=r.onNodeRemoval(e,function(){var t=e.ownerDocument;(t.contains?t:t.documentElement).contains(e)||d()}),l(a.getValue(t))}else{var p=n.getAttributeParts(t);for(var f in p)s.setAttribute.call(e,f,p[f])}}}),define("can-view-live@4.2.7#lib/html",["require","exports","module","./core","can-view-nodelist","can-fragment","can-child-nodes","can-reflect","can-symbol","can-queues"],function(e,t,i){"use strict";function n(e,t,i){if(!0!==e.nodeList.isUnregistered){var n=u.toArray(a(t));i||r.update(e.nodeList,n,e.oldNodes);var o=e.oldNodes;e.oldNodes=n,r.replace(o,t)}}var o=e("./core"),r=e("can-view-nodelist"),s=e("can-fragment"),a=e("can-child-nodes"),u=e("can-reflect"),l=e("can-symbol"),h=e("can-queues"),c=l.for("can.viewInsert");o.html=function(e,t,i,l){var d,p,f,m,g;void 0!==l&&(Array.isArray(l)?f=l:(f=l.nodeList,g=l));var v={reasonLog:"live.html replace::"+u.getName(t)};i=o.getParentNode(e,i),d=o.listen(i,t,function(e){r.first(m).parentNode&&p(e,!0);var t=r.first(m).parentNode;d.teardownCheck(t)}),m=f||[e],p=function(e,t){e&&"function"==typeof e[c]&&(e=e[c](g));var i="function"==typeof e,u=s(i?"":e);if(o.addTextNodeIfNoChildren(u),!0===t){d.oldNodes=r.unregisterChildren(m,!0);var l=!1;i&&(e(u.firstChild),l=r.first(m)===u.firstChild),h.domUIQueue.enqueue(n,null,[d,u,l],v)}else d.oldNodes=r.update(m,a(u)),i&&e(u.firstChild),r.replace(d.oldNodes,u)},d.nodeList=m,f?f.unregistered=d.teardownCheck:r.register(m,d.teardownCheck),p(u.getValue(t))}}),define("can-view-live@4.2.7#lib/set-observable",["require","exports","module","can-simple-observable","can-reflect"],function(e,t,i){"use strict";function n(e,t){this.setter=t,o.call(this,e)}var o=e("can-simple-observable"),r=e("can-reflect");(n.prototype=Object.create(o.prototype)).constructor=n,n.prototype.set=function(e){this.setter(e)},r.assignSymbols(n.prototype,{"can.setValue":n.prototype.set}),i.exports=n}),define("can-diff@1.4.2#patcher/patcher",["require","exports","module","can-reflect","can-key-tree","can-symbol","../list/list","can-queues","can-symbol"],function(e,t,i){"use strict";var n=e("can-reflect"),o=e("can-key-tree"),r=e("can-symbol"),s=e("../list/list"),a=e("can-queues"),u=(r=e("can-symbol")).for("can.onValue"),l=r.for("can.offValue"),h=r.for("can.onPatches"),c=r.for("can.offPatches"),d=function(e,t){this.handlers=new o([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.observableOrList=e,this.isObservableValue=n.isValueLike(this.observableOrList)||n.isObservableLike(this.observableOrList),this.isObservableValue?this.priority=n.getPriority(e):this.priority=t||0,this.onList=this.onList.bind(this),this.onPatchesNotify=this.onPatchesNotify.bind(this),this.onPatchesDerive=this.onPatchesDerive.bind(this),this.patches=[]};d.prototype={constructor:d,setup:function(){this.observableOrList[u]?(n.onValue(this.observableOrList,this.onList,"notify"),this.setupList(n.getValue(this.observableOrList))):this.setupList(this.observableOrList)},teardown:function(){this.observableOrList[l]&&n.offValue(this.observableOrList,this.onList,"notify")},setupList:function(e){this.currentList=e,e&&e[h]&&e[h](this.onPatchesNotify,"notify")},onList:function(e){var t=this.currentList||[];e=e||[],t[c]&&t[c](this.onPatchesNotify,"notify");var i=s(t,e);this.currentList=e,this.onPatchesNotify(i),e[h]&&e[h](this.onPatchesNotify,"notify")},onPatchesNotify:function(e){this.patches.push.apply(this.patches,e),a.deriveQueue.enqueue(this.onPatchesDerive,this,[],{priority:this.priority})},onPatchesDerive:function(){var e=this.patches;this.patches=[],a.enqueueByQueue(this.handlers.getNode([]),this.currentList,[e,this.currentList],null,["Apply patches",e])}},n.assignSymbols(d.prototype,{"can.onPatches":function(e,t){this.handlers.add([t||"mutate",e])},"can.offPatches":function(e,t){this.handlers.delete([t||"mutate",e])}}),i.exports=d}),define("can-view-live@4.2.7#lib/list",["require","exports","module","./core","can-view-nodelist","can-fragment","can-child-nodes","can-dom-mutate/node","can-reflect","can-symbol","can-reflect-dependencies","can-simple-observable","./set-observable","can-diff/patcher/patcher"],function(e,t,i){"use strict";function n(e,t,i,n,s,a,u){this.patcher=new p(t),s=o.getParentNode(e,s),this.value=t,this.render=i,this.context=n,this.parentNode=s,this.falseyRender=u,this.masterNodeList=a||r.register([e],null,!0),this.placeholder=e,this.indexMap=[],this.isValueLike=l.isValueLike(this.value),this.isObservableLike=l.isObservableLike(this.value),this.onPatches=this.onPatches.bind(this);var h=this.data=o.setup(s,this.setupValueBinding.bind(this),this.teardownValueBinding.bind(this));this.masterNodeList.unregistered=function(){h.teardownCheck()}}var o=e("./core"),r=e("can-view-nodelist"),s=e("can-fragment"),a=e("can-child-nodes"),u=e("can-dom-mutate/node"),l=e("can-reflect"),h=e("can-symbol"),c=(e("can-reflect-dependencies"),e("can-simple-observable")),d=e("./set-observable"),p=e("can-diff/patcher/patcher"),f=[].splice,m=function(e,t,i,n,o){var u=[];t&&(r.register(u,null,!0,!0),u.parentList=t,u.expression="#each SUBEXPRESSION");var h=i.apply(n,o.concat([u])),c=s(h),d=l.toArray(a(c));return t?(r.update(u,d),e.push(u)):e.push(r.register(d)),c},g=function(e,t,i){var n=[];return e.splice(t+1,i).forEach(function(e){var t=r.unregister(e);[].push.apply(n,t)}),n},v=h.for("can.onPatches"),y=h.for("can.offPatches"),v=h.for("can.onPatches"),y=h.for("can.offPatches");n.prototype={setupValueBinding:function(){this.patcher[v](this.onPatches,"domUI"),this.patcher.currentList&&this.patcher.currentList.length?this.onPatches([{insert:this.patcher.currentList,index:0,deleteCount:0}]):this.addFalseyIfEmpty()},teardownValueBinding:function(){this.patcher[y](this.onPatches,"domUI"),this.exit=!0,this.remove({length:this.patcher.currentList?this.patcher.currentList.length:0},0,!0)},onPatches:function(e){if(!this.exit)for(var t=0,i=e.length;t<i;t++){var n=e[t];"move"===n.type?this.move(n.toIndex,n.fromIndex):(n.deleteCount&&this.remove({length:n.deleteCount},n.index,!0),n.insert&&n.insert.length&&this.add(n.insert,n.index))}},add:function(e,t){var i=this.placeholder.ownerDocument.createDocumentFragment(),n=[],o=[],s=this.masterNodeList,a=this.render,h=this.context;e.forEach(function(e,r){var u=new c(r+t),p=new d(e,function(e){l.setKeyValue(this.patcher.currentList,u.get(),e)}.bind(this)),f=m(n,s,a,h,[p,u]);i.appendChild(f),o.push(u)},this);var p=t+1;if(!this.indexMap.length){var v=g(s,0,s.length-1);r.remove(v)}if(s[p]){var y=r.first(s[p]);u.insertBefore.call(y.parentNode,i,y)}else r.after(1===p?[this.placeholder]:[r.last(this.masterNodeList[p-1])],i);f.apply(this.masterNodeList,[p,0].concat(n)),f.apply(this.indexMap,[t,0].concat(o));for(var b=t+o.length,x=this.indexMap.length;b<x;b++)this.indexMap[b].set(b)},remove:function(e,t){t<0&&(t=this.indexMap.length+t);var i=g(this.masterNodeList,t,e.length),n=this.indexMap;n.splice(t,e.length);for(var o=t,s=n.length;o<s;o++)n[o].set(o);this.exit?r.unregister(this.masterNodeList):(this.addFalseyIfEmpty(),r.remove(i))},addFalseyIfEmpty:function(){if(this.falseyRender&&0===this.indexMap.length){var e=[],t=m(e,this.masterNodeList,this.falseyRender,this.currentList,[this.currentList]);r.after([this.masterNodeList[0]],t),this.masterNodeList.push(e[0])}},move:function(e,t){e+=1,t+=1;var i,n=this.masterNodeList,o=this.indexMap,a=n[e],u=s(r.flatten(n[t]));i=t<e?r.last(a).nextSibling:r.first(a),n[0].parentNode.insertBefore(u,i);var l=n[t];[].splice.apply(n,[t,1]),[].splice.apply(n,[e,0,l]),e-=1;var h=o[t-=1];[].splice.apply(o,[t,1]),[].splice.apply(o,[e,0,h]);var c=Math.min(t,e),d=o.length;for(d;c<d;c++)o[c].set(c)},set:function(e,t){this.remove({length:1},t,!0),this.add([e],t)}},o.list=function(e,t,i,o,s,a,u){if(e.nodeType!==Node.TEXT_NODE){var l;a?(l=document.createTextNode(""),r.replace(a,l),r.update(a,[l]),e=l):(l=document.createTextNode(""),e.parentNode.replaceChild(l,e),e=l)}new n(e,t,i,o,s,a,u)}}),define("can-view-live@4.2.7#lib/text",["require","exports","module","./core","can-view-nodelist","can-reflect"],function(e,t,i){"use strict";var n=e("./core"),o=e("can-view-nodelist"),r=e("can-reflect");n.text=function(e,t,i,s){if(e.nodeType!==Node.TEXT_NODE){var a;s?(a=document.createTextNode(""),o.replace(s,a),o.update(s,[a]),e=a):(a=document.createTextNode(""),e.parentNode.replaceChild(a,e),e=a)}var u=n.getParentNode(e,i);e.nodeValue=n.makeString(r.getValue(t));var l=n.listen(u,t,function(t){e.nodeValue=n.makeString(t)},"domUI");s||(s=o.register([e],null,!0)),s.unregistered=l.teardownCheck,l.nodeList=s}}),define("can-view-live@4.2.7#can-view-live",["require","exports","module","./lib/core","./lib/attr","./lib/attrs","./lib/html","./lib/list","./lib/text"],function(e,t,i){"use strict";var n=e("./lib/core");e("./lib/attr"),e("./lib/attrs"),e("./lib/html"),e("./lib/list"),e("./lib/text"),i.exports=n}),define("can-stache@4.15.8#src/text_section",["require","exports","module","can-view-live","./utils","can-dom-mutate/node","can-assign","can-reflect","can-observation"],function(e,t,i){"use strict";var n=e("can-view-live"),o=e("./utils"),r=e("can-dom-mutate/node"),s=e("can-assign"),a=e("can-reflect"),u=e("can-observation"),l=function(){},h=function(e){e&&(this.filename=e),this.stack=[new d]};s(h.prototype,o.mixins),s(h.prototype,{startSection:function(e){var t=new d;this.last().add({process:e,truthy:t}),this.stack.push(t)},endSection:function(){this.stack.pop()},inverse:function(){this.stack.pop();var e=new d;this.last().last().falsey=e,this.stack.push(e)},compile:function(e){var t=this.stack[0].compile();return function(i){var o=new u(function(){return t(i)},null,{isObservable:!1});a.onValue(o,l);var s=a.getValue(o);a.valueHasDependencies(o)?(e.textContentOnly?n.text(this,o):e.attr?n.attr(this,e.attr,o):n.attrs(this,o,i),a.offValue(o,l)):e.textContentOnly?this.nodeValue=s:e.attr?r.setAttribute.call(this,e.attr,s):n.attrs(this,s)}}});var c=function(e,t,i){return function(n){return e.call(this,n,t,i)}},d=function(){this.values=[]};s(d.prototype,{add:function(e){this.values.push(e)},last:function(){return this.values[this.values.length-1]},compile:function(){for(var e=this.values,t=e.length,i=0;i<t;i++){var n=this.values[i];"object"==typeof n&&(e[i]=c(n.process,n.truthy&&n.truthy.compile(),n.falsey&&n.falsey.compile()))}return function(i){for(var n,o="",r=0;r<t;r++)o+="string"==typeof(n=e[r])?n:n.call(this,i);return o}}}),i.exports=h}),define("can-stache@4.15.8#expressions/arg",function(e,t,i){"use strict";var n=function(e,t){this.expr=e,this.modifiers=t||{},this.isCompute=!1};n.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)},i.exports=n}),define("can-stache@4.15.8#expressions/literal",function(e,t,i){"use strict";var n=function(e){this._value=e};n.prototype.value=function(){return this._value},i.exports=n}),define("can-simple-observable@2.4.1#setter/setter",["require","exports","module","can-reflect","can-observation","../settable/settable","can-event-queue/value/value"],function(e,t,i){"use strict";function n(e,t){this.setter=t,this.observation=new r(e),this.handler=this.handler.bind(this)}var o=e("can-reflect"),r=e("can-observation"),s=e("../settable/settable");e("can-event-queue/value/value"),(n.prototype=Object.create(s.prototype)).constructor=n,n.prototype.set=function(e){this.setter(e)},n.prototype.hasDependencies=function(){return o.valueHasDependencies(this.observation)},o.assignSymbols(n.prototype,{"can.setValue":n.prototype.set,"can.valueHasDependencies":n.prototype.hasDependencies}),i.exports=n}),define("can-stache@4.15.8#src/expression-helpers",["require","exports","module","../expressions/arg","../expressions/literal","can-reflect","can-stache-key","can-symbol","can-observation","can-view-scope/make-compute-like","can-simple-observable/setter/setter"],function(e,t,i){"use strict";var n=e("../expressions/arg"),o=e("../expressions/literal"),r=e("can-reflect"),s=e("can-stache-key"),a=e("can-symbol"),u=e("can-observation"),l=e("can-view-scope/make-compute-like"),h=e("can-simple-observable/setter/setter");i.exports={getObservableValue_fromKey:function(e,t,i){var n=t.computeData(e,i);return u.temporarilyBind(n),n},computeHasDependencies:function(e){return e[a.for("can.valueHasDependencies")]?r.valueHasDependencies(e):e.computeInstance.hasDependencies},getObservableValue_fromDynamicKey_fromObservable:function(e,t,i,n){var o,a=function(){return s.reads((""+r.getValue(e)).replace(/\./g,"\\."))},l=new h(function(){var e=s.read(r.getValue(t),a());return o=e.parentHasKey,e.value},function(e){s.write(r.getValue(t),a(),e)});return u.temporarilyBind(l),l.initialValue=r.getValue(l),l.parentHasKey=o,l},convertToArgExpression:function(e){return e instanceof n||e instanceof o?e:new n(e)},toComputeOrValue:function(e){return r.isObservableLike(e)?r.isValueLike(e)&&!1===r.valueHasDependencies(e)?r.getValue(e):e.compute?e.compute:l(e):e},toCompute:function(e){return e?e.isComputed?e:e.compute?e.compute:l(e):e}}}),define("can-stache@4.15.8#expressions/hashes",["require","exports","module","can-reflect","can-observation","../src/expression-helpers"],function(e,t,i){"use strict";var n=e("can-reflect"),o=e("can-observation"),r=e("../src/expression-helpers"),s=function(e){this.hashExprs=e};s.prototype.value=function(e,t){var i={};for(var s in this.hashExprs){var a=r.convertToArgExpression(this.hashExprs[s]),u=a.value.apply(a,arguments);i[s]={call:!a.modifiers||!a.modifiers.compute,value:u}}return new o(function(){var e={};for(var t in i)e[t]=i[t].call?n.getValue(i[t].value):r.toComputeOrValue(i[t].value);return e})},i.exports=s}),define("can-stache@4.15.8#expressions/bracket",["require","exports","module","../src/expression-helpers"],function(e,t,i){"use strict";var n=e("../src/expression-helpers"),o=function(e,t,i){this.root=t,this.key=e};o.prototype.value=function(e,t){var i=this.root?this.root.value(e,t):e.peek("this");return n.getObservableValue_fromDynamicKey_fromObservable(this.key.value(e,t),i,e,t,{})},o.prototype.closingTag=function(){},i.exports=o}),define("can-stache@4.15.8#src/set-identifier",function(e,t,i){"use strict";i.exports=function(e){this.value=e}}),define("can-stache@4.15.8#expressions/call",["require","exports","module","./hashes","../src/set-identifier","can-symbol","can-simple-observable/setter/setter","../src/expression-helpers","can-reflect","can-assign","can-view-scope"],function(e,t,i){"use strict";var n=e("./hashes"),o=e("../src/set-identifier"),r=e("can-symbol"),s=e("can-simple-observable/setter/setter"),a=e("../src/expression-helpers"),u=e("can-reflect"),l=e("can-assign"),h=(r.for("can-stache.sourceText"),r.for("can.isView")),c=e("can-view-scope"),d=function(e,t){this.methodExpr=e,this.argExprs=t.map(a.convertToArgExpression)};d.prototype.args=function(e,t){for(var i={},o=[],r="function"==typeof t,s=0,h=this.argExprs.length;s<h;s++){var c=this.argExprs[s];if(c.expr instanceof n&&l(i,c.expr.hashExprs),!r||!t(s)){var d=c.value.apply(c,arguments);o.push({call:!c.modifiers||!c.modifiers.compute,value:d})}}return function(e){var t=[];u.size(i)>0&&(t.hashExprs=i);for(var n=0,r=o.length;n<r;n++)t[n]=e?o[n].value:o[n].call?u.getValue(o[n].value):a.toCompute(o[n].value);return t}},d.prototype.value=function(e,t){var i=this,n=this.methodExpr.value(e,{proxyMethods:!1}),r=u.getValue(n),a=i.args(e,r&&r.ignoreArgLookup),l=function(i){var r=u.getValue(n);if("function"==typeof r){var s=a(r.isLiveBound);return r.requiresOptionsArgument&&(s.hashExprs&&t&&t.exprData&&(t.exprData.hashExprs=s.hashExprs),void 0!==t&&s.push(t)),!0===r[h]&&(s[0]instanceof c||(s[0]=e.getTemplateContext().add(s[0])),s.push(t.nodeList)),arguments.length&&s.unshift(new o(i)),r.apply(n.thisArg||e.peek("this"),s)}};return t&&t.doNotWrapInObservation?l():new s(l,l)},d.prototype.closingTag=function(){return this.methodExpr.key},i.exports=d}),define("can-stache@4.15.8#expressions/helper",["require","exports","module","./literal","./hashes","can-assign","can-log/dev/dev","../src/expression-helpers","can-reflect"],function(e,t,i){"use strict";var n=e("./literal"),o=(e("./hashes"),e("can-assign")),r=(e("can-log/dev/dev"),e("../src/expression-helpers")),s=(e("can-reflect"),function(e,t,i){this.methodExpr=e,this.argExprs=t,this.hashExprs=i,this.mode=null});s.prototype.args=function(e){for(var t=[],i=0,n=this.argExprs.length;i<n;i++){var o=this.argExprs[i];t.push(r.toComputeOrValue(o.value.apply(o,arguments)))}return t},s.prototype.hash=function(e){var t={};for(var i in this.hashExprs){var n=this.hashExprs[i];t[i]=r.toComputeOrValue(n.value.apply(n,arguments))}return t},s.prototype.value=function(e,t){var i=this.methodExpr instanceof n?""+this.methodExpr._value:this.methodExpr.key,s=this,a=r.getObservableValue_fromKey(i,e,{proxyMethods:!1}),u=a&&a.initialValue,l=a&&a.thisArg;return"function"==typeof u&&(a=function(){var i=s.args(e),n=o(o({},t),{hash:s.hash(e),exprData:s});return i.push(n),u.apply(l||e.peek("this"),i)}),a},s.prototype.closingTag=function(){return this.methodExpr.key},i.exports=s}),define("can-stache@4.15.8#expressions/lookup",["require","exports","module","../src/expression-helpers","can-reflect","can-symbol","can-log/dev/dev","can-stache-key"],function(e,t,i){"use strict";var n=e("../src/expression-helpers"),o=e("can-reflect"),r=e("can-symbol").for("can-stache.sourceText"),s=(e("can-log/dev/dev"),e("can-stache-key"),function(e,t,i){this.key=e,this.rootExpr=t,o.setKeyValue(this,r,i)});s.prototype.value=function(e,t){return this.rootExpr?n.getObservableValue_fromDynamicKey_fromObservable(this.key,this.rootExpr.value(e),e,{},{}):n.getObservableValue_fromKey(this.key,e,t)},i.exports=s}),define("can-stache@4.15.8#src/expression",["require","exports","module","../expressions/arg","../expressions/literal","../expressions/hashes","../expressions/bracket","../expressions/call","../expressions/helper","../expressions/lookup","./set-identifier","../src/expression-helpers","./utils","can-assign","can-reflect","can-symbol"],function(e,t,i){"use strict";var n=e("../expressions/arg"),o=e("../expressions/literal"),r=e("../expressions/hashes"),s=e("../expressions/bracket"),a=e("../expressions/call"),u=e("../expressions/helper"),l=e("../expressions/lookup"),h=e("./set-identifier"),c=e("../src/expression-helpers"),d=e("./utils"),p=e("can-assign"),f=d.last,m=e("can-reflect"),g=e("can-symbol").for("can-stache.sourceText"),v=/[\w\.\\\-_@\/\&%]+/,y=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$]+|[\(\)]|,|\~|\[|\]\s*|\s*(?=\[))/g,b=/\]\s+/,x=/^('.*?'|".*?"|-?[0-9]+\.?[0-9]*|true|false|null|undefined)$/,w=function(e){return v.test(e)},D=/^[\.@]\w/,C=function(e){return w(e)&&D.test(e)},k=function(e){return e.children||(e.children=[]),e},_=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};p(_.prototype,{top:function(){return f(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(e){this.popUntil(e),this.pop()},pop:function(){this.isRootTop()||this.stack.pop()},first:function(e){for(var t=this.stack.length-1;t>0&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},firstParent:function(e){for(var t=this.stack.length-2;t>0&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},popUntil:function(e){for(;-1===e.indexOf(this.top().type)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(e,t){var i=this.popUntil(e);k(i).children.push(t)},addToAndPush:function(e,t){this.addTo(e,t),this.stack.push(t)},push:function(e){this.stack.push(e)},topLastChild:function(){return f(this.top().children)},replaceTopLastChild:function(e){var t=k(this.top()).children;return t.pop(),t.push(e),e},replaceTopLastChildAndPush:function(e){this.replaceTopLastChild(e),this.stack.push(e)},replaceTopAndPush:function(e){var t;return this.top()===this.root?t=k(this.top()).children:(this.stack.pop(),t=k(this.top()).children),t.pop(),t.push(e),this.stack.push(e),e}});var E=function(e){var t=e.lastIndexOf("./"),i=e.lastIndexOf(".");if(i>t)return e.substr(0,i)+"@"+e.substr(i+1);var n=-1===t?0:t+2,o=e.charAt(n);return"."===o||"@"===o?e.substr(0,n)+"@"+e.substr(n+1):e.substr(0,n)+"@"+e.substr(n)},S=function(e){return"Lookup"===e.type&&(m.setKeyValue(e,g,e.key),e.key=E(e.key)),e},A=function(e){var t=e.top();if(t&&"Lookup"===t.type){var i=e.stack[e.stack.length-2];"Helper"!==i.type&&i&&e.replaceTopAndPush({type:"Helper",method:t})}},F={toComputeOrValue:c.toComputeOrValue,convertKeyToLookup:E,Literal:o,Lookup:l,Arg:n,Hash:function(){},Hashes:r,Call:a,Helper:u,Bracket:s,SetIdentifier:h,tokenize:function(e){var t=[];return(e.trim()+" ").replace(y,function(e,i){b.test(i)?(t.push(i[0]),t.push(i.slice(1))):t.push(i)}),t},lookupRules:{default:function(e,t,i){return"Helper"===e.type?u:l},method:function(e,t,i){return l}},methodRules:{default:function(e){return"Call"===e.type?a:u},call:function(e){return a}},parse:function(e,t){t=t||{};var i=this.ast(e);return t.lookupRule||(t.lookupRule="default"),"string"==typeof t.lookupRule&&(t.lookupRule=F.lookupRules[t.lookupRule]),t.methodRule||(t.methodRule="default"),"string"==typeof t.methodRule&&(t.methodRule=F.methodRules[t.methodRule]),this.hydrateAst(i,t,t.baseMethodType||"Helper")},hydrateAst:function(e,t,i,u){var l;if("Lookup"===e.type)return new(t.lookupRule(e,i,u))(e.key,e.root&&this.hydrateAst(e.root,t,i),e[g]);if("Literal"===e.type)return new o(e.value);if("Arg"===e.type)return new n(this.hydrateAst(e.children[0],t,i,u),{compute:!0});if("Hash"===e.type)throw new Error("");if("Hashes"===e.type)return l={},e.children.forEach(function(e){l[e.prop]=this.hydrateAst(e.children[0],t,i,!0)},this),new r(l);if("Call"===e.type||"Helper"===e.type){l={};var h=[],c=e.children,d=t.methodRule(e);if(c)for(var p=0;p<c.length;p++){var f=c[p];"Hashes"===f.type&&"Helper"===e.type&&d!==a?f.children.forEach(function(i){l[i.prop]=this.hydrateAst(i.children[0],t,e.type,!0)},this):h.push(this.hydrateAst(f,t,e.type,!0))}return new d(this.hydrateAst(e.method,t,e.type),h,l)}return"Bracket"===e.type?new s(this.hydrateAst(e.children[0],t),e.root?this.hydrateAst(e.root,t):void 0,void 0):void 0},ast:function(e){var t=this.tokenize(e);return this.parseAst(t,{index:0})},parseAst:function(e,t){for(var i,n,o,r=new _;t.index<e.length;){var s=e[t.index],a=e[t.index+1];if(t.index++,"="===a){(i=r.top())&&"Lookup"===i.type&&("Call"!==(n=r.firstParent(["Call","Helper","Hash"])).type&&"Root"!==n.type||(r.popUntil(["Call"]),i=r.top(),r.replaceTopAndPush({type:"Helper",method:"Root"===i.type?f(i.children):i})));var u={type:"Hash",prop:s};"Hashes"===(n=r.first(["Call","Helper","Hashes","Root"])).type?r.addToAndPush(["Hashes"],u):(r.addToAndPush(["Helper","Call","Root"],{type:"Hashes",children:[u]}),r.push(u)),t.index++}else if(x.test(s))A(r),"Hash"===(n=r.first(["Helper","Call","Hash","Bracket"])).type&&n.children&&n.children.length>0?r.addTo(["Helper","Call","Bracket"],{type:"Literal",value:d.jsonParse(s)}):"Bracket"===n.type&&n.children&&n.children.length>0?r.addTo(["Helper","Call","Hash"],{type:"Literal",value:d.jsonParse(s)}):r.addTo(["Helper","Call","Hash","Bracket"],{type:"Literal",value:d.jsonParse(s)});else if(v.test(s))o=r.topLastChild(),n=r.first(["Helper","Call","Hash","Bracket"]),o&&("Call"===o.type||"Bracket"===o.type)&&C(s)?r.replaceTopLastChildAndPush({type:"Lookup",root:o,key:s.slice(1)}):"Bracket"===n.type?n.children&&n.children.length>0?"Helper"===r.first(["Helper","Call","Hash","Arg"]).type&&"."!==s[0]?r.addToAndPush(["Helper"],{type:"Lookup",key:s}):r.replaceTopAndPush({type:"Lookup",key:s.slice(1),root:n}):r.addToAndPush(["Bracket"],{type:"Lookup",key:s}):(A(r),r.addToAndPush(["Helper","Call","Hash","Arg","Bracket"],{type:"Lookup",key:s}));else if("~"===s)A(r),r.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:s});else if("("===s){if("Lookup"!==(i=r.top()).type)throw new Error("Unable to understand expression "+e.join(""));r.replaceTopAndPush({type:"Call",method:S(i)})}else if(")"===s)r.popTo(["Call"]);else if(","===s)"Call"!==r.first(["Call"]).type?r.popUntil(["Hash"]):r.popUntil(["Call"]);else if("["===s)if(i=r.top(),!(o=r.topLastChild())||"Call"!==o.type&&"Bracket"!==o.type)if("Lookup"===i.type||"Bracket"===i.type){var l={type:"Bracket",root:i};r.replaceTopAndPush(l)}else"Call"===i.type?r.addToAndPush(["Call"],{type:"Bracket"}):" "===i?(r.popUntil(["Lookup","Call"]),A(r),r.addToAndPush(["Helper","Call","Hash"],{type:"Bracket"})):r.replaceTopAndPush({type:"Bracket"});else r.replaceTopLastChildAndPush({type:"Bracket",root:o});else"]"===s?r.pop():" "===s&&r.push(s)}return r.root.children[0]}};i.exports=F}),define("can-stache@4.15.8#src/mustache_core",["require","exports","module","can-view-live","can-view-nodelist","can-observation","can-observation-recorder","./utils","./expression","can-fragment","can-dom-mutate","can-symbol","can-reflect","can-log/dev/dev","can-globals/document/document","can-define-lazy-value"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t,i,n){this.metadata={rendered:!1},this.stringOnly=n,this.scope=e,this.nodeList=t,this.exprData=i}function r(e){return null!==e&&"object"==typeof e&&("function"==typeof e[y]||"function"==typeof e[D]||"number"==typeof e.nodeType)}var s=t("can-view-live"),a=t("can-view-nodelist"),u=t("can-observation"),l=t("can-observation-recorder"),h=t("./utils"),c=t("./expression"),d=t("can-fragment"),p=t("can-dom-mutate"),f=t("can-symbol"),m=t("can-reflect"),g=(t("can-log/dev/dev"),t("can-globals/document/document")),v=t("can-define-lazy-value"),y=f.for("can.toDOM");v(o.prototype,"context",function(){return this.scope.peek("this")});var b=/(?:(^|\r?\n)(\s*)(\{\{([\s\S]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([\s\S]*)\}\}\}?)/g,x=/(\s*)(\{\{\{?)(-?)([\s\S]*?)(-?)(\}\}\}?)(\s*)/g,w=function(){},D=f.for("can.viewInsert"),C={expression:c,makeEvaluator:function(e,t,i,n,r,s,a){if("^"===i){var u=r;r=s,s=u}var l,p=new o(e,t,n,a);if(h.createRenderers(p,e,t,r,s,a),n instanceof c.Call)l=n.value(e,p);else if(n instanceof c.Bracket)l=n.value(e);else if(n instanceof c.Lookup)l=n.value(e);else if(n instanceof c.Helper&&n.methodExpr instanceof c.Bracket)l=n.methodExpr.value(e,p);else if("function"==typeof(l=n.value(e,p)))return l;return!i||p.metadata.rendered?l:"#"===i||"^"===i?function(){var t,i=m.getValue(l);if(p.metadata.rendered)t=i;else if("string"!=typeof i&&m.isListLike(i)){var n=m.isObservableLike(i)&&m.isListLike(i);t=m.getKeyValue(i,"length")?a?h.getItemsStringContent(i,n,p):d(h.getItemsFragContent(i,p,e)):p.inverse(e)}else t=i?p.fn(i||e):p.inverse(e);return p.metadata.rendered=!1,t}:void 0},makeLiveBindingPartialRenderer:function(e,t){var i,n=(e=e.trim()).split(/\s+/).shift();return n!==e&&(i=C.expression.parse(e)),function(e,o){var r=[this];r.expression=">"+n,a.register(r,null,o||!0,t.directlyNested);var h=new u(function(){var t=n;if(i&&1===i.argExprs.length){var o=m.getValue(i.argExprs[0].value(e));void 0===o||(e=e.add(o))}var s,a=m.getKeyValue(e.templateContext.partials,t);if(a)s=function(){return a.render?a.render(e,r):a(e)};else{var u=e.read(t,{isArgument:!0}).value;if(null===u||!u&&"*"===t[0])return d("");u&&(t=u),s=function(){if("function"==typeof t)return t(e,{},r);var i=C.getTemplateById(t);return i?i(e,{},r):g().createDocumentFragment()}}var h=l.ignore(s)();return d(h)});m.setPriority(h,r.nesting),s.html(this,h,this.parentNode,r)}},makeStringBranchRenderer:function(e,t,i){var n=C.expression.parse(t),o=e+t,r=function(t,i,r){var s=t.__cache[o];!e&&s||(s=k(t,null,e,n,i,r,!0),e||(t.__cache[o]=s));var a;return null==(a=s[f.for("can.onValue")]?m.getValue(s):s())?"":""+a};return r.exprData=n,r},makeLiveBindingBranchRenderer:function(e,t,i){var n=C.expression.parse(t);n instanceof c.Helper||n instanceof c.Call||n instanceof c.Bracket||n instanceof c.Lookup||(n=new c.Helper(n,[],{}));var o=function(o,h,g,v){var y=i.tag,b=[this];b.expression=t,a.register(b,null,h||!0,i.directlyNested);var x,C=k(o,b,e,n,g,v,y);if(x=C[f.for("can.onValue")]?C:new u(C,null,{isObservable:!1}),!1===m.setPriority(x,b.nesting))throw new Error("can-stache unable to set priority on observable");m.onValue(x,w);var _=m.getValue(x);if("function"!=typeof _||n instanceof c.Lookup){if(m.valueHasDependencies(x))i.attr?s.attr(this,i.attr,x):i.tag?s.attrs(this,x):i.text&&!r(_)?s.text(this,x,this.parentNode,b):s.html(this,x,this.parentNode,{nodeList:b});else if(i.attr)p.setAttribute(this,i.attr,_);else if(i.tag)s.attrs(this,_);else if(i.text&&!r(_))this.nodeValue=s.makeString(_);else if(null!=_)if("function"==typeof _[D]){var E=_[D]({nodeList:b}),S=a.update(b,[E]);a.replace(S,E)}else a.replace([this],d(_,this.ownerDocument))}else l.ignore(_)(this);m.offValue(x,w)};return o.exprData=n,o},splitModeFromExpression:function(e,t){var i=(e=e.trim()).charAt(0);return"#/{&^>!<".indexOf(i)>=0?e=e.substr(1).trim():i=null,"{"===i&&t.node&&(i=null),{mode:i,expression:e}},cleanLineEndings:function(e){return e.replace(b,function(e,t,i,n,o,r,s,a,u,l){r=r||"",t=t||"",i=i||"";var h=_(o||u,{});return a||">{".indexOf(h.mode)>=0?e:"^#!/".indexOf(h.mode)>=0?(i=t+i&&" ")+n+(0!==l&&s.length?t+"\n":""):i+n+r+(i.length||0!==l?t+"\n":"")})},cleanWhitespaceControl:function(e){return e.replace(x,function(e,t,i,n,o,r,s,a,u){return"-"===n&&(t=""),"-"===r&&(a=""),t+i+o+s+a})},getTemplateById:function(){}},k=C.makeEvaluator,_=C.splitModeFromExpression;n.exports=C}(0,e,0,i)}),define("can-globals@1.2.0#base-url/base-url",["require","exports","module","../can-globals-instance","../global/global","../document/document"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("../can-globals-instance");t("../global/global"),t("../document/document"),o.define("base-url",function(){var e=o.getKeyValue("global"),t=o.getKeyValue("document");if(t&&"baseURI"in t)return t.baseURI;if(e.location){var i=e.location.href,n=i.lastIndexOf("/");return-1!==n?i.substr(0,n):i}return"undefined"!=typeof process?process.cwd():void 0}),n.exports=o.makeExport("base-url")}(0,e,0,i)}),define("can-parse-uri@1.2.0#can-parse-uri",["require","exports","module","can-namespace"],function(e,t,i){"use strict";var n=e("can-namespace");i.exports=n.parseURI=function(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}}),define("can-join-uris@1.2.0#can-join-uris",["require","exports","module","can-namespace","can-parse-uri"],function(e,t,i){"use strict";var n=e("can-namespace"),o=e("can-parse-uri");i.exports=n.joinURIs=function(e,t){return t=o(t||""),e=o(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}}),define("can-stache@4.15.8#helpers/-debugger",["require","exports","module","can-log"],function(e,t,i){"use strict";function n(){}function o(e,t){r.warn("Forgotten {{debugger}} helper")}var r=e("can-log"),s=n,a=n,u={};o.requiresOptionsArgument=!0,i.exports={helper:o,evaluateArgs:a,resolveValue:s,__testing:u}}),define("can-stache@4.15.8#src/truthy-observable",["require","exports","module","can-observation","can-reflect"],function(e,t,i){"use strict";var n=e("can-observation"),o=e("can-reflect");i.exports=function(e){return new n(function(){return!!o.getValue(e)})}}),define("can-dom-data@1.0.1#can-dom-data",["require","exports","module","can-namespace"],function(e,t,i){"use strict";var n=e("can-namespace"),o=function(e){for(var t in e)return!1;return!0},r=new WeakMap,s=function(e){var t=!1;return r.has(e)&&(t=!0,r.delete(e)),t},a={_data:r,get:function(e,t){var i=r.get(e);return void 0===t?i:i&&i[t]},set:function(e,t,i){var n=r.get(e);return void 0===n&&(n={},r.set(e,n)),void 0!==t&&(n[t]=i),n},clean:function(e,t){var i=r.get(e);i&&i[t]&&delete i[t],o(i)&&s(e)},delete:s};if(n.domData)throw new Error("You can't have two versions of can-dom-data, check your dependencies");i.exports=n.domData=a}),define("can-stache@4.15.8#helpers/-for-of",["require","exports","module","can-stache-helpers","can-reflect","can-observation","can-view-live","can-view-nodelist","../src/expression","../src/key-observable"],function(e,t,i){function n(e,t,i){var n=[];return r.each(e,function(o,r){var s=new h(e,r),a={};void 0!==t&&(a[t]=s),n.push(i.fn(i.scope.add({key:r},{special:!0}).addLetContext(a)))}),i.stringOnly?n.join(""):n}var o=e("can-stache-helpers"),r=e("can-reflect"),s=e("can-observation"),a=e("can-view-live"),u=e("can-view-nodelist"),l=e("../src/expression"),h=e("../src/key-observable"),c=function(e){return e&&r.isValueLike(e)?(s.temporarilyBind(e),r.getValue(e)):e},d=function(e){if(1!==e.exprData.argExprs.length)throw new Error("for(of) broken syntax");var t,i,o=e.exprData.argExprs[0].expr;if(o instanceof l.Lookup)i=o.value(e.scope);else if(o instanceof l.Helper){if("of"!==o.argExprs[0].key)throw new Error("for(of) broken syntax");t=o.methodExpr.key,i=o.argExprs[1].value(e.scope)}var s=i,h=[].slice.call(arguments).pop(),d=c(s);if(d&&!r.isListLike(d))return n(d,t,e);if(h.stringOnly){var p=[];return r.eachIndex(d,function(i,n){var o={};void 0!==t&&(o[t]=i),p.push(e.fn(h.scope.add({index:n},{special:!0}).addLetContext(o)))}),p.join("")}return h.metadata.rendered=!0,function(e){var i=[e];i.expression="live.list",u.register(i,null,h.nodeList,!0),u.update(h.nodeList,[e]),a.list(e,s,function(e,i,n){var o={};return void 0!==t&&(o[t]=e),h.fn(h.scope.add({index:i},{special:!0}).addLetContext(o),h.options,n)},h.context,e.parentNode,i,function(e,t){return h.inverse(h.scope,h.options,t)})}};d.isLiveBound=!0,d.requiresOptionsArgument=!0,d.ignoreArgLookup=function(e){return 0===e},o.for=d}),define("can-stache@4.15.8#helpers/-let",["require","exports","module","can-stache-helpers","can-reflect"],function(e,t,i){function n(e){return!0===e._meta.variable}var o=e("can-stache-helpers"),r=e("can-reflect");o.let=function(e){var t=e.scope.getScope(n);if(!t)throw new Error("There is no variable scope!");return r.assignMap(t._context,e.hash),document.createTextNode("")}}),define("can-stache@4.15.8#helpers/core",["require","exports","module","can-view-live","can-view-nodelist","../src/utils","can-globals/base-url/base-url","can-join-uris","can-assign","can-log/dev/dev","can-reflect","./-debugger","../src/key-observable","can-observation","../src/truthy-observable","can-stache-helpers","can-dom-data","can-dom-data-state","./-for-of","./-let"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-view-live"),r=t("can-view-nodelist"),s=t("../src/utils"),a=t("can-globals/base-url/base-url"),u=t("can-join-uris"),l=t("can-assign"),h=(t("can-log/dev/dev"),t("can-reflect")),c=t("./-debugger").helper,d=t("../src/key-observable"),p=t("can-observation"),f=t("../src/truthy-observable"),m=t("can-stache-helpers"),g=t("can-dom-data"),v=t("can-dom-data-state");t("./-for-of"),t("./-let");var y={},b={looksLikeOptions:function(e){return e&&"function"==typeof e.fn&&"function"==typeof e.inverse},resolve:function(e){return e&&h.isValueLike(e)?h.getValue(e):e},resolveHash:function(e){var t={};for(var i in e)t[i]=b.resolve(e[i]);return t},bindAndRead:function(e){return e&&h.isValueLike(e)?(p.temporarilyBind(e),h.getValue(e)):e},registerHelper:function(e,t){t.requiresOptionsArgument=!0,m[e]=t},registerHelpers:function(e){var t,i;for(t in e)i=e[t],b.registerHelper(t,b.makeSimpleHelper(i))},makeSimpleHelper:function(e){return function(){var t=[];return h.eachIndex(arguments,function(e){t.push(b.resolve(e))}),e.apply(this,t)}},addHelper:function(e,t){return"object"==typeof e?b.registerHelpers(e):b.registerHelper(e,b.makeSimpleHelper(t))},addLiveHelper:function(e,t){return t.isLiveBound=!0,b.registerHelper(e,t)},getHelper:function(e,t){var i=t&&t.getHelper(e);return i||(i=m[e]),i},__resetHelpers:function(){for(var e in m)delete m[e];b.addBuiltInHelpers()},addBuiltInHelpers:function(){h.each(y,function(e,t){m[t]=e})},_makeLogicHelper:function(e,t){return l(function(){var e,i=Array.prototype.slice.call(arguments,0);b.looksLikeOptions(i[i.length-1])&&(e=i.pop());var n=new p(function(){return e?!!t(i):t(i)});return e?n.get()?e.fn():e.inverse():n.get()},{requiresOptionsArgument:!0,isLiveBound:!0})}},x=l(function(e,t){return(e&&h.isValueLike(e)?h.getValue(new f(e)):!!b.resolve(e))?t.fn(t.scope||this):t.inverse(t.scope||this)},{requiresOptionsArgument:!0,isLiveBound:!0}),w=b._makeLogicHelper("eq",function(e){for(var t,i,n=0;n<e.length;n++){if(t=b.resolve(e[n]),t="function"==typeof t?t():t,n>0&&t!==i)return!1;i=t}return!0}),D=b._makeLogicHelper("and",function(e){if(0===e.length)return!1;for(var t,i=0,n=e.length;i<n;i++)if(!(t=b.resolve(e[i])))return t;return t}),C=b._makeLogicHelper("or",function(e){if(0===e.length)return!1;for(var t,i=0,n=e.length;i<n;i++)if(t=b.resolve(e[i]))return t;return t}),k=function(e,t){b.resolve(e);var i=!1,n=function(t,n){if(!i&&b.resolve(e)===b.resolve(t))return i=!0,n.fn(n.scope.peek("this")||this)};n.requiresOptionsArgument=!0;var o=function(e){if(!i)return!e||e.scope.peek("this")};o.requiresOptionsArgument=!0,h.assignSymbols(o,{"can.isValueLike":!0,"can.isFunctionLike":!1,"can.getValue":function(){return this(t)}});var r=t.scope.add({case:n,default:o},{notContext:!0});return t.fn(r,t)};k.requiresOptionsArgument=!0;var _=function(e){var t=[].slice.call(arguments),i=t.pop(),n=t.map(function(e){var t=b.resolve(e);return"function"==typeof t?t():t}).join(""),o=h.getKeyValue(i.scope.templateContext.helpers,"module"),r=o?o.uri:void 0;if("."===n[0]&&r)return u(r,n);var s="undefined"!=typeof System&&(System.renderingBaseURL||System.baseURL)||a();return"/"!==n[0]&&"/"!==s[s.length-1]&&(s+="/"),u(s,n)};_.requiresOptionsArgument=!0;var E=function(e){var t,i,n=[].slice.call(arguments).pop(),a=n.exprData.hashExprs,u=b.bindAndRead(e);if(h.size(a)>0&&(t={},h.eachKey(a,function(e,i){t[e.key]=i})),(h.isObservableLike(u)&&h.isListLike(u)||h.isListLike(u)&&h.isValueLike(e))&&!n.stringOnly)return n.metadata.rendered=!0,function(i){var s=[i];s.expression="live.list",r.register(s,null,n.nodeList,!0),r.update(n.nodeList,[i]),o.list(i,e,function(e,i,o){var r={};return h.size(t)>0&&(t.value&&(r[t.value]=e),t.index&&(r[t.index]=i)),n.fn(n.scope.add(r,{notContext:!0}).add({index:i},{special:!0}).add(e),n.options,o)},n.context,i.parentNode,s,function(e,t){return n.inverse(n.scope.add(e),n.options,t)})};var l,c=b.resolve(e);return c&&h.isListLike(c)?(l=s.getItemsFragContent(c,n,n.scope),n.stringOnly?l.join(""):l):h.isObservableLike(c)&&h.isMapLike(c)||c instanceof Object?(l=[],h.each(c,function(e,o){var r=new d(c,o);i={},h.size(t)>0&&(t.value&&(i[t.value]=r),t.key&&(i[t.key]=o)),l.push(n.fn(n.scope.add(i,{notContext:!0}).add({key:o},{special:!0}).add(r)))}),n.stringOnly?l.join(""):l):void 0};E.isLiveBound=!0,E.requiresOptionsArgument=!0,E.ignoreArgLookup=function(e){return 1===e};var S=l(function(e,t){t||(t=e,e=0);var i=t.scope.peek("scope.index");return""+(("function"==typeof i?i():i)+e)},{requiresOptionsArgument:!0}),A=function(e,t){var i=e;return t?(e=b.resolve(e),t.hash&&h.size(t.hash)>0&&(i=t.scope.add(t.hash,{notContext:!0}).add(i))):(t=e,e=!0,i=t.hash),t.fn(i||{})};A.requiresOptionsArgument=!0;var F=function(e,t){return x.apply(this,[e,l(l({},t),{fn:t.inverse,inverse:t.fn})])};F.requiresOptionsArgument=!0,F.isLiveBound=!0,y={debugger:c,each:E,eachOf:E,index:S,if:x,is:w,eq:w,unless:F,with:A,console:console,data:function(e,t){var i=(b.looksLikeOptions(t)?t.context:t)||this;return function(t){v.set.call(t,e,i)}},domData:function(e,t){var i=(b.looksLikeOptions(t)?t.context:t)||this;return function(t){g.set(t,e,i)}},switch:k,joinBase:_,and:D,or:C},b.addBuiltInHelpers(),n.exports=b}(0,e,0,i)}),define("can-stache@4.15.8#helpers/converter",["require","exports","module","./core","../src/set-identifier","can-reflect"],function(e,t,i){"use strict";function n(e){return e=e||{},function(t,i){var n=s.toArray(arguments);return t instanceof r?"function"==typeof e.set?e.set.apply(this,[t.value].concat(n.slice(1))):i(t.value):"function"==typeof e.get?e.get.apply(this,n):n[0]}}var o=e("./core"),r=e("../src/set-identifier"),s=e("can-reflect"),a=new WeakMap;o.addConverter=function(e,t){if("object"!=typeof e){var i=n(t);i.isLiveBound=!0,o.registerHelper(e,i)}else a.has(e)||(a.set(e,!0),s.eachKey(e,function(e,t){o.addConverter(t,e)}))},o.registerConverter=function(e,t){o.registerHelper(e,n(t))};var u={not:{get:function(e,t){return o.looksLikeOptions(t)?s.getValue(e)?t.inverse():t.fn():!s.getValue(e)},set:function(e,t){s.setValue(t,!e)}}};o.addConverter(u),i.exports=o}),define("can-stache-ast@1.1.0#controls",function(e,t,i){"use strict";function n(e,t){var i=(e=e.trim()).charAt(0);return"#/{&^>!<".indexOf(i)>=0?e=e.substr(1).trim():i=null,"{"===i&&t.node&&(i=null),{mode:i,expression:e}}function o(e,t,i,n,o,r,s,a){return"-"===n&&(t=""),"-"===r&&(a=""),t+i+o+s+a}var r=/(?:(^|\r?\n)(\s*)(\{\{([\s\S]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([\s\S]*)\}\}\}?)/g,s=/(\s*)(\{\{\{?)(-?)([\s\S]*?)(-?)(\}\}\}?)(\s*)/g;t.cleanLineEndings=function(e){return e.replace(r,function(e,t,i,o,r,s,a,u,l,h){s=s||"",t=t||"",i=i||"";var c=n(r||l,{});return u||">{".indexOf(c.mode)>=0?e:"^#!/".indexOf(c.mode)>=0?(i=t+i&&" ")+o+(0!==h&&a.length?t+"\n":""):i+o+s+(i.length||0!==h?t+"\n":"")})},t.cleanWhitespaceControl=function(e){return e.replace(s,o)}}),define("can-stache-ast@1.1.0#can-stache-ast",["require","exports","module","./controls","can-view-parser"],function(e,t,i){"use strict";var n=e("./controls"),o=e("can-view-parser");t.parse=function(e,t){function i(e){g&&(l[g]=v,g=""),m?a.push(v):s.push(v),u.push({specifier:v,loc:{line:e},attributes:h}),h=new Map}1===arguments.length&&(t=arguments[0],e=void 0);var r=t;r=n.cleanWhitespaceControl(r),r=n.cleanLineEndings(r);var s=[],a=[],u=[],l={},h=new Map,c=!1,d=!1,p=!1,f=!1,m=!1,g="",v="",y=null,b=o(r,{filename:e,start:function(e,t){"can-import"===e?(f=t,m=!1,c=!0):"can-dynamic-import"===e?(f=t,m=!0,c=!0):c&&(m=!0,c=!1)},attrStart:function(e){y=e,h.set(y,!0),"from"===e?d=!0:"as"!==e&&"export-as"!==e||(p=!0)},attrEnd:function(e){"from"===e?d=!1:"as"!==e&&"export-as"!==e||(p=!1)},attrValue:function(e){c&&h.set(y,e),d&&c?v=e:p&&c&&(g=e)},end:function(e,t,n){"can-import"!==e&&"can-dynamic-import"!==e||!f||i(n)},close:function(e,t,n){"can-import"!==e&&"can-dynamic-import"!==e||i(n)},chars:function(e){e.trim().length>0&&(m=!0)},special:function(){m=!0}},!0);return{intermediate:b,program:b,imports:s,dynamicImports:a,importDeclarations:u,ases:l,exports:l}}}),define("can-import-module@1.2.0#can-import-module",["require","exports","module","can-globals/global/global","can-namespace"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e){return"function"==typeof e}var r=t("can-globals/global/global"),s=t("can-namespace");n.exports=s.import=function(e,t){return new Promise(function(i,n){try{var s=r();"object"==typeof s.System&&o(s.System.import)?s.System.import(e,{name:t}).then(i,n):s.define&&s.define.amd?s.require([e],function(e){i(e)}):s.require?i(s.require(e)):"undefined"!=typeof stealRequire?steal.import(e,{name:t}).then(i,n):i()}catch(e){n(e)}})}}(0,e,0,i)}),define("can-stache@4.15.8#can-stache",["require","exports","module","can-view-parser","can-view-callbacks","./src/html_section","./src/text_section","./src/mustache_core","./helpers/core","./helpers/converter","can-stache-ast","./src/utils","can-attribute-encoder","can-log/dev/dev","can-namespace","can-globals/document/document","can-assign","can-import-module","can-reflect","can-view-scope","can-view-scope/template-context","can-observation-recorder","can-symbol","can-view-target","can-view-nodelist"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t){1===arguments.length&&(t=arguments[0],e=void 0);var i={};"string"==typeof t&&(t=l.cleanWhitespaceControl(t),t=l.cleanLineEndings(t));var n=new a(e),o={node:null,attr:null,sectionElementStack:[],text:!1,namespaceStack:[],textContentOnly:null},h=function(e,t,n,r){if(">"===t)e.add(l.makeLiveBindingPartialRenderer(n,d({filename:e.filename,lineNo:r})));else if("/"===t)"<"===e.last().startedWith?(i[n]=e.endSubSectionAndReturnRenderer(),e.removeCurrentNode()):e.endSection(),e instanceof a&&o.sectionElementStack.pop();else if("else"===t)e.inverse();else{var s=e instanceof a?l.makeLiveBindingBranchRenderer:l.makeStringBranchRenderer;if("{"===t||"&"===t)e.add(s(null,n,d({filename:e.filename,lineNo:r})));else if("#"===t||"^"===t||"<"===t){var u=s(t,n,d({filename:e.filename,lineNo:r})),h={type:"section"};e.startSection(u),e.last().startedWith=t,e instanceof a&&o.sectionElementStack.push(h)}else e.add(s(null,n,d({text:!0,filename:e.filename,lineNo:r})))}},c=function(){var e=o.sectionElementStack[o.sectionElementStack.length-1];return!o.sectionElementStack.length||"section"===e.type||"custom"===e.type},d=function(e){var t={tag:o.node&&o.node.tag,attr:o.attr&&o.attr.name,directlyNested:c(),textContentOnly:!!o.textContentOnly};return e?v(t,e):t},m=function(e,t){e.attributes||(e.attributes=[]),e.attributes.unshift(t)};r(t,{filename:e,start:function(e,t,i){var n=E[e];n&&!t&&o.namespaceStack.push(n),o.node={tag:e,children:[],namespace:n||f(o.namespaceStack)}},end:function(t,i,r){var a=s.tag(t),l=c();i?(n.add(o.node),a&&m(o.node,function(e,i){s.tagHandler(this,t,{scope:e,subtemplate:null,templateType:"stache",parentNodeList:i,directlyNested:l})})):(n.push(o.node),o.sectionElementStack.push({type:a?"custom":null,tag:a?null:t,templates:{},directlyNested:l}),a?n.startSubSection():A[t]&&(o.textContentOnly=new u(e))),o.node=null},close:function(e,t){E[e]&&o.namespaceStack.pop();var i,r=s.tag(e);r&&(i=n.endSubSectionAndReturnRenderer()),A[e]&&(n.last().add(o.textContentOnly.compile(d())),o.textContentOnly=null);var a=n.pop();if(r)if("can-template"===e){var u=o.sectionElementStack[o.sectionElementStack.length-2];i&&(u.templates[a.attrs.name]=p(i)),n.removeCurrentNode()}else{var l=o.sectionElementStack[o.sectionElementStack.length-1];m(a,function(t,n){s.tagHandler(this,e,{scope:t,subtemplate:i?p(i):i,templateType:"stache",parentNodeList:n,templates:l.templates,directlyNested:l.directlyNested})})}o.sectionElementStack.pop()},attrStart:function(e,t){o.node.section?o.node.section.add(e+'="'):o.attr={name:e,value:""}},attrEnd:function(e,t){var i=S[e];if(o.node.section)o.node.section.add('" ');else{o.node.attrs||(o.node.attrs={}),o.attr.section?o.node.attrs[o.attr.name]=o.attr.section.compile(d()):o.node.attrs[o.attr.name]=i?{value:o.attr.value,namespaceURI:S[e]}:o.attr.value;var n=s.attr(e);n&&(o.node.attributes||(o.node.attributes=[]),o.node.attributes.push(function(t,i){n(this,{attributeName:e,scope:t,nodeList:i})})),o.attr=null}},attrValue:function(e,t){var i=o.node.section||o.attr.section;i?i.add(e):o.attr.value+=e},chars:function(e,t){(o.textContentOnly||n).add(e)},special:function(t,i){var r=l.splitModeFromExpression(t,o),s=r.mode,a=r.expression;if("else"!==a){if("!"!==s)if(o.node&&o.node.section)h(o.node.section,s,a,i),0===o.node.section.subSectionDepth()&&(o.node.attributes.push(o.node.section.compile(d())),delete o.node.section);else if(o.attr)o.attr.section||(o.attr.section=new u(e),o.attr.value&&o.attr.section.add(o.attr.value)),h(o.attr.section,s,a,i);else if(o.node)if(o.node.attributes||(o.node.attributes=[]),s){if("#"!==s&&"^"!==s)throw new Error(s+" is currently not supported within a tag.");o.node.section||(o.node.section=new u(e)),h(o.node.section,s,a,i)}else o.node.attributes.push(l.makeLiveBindingBranchRenderer(null,a,d({filename:n.filename,lineNo:i})));else h(o.textContentOnly||n,s,a,i)}else(o.attr&&o.attr.section?o.attr.section:o.node&&o.node.section?o.node.section:o.textContentOnly||n).inverse()},comment:function(e){n.add({comment:e})},done:function(e){}});var g=n.compile(),y=D.ignore(function(e,t,n){void 0===n&&b.isListLike(t)&&(n=t,t=void 0),!t||t.helpers||t.partials||t.tags||(t={helpers:t}),b.eachKey(t&&t.helpers,function(e){e.requiresOptionsArgument=!0});var o=new w(t);if(b.eachKey(i,function(e,t){b.setKeyValue(o.partials,t,e)}),b.setKeyValue(o,"view",y),e instanceof x){var r=new x(o);r._parent=e._parent,e._parent=r}else e=new x(o).add(e);return g(e.addLetContext(),n)});return y[k]=!0,y}var r=t("can-view-parser"),s=t("can-view-callbacks"),a=t("./src/html_section"),u=t("./src/text_section"),l=t("./src/mustache_core"),h=t("./helpers/core");t("./helpers/converter");var c=t("can-stache-ast").parse,d=t("./src/utils"),p=d.makeRendererConvertScopes,f=d.last,m=(t("can-attribute-encoder"),t("can-log/dev/dev"),t("can-namespace")),g=t("can-globals/document/document"),v=t("can-assign"),y=t("can-import-module"),b=t("can-reflect"),x=t("can-view-scope"),w=t("can-view-scope/template-context"),D=t("can-observation-recorder"),C=t("can-symbol");t("can-view-target"),t("can-view-nodelist"),s.tag("content")||s.tag("content",function(e,t){return t.scope});var k=C.for("can.isView"),_="http://www.w3.org/2000/svg",E={svg:_,g:_,defs:_,path:_,filter:_,feMorphology:_,feGaussianBlur:_,feOffset:_,feComposite:_,feColorMatrix:_,use:_},S={xmlns:"http://www.w3.org/2000/xmlns/","xlink:href":"http://www.w3.org/1999/xlink"},A={style:!0,script:!0};v(o,h),o.safeString=function(e){return b.assignSymbols({},{"can.toDOM":function(){return e}})},o.async=function(e){var t=c(e),i=t.imports.map(function(e){return y(e)});return Promise.all(i).then(function(){return o(t.intermediate)})};var F={};o.from=l.getTemplateById=function(e){if(!F[e]){var t=g().getElementById(e);t&&(F[e]=o("#"+e,t.innerHTML))}return F[e]},o.registerPartial=function(e,t){F[e]="string"==typeof t?o(t):t},o.addBindings=s.attrs,n.exports=m.stache=o}(0,e,0,i)}),define("can-view-model@4.0.1#can-view-model",["require","exports","module","can-simple-map","can-namespace","can-globals/document/document","can-reflect","can-symbol"],function(e,t,i){!function(e,t,i,n){"use strict";var o=t("can-simple-map"),r=t("can-namespace"),s=t("can-globals/document/document"),a=t("can-reflect"),u=t("can-symbol").for("can.viewModel");n.exports=r.viewModel=function(e,t,i){if("string"==typeof e?e=s().querySelector(e):a.isListLike(e)&&!e.nodeType&&(e=e[0]),a.isObservableLike(t)&&a.isMapLike(t))e[u]=t;else{var n=e[u];switch(n||(n=new o,e[u]=n),arguments.length){case 0:case 1:return n;case 2:return a.getKeyValue(n,t);default:return a.setKeyValue(n,t,i),e}}}}(0,e,0,i)}),define("can-attribute-observable@1.1.6#event",["require","exports","module","can-reflect","can-dom-events","can-dom-events/helpers/util"],function(e,t,i){"use strict";var n=e("can-reflect"),o=e("can-dom-events"),r=e("can-dom-events/helpers/util").isDomEventTarget,s={on:function(e,t,i){r(this)?o.addEventListener(this,e,t,i):n.onKeyValue(this,e,t,i)},off:function(e,t,i){r(this)?o.removeEventListener(this,e,t,i):n.offKeyValue(this,e,t,i)},one:function(e,t,i){var n=function(){return s.off.call(this,e,n,i),t.apply(this,arguments)};return s.on.call(this,e,n,i),this}};i.exports=s}),define("can-attribute-observable@1.1.6#get-event-name",["require","exports","module","./behaviors"],function(e,t,i){"use strict";var n=e("./behaviors"),o=function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},r=function(e,t){return"checked"===e&&!t.legacyBindings};i.exports=function(e,t,i){var s="change";return o(e)&&r(t,i)&&(s="can-attribute-observable-radiochange"),n.findSpecialListener(t)&&(s=t),s}}),define("can-event-dom-radiochange@2.2.0#can-event-dom-radiochange",["require","exports","module","can-globals/document/document","can-namespace"],function(e,t,i){!function(e,t,i,n){"use strict";function o(){return h().documentElement}function r(e){for(;e&&"FORM"!==e.nodeName;)e=e.parentNode;return e}function s(e,t){var i=e.getAttribute("name");return i&&i===t.getAttribute("name")&&r(e)===r(t)}function a(e){return"INPUT"===e.nodeName&&"radio"===e.type}function u(e,t){var i=o(),n=function(i){var n=i.target;if(a(n))for(var o in t){var r={type:o};t[o].forEach(function(t){s(n,t)&&e.dispatch(t,r,!1)})}};return e.addEventListener(i,"change",n),n}function l(e,t){var i=o();e.removeEventListener(i,"change",t)}var h=t("can-globals/document/document"),c=t("can-namespace"),d={defaultEventType:"radiochange",addEventListener:function(e,t,i){if(!a(e))throw new Error("Listeners for "+t+" must be radio inputs");var n=d._eventTypeTrackedRadios;n||(n=d._eventTypeTrackedRadios={},d._rootListener||(d._rootListener=u(this,n)));var o=d._eventTypeTrackedRadios[t];o||(o=d._eventTypeTrackedRadios[t]=new Set),o.add(e),e.addEventListener(t,i)},removeEventListener:function(e,t,i){e.removeEventListener(t,i);var n=d._eventTypeTrackedRadios;if(n){var o=n[t];if(o&&(o.delete(e),0===o.size)){delete n[t];for(var r in n)if(n.hasOwnProperty(r))return;delete d._eventTypeTrackedRadios,l(this,d._rootListener),delete d._rootListener}}}};n.exports=c.domEventRadioChange=d}(0,e,0,i)}),define("can-attribute-observable@1.1.6#can-attribute-observable",["require","exports","module","can-queues","./event","can-reflect","can-observation","./behaviors","./get-event-name","can-reflect-dependencies","can-observation-recorder","can-simple-observable/settable/settable","can-assign","can-dom-events","can-event-dom-radiochange"],function(e,t,i){!function(e,t,i,n){"use strict";function o(){var e=x.call(arguments,0);return e.unshift(this),g.addEventListener.apply(null,e)}function r(){var e=x.call(arguments,0);return e.unshift(this),g.removeEventListener.apply(null,e)}function s(e,t,i,n){this.el=e,this.bound=!1,this.bindingData=i,this.prop=b(e,t)?"values":t,this.event=n||d(e,t,i),this.handler=this.handler.bind(this)}var a=t("can-queues"),u=t("./event"),l=t("can-reflect"),h=t("can-observation"),c=t("./behaviors"),d=t("./get-event-name"),p=(t("can-reflect-dependencies"),t("can-observation-recorder")),f=t("can-simple-observable/settable/settable"),m=t("can-assign"),g=t("can-dom-events"),v=t("can-event-dom-radiochange");g.addEvent(v,"can-attribute-observable-radiochange");var y=function(e){return"select"===e.nodeName.toLowerCase()},b=function(e,t){return y(e)&&"value"===t&&e.multiple},x=Array.prototype.slice;m(s.prototype=Object.create(f.prototype),{constructor:s,get:function(){p.isRecording()&&(p.add(this),this.bound||h.temporarilyBind(this));var e=c.get(this.el,this.prop);return"function"==typeof e&&(e=e.bind(this.el)),e},set:function(e){return c.setAttrOrProp(this.el,this.prop,e)||(this._value=e),e},handler:function(e,t){var i=this._value,n=[];this._value=c.get(this.el,this.prop),this._value!==i&&(n=[this.handlers.getNode([]),this,[e,i]],a.enqueueByQueue.apply(a,n))},onBound:function(){var e=this;e.bound=!0,e._handler=function(t){e.handler(c.get(e.el,e.prop),t)},"can-attribute-observable-radiochange"===e.event&&u.on.call(e.el,"change",e._handler);var t=c.findSpecialListener(e.prop);t&&(e._specialDisposal=t.call(e.el,e.prop,e._handler,o)),u.on.call(e.el,e.event,e._handler),this._value=c.get(this.el,this.prop)},onUnbound:function(){var e=this;e.bound=!1,"can-attribute-observable-radiochange"===e.event&&u.off.call(e.el,"change",e._handler),e._specialDisposal&&(e._specialDisposal.call(e.el,r),e._specialDisposal=null),u.off.call(e.el,e.event,e._handler)},valueHasDependencies:function(){return!0},getValueDependencies:function(){var e=new Map,t=new Set;return t.add(this.prop),e.set(this.el,t),{keyDependencies:e}}}),l.assignSymbols(s.prototype,{"can.isMapLike":!1,"can.getValue":s.prototype.get,"can.setValue":s.prototype.set,"can.onValue":s.prototype.on,"can.offValue":s.prototype.off,"can.valueHasDependencies":s.prototype.hasDependencies,"can.getValueDependencies":s.prototype.getValueDependencies}),n.exports=s}(0,e,0,i)}),define("can-stache-bindings@4.6.4#can-stache-bindings",["require","exports","module","can-bind","can-stache/src/expression","can-view-callbacks","can-view-model","can-stache-key","can-observation-recorder","can-simple-observable","can-assign","can-log/dev/dev","can-dom-mutate","can-dom-data-state","can-symbol","can-reflect","can-reflect-dependencies","can-attribute-encoder","can-queues","can-simple-observable/setter/setter","can-attribute-observable","can-view-scope/make-compute-like","can-view-nodelist","can-attribute-observable/event"],function(e,t,i){"use strict";function n(e){if(void 0!==e.special.on)return e.tokens[e.special.on+1]}function o(e){var t={tokens:[],special:{}};return e.split(":").forEach(function(e){P[e]?t.special[e]=t.tokens.push(e)-1:t.tokens.push(e)}),t}var r=e("can-bind"),s=e("can-stache/src/expression"),a=e("can-view-callbacks"),u=e("can-view-model"),l=e("can-stache-key"),h=e("can-observation-recorder"),c=e("can-simple-observable"),d=e("can-assign"),p=(e("can-log/dev/dev"),e("can-dom-mutate")),f=e("can-dom-data-state"),m=e("can-symbol"),g=e("can-reflect"),v=e("can-reflect-dependencies"),y=e("can-attribute-encoder"),b=e("can-queues"),x=e("can-simple-observable/setter/setter"),w=e("can-attribute-observable"),D=e("can-view-scope/make-compute-like"),C=e("can-view-nodelist"),k=e("can-attribute-observable/event"),_=new Map,E=function(){throw new Error("can-stache-bindings - you can not have contextual bindings ( this:from='value' ) and key bindings ( prop:from='value' ) on one element.")},S=function(e,t){var i=t.parentToChild&&"viewModel"===t.child;if(!i)return e;var n=t.childName;if(!i||"this"!==n&&"."!==n){if(!e.isSettingViewModel)return{isSettingOnViewModel:!0,initialViewModelData:e.initialViewModelData};E()}else{if(!e.isSettingViewModel&&!e.isSettingOnViewModel)return{isSettingViewModel:!0,initialViewModelData:void 0};E()}},A=function(e,t,i,n,o){var r={element:e,event:t,viewModel:i,arguments:n};return o.scope.add(r,{special:!0})},F=function(e,t,i,n,o,r,s){b.batch.start();var a=[];a=[function(){var t=o.value(n,{doNotWrapInObservation:!0});return"function"==typeof(t=g.isValueLike(t)?g.getValue(t):t)?t(e):t},null,null,{}],b.mutateQueue.enqueue.apply(b.mutateQueue,a),b.batch.stop()},M={viewModel:function(e,t,i,n,o){var r,s=[],a={},u={},l=d({},n),h={isSettingOnViewModel:!1,isSettingViewModel:!1,initialViewModelData:n||{}},c=!1;if(g.each(e.attributes||[],function(i){var n=R(i,e,{templateType:t.templateType,scope:t.scope,getViewModel:function(){return r},attributeViewModelBindings:l,alreadyUpdatedChild:!0,nodeList:t.parentNodeList,favorViewModel:!0});if(n){var o=n.bindingInfo;if(h=S(h,o),c=!0,o.parentToChild){var u=o.stickyParentToChild?D(n.parent):n.canBinding.parentValue;void 0!==u&&(h.isSettingViewModel?h.initialViewModelData=u:h.initialViewModelData[z(o.childName,t.scope)]=u)}s.push(n.canBinding.start.bind(n.canBinding)),a[i.name]=n.canBinding.stop.bind(n.canBinding)}}),!o||c){r=i(h.initialViewModelData,c,h);for(var f=0,m=s.length;f<m;f++)s[f]();var v;return h.isSettingViewModel||(v=p.onNodeAttributeChange(e,function(i){var n=i.attributeName,o=e.getAttribute(n);a[n]&&a[n]();var s=u[n]&&"attribute"===u[n].parent;if(null!==o||s){var h=R({name:n,value:o},e,{templateType:t.templateType,scope:t.scope,getViewModel:function(){return r},attributeViewModelBindings:l,initializeValues:!0,nodeList:t.parentNodeList});h&&(h.canBinding.start(),u[n]=h.bindingInfo,a[n]=h.canBinding.stop.bind(h.canBinding))}})),function(){v&&(v(),v=void 0);for(var e in a)a[e]()}}},data:function(e,t){if(!f.get.call(e,"preventDataBindings")){var i,n,o,r,s=h.ignore(function(){return i||(i=u(e))}),a=R({name:t.attributeName,value:e.getAttribute(t.attributeName),nodeList:t.nodeList},e,{templateType:t.templateType,scope:t.scope,getViewModel:s,syncChildWithParent:!1});a.canBinding.start();var l=function(){n&&(n(),n=void 0),r&&(r(),r=void 0),o&&(o(),o=void 0)};t.nodeList&&C.register([],l,t.nodeList,!1),n=a.canBinding.stop.bind(a.canBinding),o=p.onNodeAttributeChange(e,function(i){var o=i.attributeName,r=e.getAttribute(o);if(o===t.attributeName&&(n&&n(),null!==r)){var a=R({name:o,value:r},e,{templateType:t.templateType,scope:t.scope,getViewModel:s,initializeValues:!0,nodeList:t.nodeList,syncChildWithParent:!1});a&&(a.canBinding.start(),n=a.canBinding.stop.bind(a.canBinding)),n=a.onTeardown}}),r=p.onNodeRemoval(e,function(){var t=e.ownerDocument,i=t.contains?t:t.documentElement;i&&!1!==i.contains(e)||l()})}},event:function(e,t){var i,n,o=y.decode(t.attributeName);if(-1!==o.indexOf(":to:")||-1!==o.indexOf(":from:")||-1!==o.indexOf(":bind:"))return this.data(e,t);if(!O.call(o,"on:"))throw new Error("can-stache-bindings - unsupported event bindings "+o);i=o.substr("on:".length);var r=e[m.for("can.viewModel")],a=t.scope;if(O.call(i,"el:"))i=i.substr("el:".length),n=e;else{O.call(i,"vm:")?(i=i.substr("vm:".length),n=r,a=r):n=r||e;var l=i.indexOf(":by:");l>=0&&(n=a.get(i.substr(l+":by:".length)),i=i.substr(0,l))}var h,c,d=function(i){var n=e.getAttribute(y.encode(o));if(n){var r=u(e),a=s.parse(n,{lookupRule:function(){return s.Lookup},methodRule:"call"}),l=A(e,i,r,arguments,t);if(a instanceof s.Hashes){var h=a.hashExprs,c=Object.keys(h)[0],d=a.hashExprs[c].value(l),p=g.isObservableLike(d)&&g.isValueLike(d);l.set(c,p?g.getValue(d):d)}else{if(!(a instanceof s.Call))throw new Error("can-stache-bindings: Event bindings must be a call expression. Make sure you have a () in "+t.attributeName+"="+JSON.stringify(n));F(e,0,0,l,a)}}},f=function(){k.off.call(n,i,d),h&&(h(),h=void 0),c&&(c(),c=void 0)};k.on.call(n,i,d),h=p.onNodeAttributeChange(e,function(t){var i=t.attributeName===o,n=!e.getAttribute(o);i&&n&&f()}),c=p.onNodeRemoval(e,function(){var t=e.ownerDocument,i=t.contains?t:t.documentElement;i&&i.contains(e)||f()})}};_.set(/[\w\.:]+:to$/,M.data),_.set(/[\w\.:]+:from$/,M.data),_.set(/[\w\.:]+:bind$/,M.data),_.set(/[\w\.:]+:raw$/,M.data),_.set(/[\w\.:]+:to:on:[\w\.:]+/,M.data),_.set(/[\w\.:]+:from:on:[\w\.:]+/,M.data),_.set(/[\w\.:]+:bind:on:[\w\.:]+/,M.data),_.set(/on:[\w\.:]+/,M.event);var T={viewModelOrAttribute:function(e,t,i,n,o,r,s){return e[m.for("can.viewModel")]?this.viewModel.apply(this,arguments):this.attribute.apply(this,arguments)},scope:function(e,t,i,n,o,r){if(i){if(o||i.indexOf("(")>=0||i.indexOf("=")>=0){var a=s.parse(i,{baseMethodType:"Call"});return a instanceof s.Hashes?new c(function(){var e=a.hashExprs,i=Object.keys(e)[0],n=a.hashExprs[i].value(t),o=g.isObservableLike(n)&&g.isValueLike(n);t.set(i,o?g.getValue(n):n)}):a.value(t)}var u={};g.assignSymbols(u,{"can.getValue":function(){},"can.valueHasDependencies":function(){return!1},"can.setValue":function(e){var n=s.parse(z(i,t),{baseMethodType:"Call"}).value(t);g.setValue(n,e)},"can.getWhatIChange":function(){var e=t.getDataForScopeSet(z(i,t)),n=new Map,o=new Set;return o.add(e.key),n.set(e.parent,o),{mutate:{keyDependencies:n}}},"can.getName":function(){}});var l=t.getDataForScopeSet(z(i,t));return l.parent&&l.key&&v.addMutatedBy(l.parent,l.key,u),u}return new c},viewModel:function(e,t,i,n,o,r,s){var a=z(i,t),u="."===i||"this"===i,h=u?[]:l.reads(i);return new x(function(){var e=n.getViewModel();return l.read(e,h,{}).value},function(e){var t=n.getViewModel();if(r){var i=g.getKeyValue(t,a);g.isObservableLike(i)?g.setValue(i,e):g.setKeyValue(t,a,new c(g.getValue(r)))}else u?g.setValue(t,e):g.setKeyValue(t,a,e)})},attribute:function(e,t,i,n,o,r,s,a){return new w(e,i,n,s)}},O=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},B={to:{childToParent:!0,parentToChild:!1,syncChildWithParent:!1},from:{childToParent:!1,parentToChild:!0,syncChildWithParent:!1},bind:{childToParent:!0,parentToChild:!0,syncChildWithParent:!0},raw:{childToParent:!1,parentToChild:!0,syncChildWithParent:!1}},L=[],P={vm:!0,on:!0};g.each(B,function(e,t){L.push(t),P[t]=!0});var N=function(e,t){return e.indexOf("vm")>=0?"viewModel":e.indexOf("el")>=0?"attribute":t?"viewModel":"viewModelOrAttribute"},I=function(e,t,i,r,s){var a,u,l,h=y.decode(e.name),c=e.value||"",p=o(h);if(L.forEach(function(e){if(void 0!==p.special[e]&&p.special[e]>0)return u=e,l=p.special[e],!1}),u){var f=n(p),m=!f||"bind"===u;return a=d({parent:"scope",child:N(p.tokens,s),childName:p.tokens[l-1],childEvent:f,bindingAttributeName:h,parentName:p.special.raw?'"'+c+'"':c,initializeValues:m},B[u]),"~"===c.trim().charAt(0)&&(a.stickyParentToChild=!0),a}},R=function(e,t,i){var n=I(e,i.attributeViewModelBindings,i.templateType,t.nodeName.toLowerCase(),i.favorViewModel);if(n){var o=T[n.parent](t,i.scope,n.parentName,i,n.parentToChild,void 0,void 0,n),s=T[n.child](t,i.scope,n.childName,i,n.childToParent,n.stickyParentToChild&&o,n.childEvent,n),a=!!n.childToParent,u=!!n.parentToChild,l={child:s,childToParent:a,cycles:!0===a&&!0===u?0:100,onInitDoNotUpdateChild:i.alreadyUpdatedChild,onInitSetUndefinedParentIfChildIsDefined:!0,parent:o,parentToChild:u,priority:i.nodeList?i.nodeList.nesting+1:void 0,queue:"domUI",sticky:n.syncChildWithParent?"childSticksToParent":void 0},h=new r(l);return h.startParent(),{bindingInfo:n,canBinding:h,parent:o}}},z=function(e,t){return e.replace(/@/g,"")},j={behaviors:M,getBindingInfo:I,bindings:_};j[m.for("can.callbackMap")]=_,a.attrs(j),i.exports=j}),define("can-simple-observable@2.4.1#async/async",["require","exports","module","../can-simple-observable","can-observation","can-queues","../settable/settable","can-reflect","can-observation-recorder","can-event-queue/value/value"],function(e,t,i){"use strict";function n(e,t,i){this.resolve=this.resolve.bind(this),this.lastSetValue=new o(i),this.handler=this.handler.bind(this),this.observation=new r(function(){this.resolveCalled=!1,this.inGetter=!0;var i=e.call(t,this.lastSetValue.get(),!0===this.bound?this.resolve:void 0);if(this.inGetter=!1,void 0!==i?this.resolve(i):this.resolveCalled&&this.resolve(this._value),!0!==this.bound)return i},this)}var o=e("../can-simple-observable"),r=e("can-observation"),s=e("can-queues"),a=e("../settable/settable"),u=e("can-reflect"),l=e("can-observation-recorder");e("can-event-queue/value/value"),(n.prototype=Object.create(a.prototype)).constructor=n,n.prototype.handler=function(e){void 0!==e&&a.prototype.handler.apply(this,arguments)};var h=l.ignore(u.getValue.bind(u));n.prototype.activate=function(){u.onValue(this.observation,this.handler,"notify"),this.resolveCalled||(this._value=h(this.observation))},n.prototype.resolve=function(e){this.resolveCalled=!0;var t=this._value;if(this._value=e,!this.inGetter){var i=[this.handlers.getNode([]),this,[e,t],null];s.enqueueByQueue.apply(s,i)}},i.exports=n}),define("can-simple-observable@2.4.1#resolver/resolver",["require","exports","module","can-reflect","can-symbol","can-observation-recorder","can-observation","can-queues","can-event-queue/map/map","../settable/settable","../can-simple-observable"],function(e,t,i){"use strict";function n(e,t,i){this.resolver=a.ignore(e),this.context=t,this._valueOptions={resolve:this.resolve.bind(this),listenTo:this.listenTo.bind(this),stopListening:this.stopListening.bind(this),lastSet:new c(i)},this.update=this.update.bind(this),this.contextHandlers=new WeakMap,this.teardown=null,this.binder={}}function o(e,t,i,n){l.off.call(e,t,n,i)}var r=e("can-reflect"),s=e("can-symbol"),a=e("can-observation-recorder"),u=(e("can-observation"),e("can-queues")),l=e("can-event-queue/map/map"),h=e("../settable/settable"),c=e("../can-simple-observable"),d=s.for("can.getChangesDependencyRecord");n.prototype=Object.create(h.prototype),r.assignMap(n.prototype,{constructor:n,listenTo:function(e,t,i,n){r.isPrimitive(e)&&(i=t,t=e,e=this.context),"function"==typeof t&&(i=t,t=void 0);var o=this,s=i.bind(this.context);s[d]=function(){var e=new Set;return e.add(o),{valueDependencies:e}},this.contextHandlers.set(i,s),l.listenTo.call(this.binder,e,t,s,n||"notify")},stopListening:function(){var e=this.binder[s.for("can.meta")],t=e&&e.listenHandlers;if(t){var i=l.stopListeningArgumentsToKeys.call({context:this.context,defaultQueue:"notify"});t.delete(i,o)}return this},resolve:function(e){if(this._value=e,this.isBinding)return this.lastValue=this._value,e;if(this._value!==this.lastValue){var t={};u.batch.start(),u.deriveQueue.enqueue(this.update,this,[],t),u.batch.stop()}return e},update:function(){if(this.lastValue!==this._value){var e=this.lastValue;this.lastValue=this._value,u.enqueueByQueue(this.handlers.getNode([]),this,[this._value,e])}},activate:function(){this.isBinding=!0,this.teardown=this.resolver.call(this.context,this._valueOptions),this.isBinding=!1},onUnbound:function(){this.bound=!1,l.stopListening.call(this.binder),null!=this.teardown&&(this.teardown(),this.teardown=null)},set:function(e){this._valueOptions.lastSet.set(e)},get:function(){if(a.isRecording()&&(a.add(this),this.bound||this.onBound()),!0===this.bound)return this._value;var e=function(){};this.on(e);var t=this._value;return this.off(e),t},hasDependencies:function(){var e=!1;if(this.bound){var t=this.binder[s.for("can.meta")];e=!!(t&&t.listenHandlers).size()}return e},getValueDependencies:function(){if(this.bound){var e=this.binder[s.for("can.meta")],t=e&&e.listenHandlers,i=new Map,n=new Set;if(t&&(r.each(t.root,function(e,t){r.each(e,function(e,o){if(void 0===o)n.add(t);else{var r=i.get(t);r||(r=new Set,i.set(t,r)),r.add(o)}})}),n.size||i.size)){var o={};return i.size&&(o.keyDependencies=i),n.size&&(o.valueDependencies=n),o}}}}),r.assignSymbols(n.prototype,{"can.getValue":n.prototype.get,"can.setValue":n.prototype.set,"can.isMapLike":!1,"can.getPriority":function(){return this.priority||0},"can.setPriority":function(e){this.priority=e},"can.valueHasDependencies":n.prototype.hasDependencies,"can.getValueDependencies":n.prototype.getValueDependencies}),i.exports=n}),define("can-event-queue@1.1.3#type/type",["require","exports","module","can-reflect","can-symbol","can-key-tree","can-queues"],function(e,t,i){"use strict";function n(e,t){t.lifecycleHandlers||(t.lifecycleHandlers=new l([Object,Array])),t.instancePatchesHandlers||(t.instancePatchesHandlers=new l([Object,Array]))}function o(e){var t=e[c];return t||(t={},a.setKeyValue(e,c,t)),n(e,t),t}function r(e,t,i){d["can.on"+e]=function(e,t){o(this)[i].add([t||"mutate",e])},d["can.off"+e]=function(e,t){o(this)[i].delete([t||"mutate",e])},d["can."+t]=function(e,t){h.enqueueByQueue(o(this)[i].getNode([]),this,[e,t])}}function s(e){return a.assignSymbols(e,d)}var a=e("can-reflect"),u=e("can-symbol"),l=e("can-key-tree"),h=e("can-queues"),c=u.for("can.meta"),d={};r("InstancePatches","dispatchInstanceOnPatches","instancePatchesHandlers"),r("InstanceBoundChange","dispatchInstanceBoundChange","lifecycleHandlers"),Object.defineProperty(s,"addHandlers",{enumerable:!1,value:n}),i.exports=s}),define("can-string-to-any@1.2.0#can-string-to-any",function(e,t,i){"use strict";i.exports=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var t=+e;return isNaN(t)?e:t}}}),define("can-data-types@1.2.0#maybe-boolean/maybe-boolean",["require","exports","module","can-reflect"],function(e,t,i){"use strict";function n(e){return null==e?e:!("false"===e||"0"===e||!e)}var o=e("can-reflect");i.exports=o.assignSymbols(n,{"can.new":n,"can.getSchema":function(){return{type:"Or",values:[!0,!1,void 0,null]}},"can.getName":function(){return"MaybeBoolean"},"can.isMember":function(e){return null==e||"boolean"==typeof e}})}),define("can-data-types@1.2.0#maybe-date/maybe-date",["require","exports","module","can-reflect"],function(e,t,i){"use strict";function n(e){var t=typeof e;return"string"===t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"===t?new Date(e):e}function o(e){this.setValue=e;var t=n(e);this.value=null==t?t:t.getTime()}var r=e("can-reflect");o.prototype.valueOf=function(){return this.value},r.assignSymbols(o.prototype,{"can.serialize":function(){return this.setValue}}),i.exports=r.assignSymbols(n,{"can.new":n,"can.getSchema":function(){return{type:"Or",values:[Date,void 0,null]}},"can.ComparisonSetType":o,"can.getName":function(){return"MaybeDate"},"can.isMember":function(e){return null==e||e instanceof Date}})}),define("can-data-types@1.2.0#maybe-number/maybe-number",["require","exports","module","can-reflect"],function(e,t,i){"use strict";function n(e){return null==e?e:+e}var o=e("can-reflect");i.exports=o.assignSymbols(n,{"can.new":n,"can.getSchema":function(){return{type:"Or",values:[Number,void 0,null]}},"can.getName":function(){return"MaybeNumber"},"can.isMember":function(e){return null==e||"number"==typeof e}})}),define("can-data-types@1.2.0#maybe-string/maybe-string",["require","exports","module","can-reflect"],function(e,t,i){"use strict";function n(e){return null==e?e:""+e}var o=e("can-reflect");i.exports=o.assignSymbols(n,{"can.new":n,"can.getSchema":function(){return{type:"Or",values:[String,void 0,null]}},"can.getName":function(){return"MaybeString"},"can.isMember":function(e){return null==e||"string"==typeof e}})}),define("can-define@2.7.1#can-define",["require","exports","module","can-namespace","can-symbol","can-reflect","can-observation","can-observation-recorder","can-simple-observable/async/async","can-simple-observable/settable/settable","can-simple-observable/resolver/resolver","can-event-queue/map/map","can-event-queue/type/type","can-queues","can-assign","can-log/dev/dev","can-string-to-any","can-define-lazy-value","can-data-types/maybe-boolean/maybe-boolean","can-data-types/maybe-date/maybe-date","can-data-types/maybe-number/maybe-number","can-data-types/maybe-string/maybe-string"],function(e,t,i){"use strict";"format cjs";function n(e){return e&&(!0===e.canDefineType||e[N])}function o(e,t,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:i})}function r(e,t){for(var i in e)e.hasOwnProperty(i)&&t.call(e,i,Object.getOwnPropertyDescriptor(e,i))}function s(e){var t=Object.getOwnPropertyNames(e),i="getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(e):[];return t.concat(i)}function a(e,t,i,n){void 0===t.value||"function"==typeof t.value&&0!==t.value.length||(t.default=t.value,delete t.value),void 0!==t.Value&&(t.Default=t.Value,delete t.Value)}function u(e){return"function"==typeof e.value&&e.value.length}function l(e,t){var i=e._computed&&e._computed[t];i&&i.compute&&(i.count?i.count++:(i.count=1,x.onValue(i.compute,i.handler,"notify"),i.oldValue=R(i.compute)))}function h(e,t){var i=e._computed&&e._computed[t];i&&(1===i.count?(i.count=0,x.offValue(i.compute,i.handler,"notify")):i.count--)}function c(e){return x.isValueLike(e)&&x.isObservableLike(e)}var d,p,f,m,g,v,y=e("can-namespace"),b=e("can-symbol"),x=e("can-reflect"),w=e("can-observation"),D=e("can-observation-recorder"),C=e("can-simple-observable/async/async"),k=e("can-simple-observable/settable/settable"),_=e("can-simple-observable/resolver/resolver"),E=e("can-event-queue/map/map"),S=e("can-event-queue/type/type"),A=e("can-queues"),F=e("can-assign"),M=(e("can-log/dev/dev"),e("can-string-to-any")),T=e("can-define-lazy-value"),O=e("can-data-types/maybe-boolean/maybe-boolean"),B=e("can-data-types/maybe-date/maybe-date"),L=e("can-data-types/maybe-number/maybe-number"),P=e("can-data-types/maybe-string/maybe-string"),N=b.for("can.new"),I=b.for("can.serialize"),R=D.ignore(x.getValue.bind(x)),z=Object.defineProperty;i.exports=p=y.define=function(e,t,i){var n,r=Object.create(i?i.dataInitializers:null),a=Object.create(i?i.computedInitializers:null),u=g(t,i,e);if(u.dataInitializers=r,u.computedInitializers=a,x.eachKey(u.definitions,function(t,i){p.property(e,i,t,r,a,u.defaultDefinition)}),e.hasOwnProperty("_data"))for(n in r)T(e._data,n,r[n].bind(e),!0);else T(e,"_data",function(){var e=this,t={};for(var i in r)T(t,i,r[i].bind(e),!0);return t});if(e.hasOwnProperty("_computed"))for(n in a)T(e._computed,n,a[n].bind(e));else T(e,"_computed",function(){var e=this,t=Object.create(null);for(var i in a)T(t,i,a[i].bind(e));return t});s(d).forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:d[t],configurable:!0,writable:!0})}),Object.defineProperty(e,"_define",{enumerable:!1,value:u,configurable:!0,writable:!0});var l=b.iterator||b.for("iterator");return e[l]||o(e,l,function(){return new p.Iterator(this)}),u};var j=function(e){for(var t in e)if("type"!==t)return!1;return!0};p.extensions=function(){},p.property=function(e,t,i,n,o,r){var s=p.extensions.apply(this,arguments);s&&(i=m(t,s,r||{},e));var a=i.type;if(a&&j(i)&&a===p.types["*"])z(e,t,{get:f.get.data(t),set:f.set.events(t,f.get.data(t),f.set.data(t),f.eventType.data(t)),enumerable:!0,configurable:!0});else{i.type=a;var l,h=i.get||u(i)?"computed":"data",c=f.read[h](t),d=f.get[h](t),g=f.set[h](t),v=function(e){return e};i.Type&&(v=f.set.Type(t,i.Type,v)),a&&(v=f.set.type(t,a,v));var y=f.set.events(t,c,g,f.eventType[h](t));u(i)?o[t]=f.valueResolver(t,i,v):void 0===i.default&&void 0===i.Default||(l=D.ignore(f.get.defaultValue(t,i,v,y))),i.get?o[t]=f.compute(t,i.get,l):l&&(n[t]=l),i.get&&i.set?g=f.set.setter(t,i.set,f.read.lastSet(t),g,!0):i.set?g=f.set.setter(t,i.set,c,y,!1):"data"===h?g=y:i.get&&i.get.length<1&&(g=function(){}),a&&(g=f.set.type(t,a,g)),i.Type&&(g=f.set.Type(t,i.Type,g)),z(e,t,{get:d,set:g,enumerable:"serialize"in i?!!i.serialize:!i.get,configurable:!0})}},p.makeDefineInstanceKey=function(e){e[b.for("can.defineInstanceKey")]=function(t,i){var n=this.prototype._define;"object"==typeof i&&a(0,i);var o=v(t,i,n.defaultDefinition,this);o&&"object"==typeof o?(p.property(e.prototype,t,o,n.dataInitializers,n.computedInitializers,n.defaultDefinition),n.definitions[t]=o):n.methods[t]=o,this.prototype.dispatch({type:"can.keys",target:this.prototype})}},p.Constructor=function(e,t){var i=function(e){Object.defineProperty(this,"__inSetup",{configurable:!0,enumerable:!1,value:!0,writable:!0}),p.setup.call(this,e,t),this.__inSetup=!1},n=p(i.prototype,e);return S(i),p.makeDefineInstanceKey(i,n),i},f={computeObj:function(e,t,i){var n={oldValue:void 0,compute:i,count:0,handler:function(i){var o=n.oldValue;n.oldValue=i,e.dispatch({type:t,target:e},[i,o])}};return n},valueResolver:function(e,t,i){var n=f.get.defaultValue(e,t,i);return function(){var i=this,o=n.call(this);return f.computeObj(i,e,new _(t.value,i,o))}},compute:function(e,t,i){return function(){var n,o=this,r=i&&i.call(this);return n=0===t.length?new w(t,o):1===t.length?new k(t,o,r):new C(t,o,r),f.computeObj(o,e,n)}},set:{data:function(e){return function(t){this._data[e]=t}},computed:function(e){return function(t){x.setValue(this._computed[e].compute,t)}},events:function(e,t,i,n){return function(n){if(this.__inSetup)i.call(this,n);else{var o=t.call(this);if(n!==o){var r;i.call(this,n),r={patches:[{type:"set",key:e,value:n}],type:e,target:this},this.dispatch(r,[n,o])}}}},setter:function(e,t,i,n,o){return function(e){var r=this;A.batch.start();var s=!1,a=i.call(this),u=t.call(this,e,function(e){n.call(r,e),s=!0},a);if(s)A.batch.stop();else if(o)if(void 0!==u)a!==u&&n.call(this,u),A.batch.stop();else{if(0===t.length)return n.call(this,e),void A.batch.stop();if(1!==t.length)return void A.batch.stop();A.batch.stop()}else if(void 0!==u)n.call(this,u),A.batch.stop();else{if(0===t.length)return n.call(this,e),void A.batch.stop();if(1!==t.length)return void A.batch.stop();n.call(this,void 0),A.batch.stop()}}},type:function(e,t,i){function o(n){return i.call(this,t.call(this,n,e))}return n(t)?t.canDefineType?o:function(e){return i.call(this,x.convert(e,t))}:"object"==typeof t?f.set.Type(e,t,i):o},Type:function(e,t,i){return Array.isArray(t)&&p.DefineList?t=p.DefineList.extend({"#":t[0]}):"object"==typeof t&&(t=p.DefineMap?p.DefineMap.extend(t):p.Constructor(t)),function(e){return e instanceof t||null==e?i.call(this,e):i.call(this,new t(e))}}},eventType:{data:function(e){return function(t,i){return void 0!==i||this._data.hasOwnProperty(e)?"set":"add"}},computed:function(){return function(){return"set"}}},read:{data:function(e){return function(){return this._data[e]}},computed:function(e){return function(){return x.getValue(this._computed[e].compute)}},lastSet:function(e){return function(){var t=this._computed[e].compute;if(t.lastSetValue)return x.getValue(t.lastSetValue)}}},get:{defaultValue:function(e,t,i,n){return function(){var o=t.default;if(void 0!==o)"function"==typeof o&&(o=o.call(this)),o=i.call(this,o);else{var r=t.Default;r&&(o=i.call(this,new r))}if(t.set){var s,a=!0;return f.set.setter(e,t.set,function(){},function(e){a?s=e:n.call(this,e)},t.get).call(this,o),a=!1,s}return o}},data:function(e){return function(){return this.__inSetup||D.add(this,e),this._data[e]}},computed:function(e){return function(t){var i=this._computed[e].compute;return D.isRecording()&&(D.add(this,e),x.isBound(i)||w.temporarilyBind(i)),R(i)}}}},p.behaviors=["get","set","value","Value","type","Type","serialize"];var V=function(e,t,i){if("enumerable"===t)e.serialize=!!i;else if("type"===t){var o=i;"string"==typeof o&&("object"!=typeof(o=p.types[o])||n(o)||(F(e,o),o=o[t])),void 0!==o&&(e[t]=o)}else e[t]=i};m=function(e,t,i,n){var o={};if(x.eachKey(t,function(e,t){V(o,t,e)}),x.eachKey(i,function(e,t){void 0===o[t]&&"type"!==t&&"Type"!==t&&(o[t]=e)}),t.Type){var r=t.Type,s=r[I];s&&(o.serialize=function(e){return s.call(e)}),r[N]&&(o.type=r[N],delete o.Type)}if("string"!=typeof t.type){if(!o.type&&!o.Type){var u=x.assignMap({},i);o=x.assignMap(u,o)}0===x.size(o)&&(o.type=p.types["*"])}return a(0,o),o},v=function(e,t,i,n){var o;return"string"==typeof t?o={type:t}:t&&(t[I]||t[N])?o={Type:t}:"function"==typeof t?x.isConstructorLike(t)&&(o={Type:t}):Array.isArray(t)?o={Type:t}:x.isPlainObject(t)&&(o=t),o?m(e,o,i,n):t},g=function(e,t,i){var n,s=Object.create(t?t.definitions:null),a={},u=e["*"];return u?(delete e["*"],n=v("*",u,{})):n=Object.create(null),r(e,function(e,t){var o;if(o=t.get||t.set?{get:t.get,set:t.set}:t.value,"constructor"!==e){var r=v(e,o,n,i);r&&"object"==typeof r&&x.size(r)>0?s[e]=r:"function"==typeof r&&(a[e]=r)}else a[e]=o}),u&&o(e,"*",u),{definitions:s,methods:a,defaultDefinition:n}},d=E({});var H=b.for("can.meta");F(d,{_eventSetup:function(){},_eventTeardown:function(){},addEventListener:function(e,t,i){return l(this,e),E.addEventListener.apply(this,arguments)},removeEventListener:function(e,t){return h(this,e),E.removeEventListener.apply(this,arguments)}}),d.on=d.bind=d.addEventListener,d.off=d.unbind=d.removeEventListener;var W=b.for("can.onKeyValue"),U=b.for("can.offKeyValue");x.assignSymbols(d,{"can.onKeyValue":function(e){return l(this,e),E[W].apply(this,arguments)},"can.offKeyValue":function(e){return h(this,e),E[U].apply(this,arguments)}}),delete d.one,p.setup=function(e,t){Object.defineProperty(this,"constructor",{value:this.constructor,enumerable:!1,writable:!1}),Object.defineProperty(this,H,{value:Object.create(null),enumerable:!1,writable:!1});var i=this._define.definitions,n=Object.create(null),r=this;x.eachKey(e,function(e,t){void 0!==i[t]?r[t]=e:p.expando(r,t,e)}),x.size(n)>0&&o(this,"_instanceDefinitions",n)};var q=function(e){return e};p.expando=function(e,t,i){if(p._specialKeys[t])return!0;var n=e._define.definitions;if(!n||!n[t]){var o=e._instanceDefinitions;if(!o){if(Object.isSealed(e))return;Object.defineProperty(e,"_instanceDefinitions",{configurable:!0,enumerable:!1,writable:!0,value:{}}),o=e._instanceDefinitions}if(!o[t]){var r=e._define.defaultDefinition||{type:p.types.observable};return p.property(e,t,r,{},{}),e._data[t]=r.type?p.make.set.type(t,r.type,q).call(e,i):p.types.observable(i),o[t]=r,e.__inSetup||(A.batch.start(),e.dispatch({type:"can.keys",target:e}),void 0!==e._data[t]&&e.dispatch({type:t,target:e,patches:[{type:"set",key:t,value:e._data[t]}]},[e._data[t],void 0]),A.batch.stop()),!0}}},p.replaceWith=T,p.eventsProto=d,p.defineConfigurableAndNotEnumerable=o,p.make=f,p.getDefinitionOrMethod=v,p._specialKeys={_data:!0,_computed:!0};var K={};p.makeSimpleGetterSetter=function(e){if(void 0===K[e]){var t=f.set.events(e,f.get.data(e),f.set.data(e),f.eventType.data(e));K[e]={get:f.get.data(e),set:function(e){return t.call(this,p.types.observable(e))},enumerable:!0,configurable:!0}}return K[e]},p.Iterator=function(e){this.obj=e,this.definitions=Object.keys(e._define.definitions),this.instanceDefinitions=e._instanceDefinitions?Object.keys(e._instanceDefinitions):Object.keys(e),this.hasGet="function"==typeof e.get},p.Iterator.prototype.next=function(){var e;if(this.definitions.length){if(e=this.definitions.shift(),this.obj._define.definitions[e].get)return this.next()}else{if(!this.instanceDefinitions.length)return{value:void 0,done:!0};e=this.instanceDefinitions.shift()}return{value:[e,this.hasGet?this.obj.get(e):this.obj[e]],done:!1}},p.types={date:B,number:L,boolean:O,observable:function(e){return Array.isArray(e)&&p.DefineList?e=new p.DefineList(e):x.isPlainObject(e)&&p.DefineMap&&(e=new p.DefineMap(e)),e},stringOrObservable:function(e){return Array.isArray(e)?new p.DefaultList(e):x.isPlainObject(e)?new p.DefaultMap(e):x.convert(e,p.types.string)},htmlbool:function(e){return""===e||!!M(e)},"*":function(e){return e},any:function(e){return e},string:P,compute:{set:function(e,t,i,n){return c(e)?e:c(n)?(x.setValue(n,e),n):e},get:function(e){return c(e)?x.getValue(e):e}}},p.updateSchemaKeys=function(e,t){for(var i in t){var n=t[i];!1!==n.serialize&&(n.type?e.keys[i]=n.type:e.keys[i]=function(e){return e},!0===t[i].identity&&e.identity.push(i))}return e}}),define("can-define@2.7.1#ensure-meta",["require","exports","module","can-symbol","can-reflect"],function(e,t,i){"use strict";var n=e("can-symbol"),o=e("can-reflect");i.exports=function(e){var t=n.for("can.meta"),i=e[t];return i||(i={},o.setKeyValue(e,t,i)),i}}),define("can-define@2.7.1#define-helpers/define-helpers",["require","exports","module","can-define","can-reflect","can-queues","can-log/dev/dev","../ensure-meta"],function(e,t,i){"use strict";var n=e("can-define"),o=e("can-reflect"),r=e("can-queues"),s=e("can-log/dev/dev"),a=e("../ensure-meta"),u={defineExpando:n.expando,reflectSerialize:function(e){var t=this._define.definitions,i=this._define.defaultDefinition;return this.forEach(function(n,r){var s=t[r];void 0!==(n=s&&"function"==typeof s.serialize?s.serialize.call(this,n,r):i&&"function"==typeof i.serialize?i.serialize.call(this,n,r):o.serialize(n))&&(e[r]=n)},this),e},reflectUnwrap:function(e){return this.forEach(function(t,i){void 0!==t&&(e[i]=o.unwrap(t))}),e},log:function(e){var t=this,i=function(e){return"string"==typeof e?JSON.stringify(e):e},n=a(t),r=n.allowedLogKeysSet||new Set;n.allowedLogKeysSet=r,e&&r.add(e),n._log=function(n,a){var u=n.type;"can.onPatches"===u||e&&!r.has(u)||"can.keys"===u||e&&!r.has(u)||("add"===u||"remove"===u?s.log(o.getName(t),"\n how   ",i(u),"\n what  ",i(a[0]),"\n index ",i(a[1])):s.log(o.getName(t),"\n key ",i(u),"\n is  ",i(a[0]),"\n was ",i(a[1])))}},deleteKey:function(e){var t=this._instanceDefinitions;if(t&&Object.prototype.hasOwnProperty.call(t,e)&&!Object.isSealed(this)){delete t[e],r.batch.start(),this.dispatch({type:"can.keys",target:this});var i=this._data[e];void 0!==i&&(delete this._data[e],this.dispatch({type:e,target:this,patches:[{type:"delete",key:e}]},[void 0,i])),r.batch.stop()}else this.set(e,void 0);return this}};i.exports=u}),define("can-define@2.7.1#map/map",["require","exports","module","can-construct","can-define","../define-helpers/define-helpers","can-observation-recorder","can-namespace","can-log","can-log/dev/dev","can-reflect","can-symbol","can-queues","can-event-queue/type/type"],function(e,t,i){"use strict";function n(e){y.batch.start(),g.assignMap(this,e||{}),y.batch.stop()}function o(e){y.batch.start(),g.updateMap(this,e||{}),y.batch.stop()}function r(e){y.batch.start(),g.assignDeepMap(this,e||{}),y.batch.stop()}function s(e){y.batch.start(),g.updateDeepMap(this,e||{}),y.batch.stop()}function a(e,t){d.defineExpando(this,e,t)||(this[e]=t)}function u(e){var t=this[e];return void 0!==t||e in this||Object.isSealed(this)?t:(p.add(this,e),this[e])}function l(){var e=this.prototype._define,t=e?e.definitions:{},i={type:"map",identity:[],keys:{}};return c.updateSchemaKeys(i,t)}var h=e("can-construct"),c=e("can-define"),d=e("../define-helpers/define-helpers"),p=e("can-observation-recorder"),f=e("can-namespace"),m=e("can-log"),g=(e("can-log/dev/dev"),e("can-reflect")),v=e("can-symbol"),y=e("can-queues"),b=e("can-event-queue/type/type"),x=function(e){var t=[];for(var i in e){var n=e[i];"object"==typeof n&&("serialize"in n?!n.serialize:n.get)||t.push(i)}return t},w=v.for("can.getSchema"),D=function(e){c.setup.call(this,e||{},this.constructor.seal)},C=h.extend("DefineMap",{setup:function(e){var t,i=this.prototype;if(C){var n=c(i,i,e.prototype._define);c.makeDefineInstanceKey(this,n),b(this);for(t in C.prototype)c.defineConfigurableAndNotEnumerable(i,t,i[t]);i.setup===C.prototype.setup&&c.defineConfigurableAndNotEnumerable(i,"setup",D);var o=Object.getOwnPropertyDescriptor(i,"_computed").get;Object.defineProperty(i,"_computed",{configurable:!0,enumerable:!1,get:function(){if(this!==i)return o.call(this,arguments)}})}else for(t in i)c.defineConfigurableAndNotEnumerable(i,t,i[t]);c.defineConfigurableAndNotEnumerable(i,"constructor",this),this[w]=l}},{setup:function(e,t){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),c.setup.call(this,e||{},!0===t)},get:function(e){return e?u.call(this,e):g.unwrap(this,Map)},set:function(e,t){return"object"==typeof e?!0===t?s.call(this,e):r.call(this,e):a.call(this,e,t),this},assignDeep:function(e){return r.call(this,e),this},updateDeep:function(e){return s.call(this,e),this},assign:function(e){return n.call(this,e),this},update:function(e){return o.call(this,e),this},serialize:function(){return g.serialize(this,Map)},deleteKey:d.deleteKey,forEach:function(){var e=function(e,t,i){return g.eachKey(e,t,i)},t=p.ignore(e);return function(i,n,o){return!1===o?t(this,i,n):e(this,i,n)}}(),"*":{type:c.types.observable}}),k={"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":u,"can.setKeyValue":a,"can.deleteKeyValue":d.deleteKey,"can.getOwnKeys":function(){var e=g.getOwnEnumerableKeys(this);if(this._computed)for(var t,i=g.getOwnKeys(this._computed),n=0;n<i.length;n++)t=i[n],e.indexOf(t)<0&&e.push(t);return e},"can.getOwnEnumerableKeys":function(){return p.add(this,"can.keys"),p.add(Object.getPrototypeOf(this),"can.keys"),x(this._define.definitions).concat(x(this._instanceDefinitions))},"can.hasOwnKey":function(e){return Object.hasOwnProperty.call(this._define.definitions,e)},"can.hasKey":function(e){return!!this._define.definitions[e]},"can.assignDeep":r,"can.updateDeep":s,"can.unwrap":d.reflectUnwrap,"can.serialize":d.reflectSerialize,"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&((t={}).valueDependencies=new Set,t.valueDependencies.add(this._computed[e].compute)),t}};g.assignSymbols(C.prototype,k),g.setKeyValue(C.prototype,v.iterator,function(){return new c.Iterator(this)});for(var _ in c.eventsProto)C[_]=c.eventsProto[_],Object.defineProperty(C.prototype,_,{enumerable:!1,value:c.eventsProto[_],writable:!0});("getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(c.eventsProto):[v.for("can.onKeyValue"),v.for("can.offKeyValue")]).forEach(function(e){Object.defineProperty(C.prototype,e,{configurable:!0,enumerable:!1,value:c.eventsProto[e],writable:!0})}),c.DefineMap=C,Object.defineProperty(C.prototype,"toObject",{enumerable:!1,writable:!0,value:function(){return m.warn("Use DefineMap::get instead of DefineMap::toObject"),this.get()}}),i.exports=f.DefineMap=C}),define("can-define@2.7.1#list/list",["require","exports","module","can-construct","can-define","can-queues","can-event-queue/type/type","can-observation-recorder","can-log","can-log/dev/dev","../define-helpers/define-helpers","can-assign","can-diff/list/list","can-namespace","can-reflect","can-symbol","can-single-reference"],function(e,t,i){"use strict";function n(){var e=this.prototype._define.definitions,t={type:"list",keys:{}};return(t=r.updateSchemaKeys(t,e)).keys["#"]&&(t.values=e["#"].Type,delete t.keys["#"]),t}var o=e("can-construct"),r=e("can-define"),s=r.make,a=e("can-queues"),u=e("can-event-queue/type/type"),l=e("can-observation-recorder"),h=e("can-log"),c=(e("can-log/dev/dev"),e("../define-helpers/define-helpers")),d=e("can-assign"),p=e("can-diff/list/list"),f=e("can-namespace"),m=e("can-reflect"),g=e("can-symbol"),v=e("can-single-reference"),y=[].splice,b=!1,x=function(e){return e},w=function(e){return function(t){for(var i in e)if(t[i]!==e[i])return!1;return!0}},D=r.eventsProto[g.for("can.onKeyValue")],C=r.eventsProto[g.for("can.offKeyValue")],k=g.for("can.getSchema"),_=o.extend("DefineList",{setup:function(e){if(_){u(this);var t=this.prototype,i=r(t,t,e.prototype._define);r.makeDefineInstanceKey(this,i);var o=i.definitions["#"]||i.defaultDefinition;o&&(o.Type?this.prototype.__type=s.set.Type("*",o.Type,x):o.type&&(this.prototype.__type=s.set.type("*",o.type,x))),this[k]=n}}},{setup:function(e){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{length:{type:"number"},_length:{type:"number"}}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),r.setup.call(this,{},!1),Object.defineProperty(this,"_length",{enumerable:!1,configurable:!0,writable:!0,value:0}),e&&this.splice.apply(this,[0,0].concat(m.toArray(e)))},__type:r.types.observable,_triggerChange:function(e,t,i,n){var o=+e;if(isNaN(o))this.dispatch({type:""+e,target:this},[i,n]);else{var r,s=this._define.definitions["#"];"add"===t?(s&&"function"==typeof s.added&&l.ignore(s.added).call(this,i,o),r={type:t,patches:[{type:"splice",insert:i,index:o,deleteCount:0}]},this.dispatch(r,[i,o])):"remove"===t?(s&&"function"==typeof s.removed&&l.ignore(s.removed).call(this,n,o),r={type:t,patches:[{type:"splice",index:o,deleteCount:n.length}]},this.dispatch(r,[n,o])):this.dispatch(t,[i,o])}},get:function(e){return arguments.length?(isNaN(e)?l.add(this,e):l.add(this,"length"),this[e]):m.unwrap(this,Map)},set:function(e,t){if("object"!=typeof e)if("number"==typeof(e=isNaN(+e)||e%1?e:+e)){if("number"==typeof e&&e>this._length-1){var i=new Array(e+1-this._length);return i[i.length-1]=t,this.push.apply(this,i),i}this.splice(e,1,t)}else c.defineExpando(this,e,t)||(this[e]=t);else m.isListLike(e)?t?this.replace(e):m.assignList(this,e):m.assignMap(this,e);return this},assign:function(e){return m.isListLike(e)?m.assignList(this,e):m.assignMap(this,e),this},update:function(e){return m.isListLike(e)?m.updateList(this,e):m.updateMap(this,e),this},assignDeep:function(e){return m.isListLike(e)?m.assignDeepList(this,e):m.assignDeepMap(this,e),this},updateDeep:function(e){return m.isListLike(e)?m.updateDeepList(this,e):m.updateDeepMap(this,e),this},_items:function(){var e=[];return this._each(function(t){e.push(t)}),e},_each:function(e){for(var t=0,i=this._length;t<i;t++)e(this[t],t)},splice:function(e,t){var i,n,o,r=m.toArray(arguments),s=[],u=r.length>2,l=this._length;for(e=e||0,i=0,n=r.length-2;i<n;i++)r[o=i+2]=this.__type(r[o],o),s.push(r[o]),this[i+e]!==r[o]&&(u=!1);if(u&&this._length<=s.length)return s;void 0===t&&(t=r[1]=this._length-e),b=!0;var h=y.apply(this,r);return b=!1,a.batch.start(),t>0&&this._triggerChange(""+e,"remove",void 0,h),r.length>2&&this._triggerChange(""+e,"add",s,h),this.dispatch("length",[this._length,l]),a.batch.stop(),h},serialize:function(){return m.serialize(this,Map)}});for(var E in r.eventsProto)Object.defineProperty(_.prototype,E,{enumerable:!1,value:r.eventsProto[E],writable:!0});("getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(r.eventsProto):[g.for("can.onKeyValue"),g.for("can.offKeyValue")]).forEach(function(e){Object.defineProperty(_.prototype,e,{configurable:!0,enumerable:!1,value:r.eventsProto[e],writable:!0})});var S=function(e){return e[0]&&Array.isArray(e[0])?e[0]:m.toArray(e)};m.eachKey({push:"length",unshift:0},function(e,t){var i=[][t];_.prototype[t]=function(){for(var t,n,o=[],r=e?this._length:0,s=arguments.length;s--;)n=arguments[s],o[s]=this.__type(n,s);return b=!0,t=i.apply(this,o),b=!1,this.comparator&&!o.length||(a.batch.start(),this._triggerChange(""+r,"add",o,void 0),this.dispatch("length",[this._length,r]),a.batch.stop()),t}}),m.eachKey({pop:"length",shift:0},function(e,t){var i=[][t];_.prototype[t]=function(){if(this._length){var t,n=S(arguments),o=e&&this._length?this._length-1:0,r=this._length?this._length:0;return b=!0,t=i.apply(this,n),b=!1,a.batch.start(),this._triggerChange(""+o,"remove",void 0,[t]),this.dispatch("length",[this._length,r]),a.batch.stop(),t}}}),m.eachKey({map:3,filter:3,reduce:4,reduceRight:4,every:3,some:3},function(e,t){_.prototype[t]=function(){var i=this,n=[].slice.call(arguments,0),o=n[0],r=n[e-1]||i;"object"==typeof o&&(o=w(o)),n[0]=function(){var t=[].slice.call(arguments,0);return t[e-3]=i.get(t[e-2]),o.apply(r,t)};var s=Array.prototype[t].apply(this,n);return"map"===t?new _(s):"filter"===t?new i.constructor(s):s}}),d(_.prototype,{indexOf:function(e,t){for(var i=t||0,n=this.length;i<n;i++)if(this.get(i)===e)return i;return-1},lastIndexOf:function(e,t){for(var i=t=void 0===t?this.length-1:t;i>=0;i--)if(this.get(i)===e)return i;return-1},join:function(){return l.add(this,"length"),[].join.apply(this,arguments)},reverse:function(){var e=[].reverse.call(this._items());return this.replace(e)},slice:function(){l.add(this,"length");var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var e=[];return m.eachIndex(arguments,function(t){m.isListLike(t)?(Array.isArray(t)?t:m.toArray(t)).forEach(function(t){e.push(this.__type(t))},this):e.push(this.__type(t))},this),new this.constructor(Array.prototype.concat.apply(m.toArray(this),e))},forEach:function(e,t){for(var i,n=0,o=this.length;n<o&&(i=this.get(n),!1!==e.call(t||i,i,n,this));n++);return this},replace:function(e){var t=p(this,e);a.batch.start();for(var i=0,n=t.length;i<n;i++)this.splice.apply(this,[t[i].index,t[i].deleteCount].concat(t[i].insert));return a.batch.stop(),this},sort:function(e){var t=Array.prototype.slice.call(this);return Array.prototype.sort.call(t,e),this.splice.apply(this,[0,t.length].concat(t)),this}});for(var E in r.eventsProto)_[E]=r.eventsProto[E],Object.defineProperty(_.prototype,E,{enumerable:!1,value:r.eventsProto[E],writable:!0});Object.defineProperty(_.prototype,"length",{get:function(){return this.__inSetup||l.add(this,"length"),this._length},set:function(e){if(b)this._length=e;else if(null!=e&&!isNaN(+e)&&e!==this._length)if(e>this._length-1){var t=new Array(e-this._length);this.push.apply(this,t)}else this.splice(e)},enumerable:!0}),_.prototype.attr=function(e,t){return h.warn("DefineMap::attr shouldn't be called"),0===arguments.length?this.get():e&&"object"==typeof e?this.set.apply(this,arguments):1===arguments.length?this.get(e):this.set(e,t)},_.prototype.item=function(e,t){return 1===arguments.length?this.get(e):this.set(e,t)},_.prototype.items=function(){return h.warn("DefineList::get should should be used instead of DefineList::items"),this.get()};var A={"can.isMoreListLikeThanMapLike":!0,"can.isMapLike":!0,"can.isListLike":!0,"can.isValueLike":!1,"can.getKeyValue":_.prototype.get,"can.setKeyValue":_.prototype.set,"can.onKeyValue":function(e,t,i){var n;return isNaN(e)?D.apply(this,arguments):(n=function(){t(this[e])},v.set(t,this,n,e),D.call(this,"length",n,i))},"can.offKeyValue":function(e,t,i){var n;return isNaN(e)?C.apply(this,arguments):(n=v.getAndDelete(t,this,e),C.call(this,"length",n,i))},"can.deleteKeyValue":function(e){if("number"==typeof(e=isNaN(+e)||e%1?e:+e))this.splice(e,1);else{if("length"===e||"_length"===e)return;this.set(e,void 0)}return this},"can.assignDeep":function(e){a.batch.start(),m.assignList(this,e),a.batch.stop()},"can.updateDeep":function(e){a.batch.start(),this.replace(e),a.batch.stop()},"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&((t={}).valueDependencies=new Set,t.valueDependencies.add(this._computed[e].compute)),t},"can.splice":function(e,t,i){this.splice.apply(this,[e,t].concat(i))},"can.onPatches":function(e,t){this[g.for("can.onKeyValue")]("can.patches",e,t)},"can.offPatches":function(e,t){this[g.for("can.offKeyValue")]("can.patches",e,t)}};m.assignSymbols(_.prototype,A),m.setKeyValue(_.prototype,g.iterator,function(){var e=-1;return"number"!=typeof this.length&&(this.length=0),{next:function(){return e++,{value:this[e],done:e>=this.length}}.bind(this)}}),r.DefineList=_,i.exports=f.DefineList=_}),define("can-component@4.4.9#can-component",["require","exports","module","./control/control","can-namespace","can-bind","can-construct","can-stache","can-stache-bindings","can-view-scope","can-view-callbacks","can-view-nodelist","can-reflect","can-stache-key","can-simple-observable/setter/setter","can-simple-observable","can-simple-map","can-define/map/map","can-log","can-log/dev/dev","can-assign","can-observation-recorder","can-view-model","can-define/list/list","can-dom-data-state","can-child-nodes","can-string","can-dom-events","can-dom-mutate","can-dom-mutate/node","can-symbol","can-globals/document/document"],function(e,t,i){!function(e,t,i,n){"use strict";function o(e,t,i){var n;_.set.call(e,"preventDataBindings",!0);var o=d.behaviors.viewModel(e,i,function(e,t,i){return n=i&&!0===i.isSettingOnViewModel?new x(e):new b(e)},void 0,!0);return o?C(C({},t),{teardown:o,scope:t.scope.add(n)}):t}function r(e,t,i,n,r){var s=i.options;return function i(a,u){var l=r(a)||u.subtemplate,h=l!==u.subtemplate;if(l){delete s.tags[e];var c;c=h?n.toLightContent?o(a,{scope:u.scope.cloneFromRef(),options:u.options},u):o(a,t,u):o(a,u,u);var d=m.register([a],function(){c.teardown&&c.teardown()},u.parentNodeList||!0,u.directlyNested);d.expression="<can-slot name='"+a.getAttribute("name")+"'/>";var p=l(c.scope,c.options,d),f=g.toArray(E(p)),v=m.update(d,f);m.replace(v,p),s.tags[e]=i}}}function s(e){return k.ignore(function(t,i,n){var o,r=[],s=[];g.eachKey(e,function(e,t){var i=null!=e&&!!e[L],a=null!=e&&!!e[P];if(!0===i||a){var u=v.reads(t),h=new y(function(){return v.read(o,u).value},function(e){g.setKeyValue(o,t,e)}),c=new l({child:h,parent:e,queue:"domUI"});c.startParent(),!0===i&&(n[t]=c.parentValue),r.push(c.start.bind(c)),s.push(c.stop.bind(c))}else n[t]=e}),o=i(n);for(var a=0,u=r.length;a<u;a++)r[a]();return function(){s.forEach(function(e){e()})}})}var a=t("./control/control"),u=t("can-namespace"),l=t("can-bind"),h=t("can-construct"),c=t("can-stache"),d=t("can-stache-bindings"),p=t("can-view-scope"),f=t("can-view-callbacks"),m=t("can-view-nodelist"),g=t("can-reflect"),v=t("can-stache-key"),y=t("can-simple-observable/setter/setter"),b=t("can-simple-observable"),x=t("can-simple-map"),w=t("can-define/map/map"),D=t("can-log"),C=(t("can-log/dev/dev"),t("can-assign")),k=t("can-observation-recorder");t("can-view-model"),t("can-define/list/list");var _=t("can-dom-data-state"),E=t("can-child-nodes"),S=t("can-string"),A=t("can-dom-events"),F=t("can-dom-mutate"),M=t("can-dom-mutate/node"),T=t("can-symbol"),O=t("can-globals/document/document"),B=T("can.createdByCanComponent"),L=T.for("can.getValue"),P=T.for("can.setValue"),N=T.for("can.viewInsert"),I=T.for("can.viewModel");c.addBindings(d);var R=h.extend({setup:function(){if(h.setup.apply(this,arguments),R){var e=this;void 0!==this.prototype.events&&0!==g.size(this.prototype.events)&&(this.Control=a.extend(this.prototype.events));var t=this.prototype.viewModel||this.prototype.scope;if(t&&this.prototype.ViewModel)throw new Error("Cannot provide both a ViewModel and a viewModel property");var i=S.capitalize(S.camelize(this.prototype.tag))+"VM";if(this.prototype.ViewModel?"function"==typeof this.prototype.ViewModel?this.ViewModel=this.prototype.ViewModel:this.ViewModel=w.extend(i,{},this.prototype.ViewModel):t?"function"==typeof t?g.isObservableLike(t.prototype)&&g.isMapLike(t.prototype)?this.ViewModel=t:this.viewModelHandler=t:g.isObservableLike(t)&&g.isMapLike(t)?this.viewModelInstance=t:(D.warn("can-component: "+this.prototype.tag+" is extending the viewModel into a can-simple-map"),this.ViewModel=x.extend(i,{},t)):this.ViewModel=x.extend(i,{},{}),this.prototype.template&&(this.renderer=this.prototype.template),this.prototype.view&&(this.renderer=this.prototype.view),"string"==typeof this.renderer){var n=S.capitalize(S.camelize(this.prototype.tag))+"View";this.renderer=c(n,this.renderer)}f.tag(this.prototype.tag,function(t,i){void 0===t[B]&&new e(t,i)})}}},{setup:function(e,t){this._initialArgs=[e,t];var i=this,n={helpers:{},tags:{}};void 0===t&&(void 0===e?t={}:(t=e,e=void 0)),void 0===e&&((e=O().createElement(this.tag))[B]=!0),this.element=e;var o=t.content;void 0!==o&&("function"==typeof o?t.subtemplate=o:"string"==typeof o&&(t.subtemplate=c(o)));var a=t.scope;void 0!==a&&a instanceof p==0&&(t.scope=new p(a));var u=t.templates;void 0!==u&&g.eachKey(u,function(e,t){if("string"==typeof e){var i=t+" template";u[t]=c(i,e)}});var l,h,f,v=[],y={},b=function(){for(var e=0,t=v.length;e<t;e++)v[e]()};if(_.get.call(e,"preventDataBindings"))l=e[I];else{var w;w=t.setupBindings?t.setupBindings:t.viewModel?s(t.viewModel):function(e,i,n){return d.behaviors.viewModel(e,t,i,n)},f=w(e,function(n){var o=i.constructor.ViewModel,r=i.constructor.viewModelHandler,s=i.constructor.viewModelInstance;if(r){var a=r.call(i,n,t.scope,e);g.isObservableLike(a)&&g.isMapLike(a)?s=a:o=g.isObservableLike(a.prototype)&&g.isMapLike(a.prototype)?a:x.extend(a)}return o&&(s=new i.constructor.ViewModel(n)),l=s,s},y)}if(this.viewModel=l,e[I]=l,e.viewModel=l,_.set.call(e,"preventDataBindings",!0),void 0!==this.helpers&&g.eachKey(this.helpers,function(e,t){"function"==typeof e&&(n.helpers[t]=e.bind(l))}),this.constructor.Control)this._control=new this.constructor.Control(e,{scope:this.viewModel,viewModel:this.viewModel,destroy:b});else var D=F.onNodeRemoval(e,function(){var t=e.ownerDocument,i=t.contains?t:t.documentElement;i&&i.contains(e)||(D(),b())});var C,k,S={toLightContent:!0===this.leakScope,intoShadowContent:!0===this.leakScope};if(this.constructor.renderer){var T;T=S.intoShadowContent?{scope:t.scope.add(this.viewModel,{viewModel:!0}),options:n}:{scope:new p(this.viewModel,null,{viewModel:!0}),options:n},n.tags["can-slot"]=r("can-slot",t,T,S,function(e){var i=t.templates;if(i)return i[e.getAttribute("name")]}),n.tags.content=r("content",t,T,S,function(){return t.subtemplate}),C=this.constructor.renderer,k=T}else k={scope:t.scope.add(this.viewModel,{viewModel:!0}),options:n},C=t.subtemplate||e.ownerDocument.createDocumentFragment.bind(e.ownerDocument);var L,P=m.register([],function(){i._torndown=!0,A.dispatch(e,"beforeremove",!1),f&&f(),L?L(e):"function"==typeof l.stopListening&&l.stopListening()},t.parentNodeList||!0,!1);if(P.expression="<"+this.tag+">",v.push(function(){m.unregister(P)}),this.nodeList=P,h=C(k.scope,k.options,P),M.appendChild.call(e,h),m.update(P,E(e)),l&&l.connectedCallback)if(O().body.contains(e))L=l.connectedCallback(e);else var N=F.onNodeInsertion(e,function(){N(),L=l.connectedCallback(e)});i._torndown=!1}});R.prototype[N]=function(e){return this._torndown&&this.setup.apply(this,this._initialArgs),e.nodeList.newDeepChildren.push(this.nodeList),this.element},n.exports=u.Component=R}(0,e,0,i)}),define("can-key@1.2.0#delete/delete",["require","exports","module","can-reflect","../utils"],function(e,t,i){"use strict";var n=e("can-reflect"),o=e("../utils");i.exports=function(e,t){for(var i=o.parts(t),r=e,s=0;s<i.length-1;s++)r&&(r=n.getKeyValue(r,i[s]));r&&n.deleteKeyValue(r,i[i.length-1])}}),define("can-key@1.2.0#replace-with/replace-with",["require","exports","module","../utils","../get/get","../delete/delete"],function(e,t,i){"use strict";var n=e("../utils"),o=e("../get/get"),r=e("../delete/delete");i.exports=function(e,t,i,s){return e.replace(n.strReplacer,function(e,n){var a=o(t,n);return s&&r(t,n),i?i(n,a):a})}}),define("can-key@1.2.0#set/set",["require","exports","module","can-reflect","can-symbol","../utils"],function(e,t,i){"use strict";var n=e("can-reflect"),o=e("can-symbol"),r=e("../utils");o.for("can.setValue"),i.exports=function(e,t,i){for(var o=r.parts(t),s=e,a=o.length,u=0;u<a-1&&r.isContainer(s);u++)s=n.getKeyValue(s,o[u]);if(!s)throw new TypeError("Cannot set value at key path '"+t+"'");return n.setKeyValue(s,o[u],i),e}}),define("can-key@1.2.0#walk/walk",["require","exports","module","can-reflect","../utils"],function(e,t,i){"use strict";var n=e("can-reflect"),o=e("../utils");i.exports=function(e,t,i){var r,s,a,u,l=o.parts(t),h=l.length;if(h)for(r=e,s=0;s<h;s++){var c=i({parent:a=r,key:u=l[s],value:r=o.isContainer(a)&&n.getKeyValue(a,u)},s);void 0!==c&&(r=c)}}}),define("can-key@1.2.0#transform/transform",["require","exports","module","../walk/walk","../utils","can-reflect"],function(e,t,i){"use strict";function n(e){for(var t=e.length-1;t>=0;t--){var i=e[t];if(delete i.parent[i.key],0!==s.size(i.parent))return}}var o=e("../walk/walk"),r=e("../utils"),s=e("can-reflect");i.exports=function(e,t){var i=s.serialize(e);return s.eachKey(t,function(e,t){var s=r.parts(t),a=r.parts(e),u=[];o(i,s,function(e){u.push(e)});var l=u[u.length-1].value;void 0!==l&&(o(i,a,function(e,t){if(t<a.length-1&&!e.value)return e.parent[e.key]={};t===a.length-1&&(e.parent[e.key]=l)}),n(u))}),i}}),define("can-key@1.2.0#can-key",["require","exports","module","can-key/delete/delete","can-key/get/get","can-key/replace-with/replace-with","can-key/set/set","can-key/transform/transform","can-key/walk/walk","can-namespace"],function(e,t,i){"use strict";var n=e("can-key/delete/delete"),o=e("can-key/get/get"),r=e("can-key/replace-with/replace-with"),s=e("can-key/set/set"),a=e("can-key/transform/transform"),u=e("can-key/walk/walk"),l=e("can-namespace");i.exports=l.key={deleteKey:n,get:o,replaceWith:r,set:s,transform:a,walk:u}}),define("can-debug@2.0.1#src/proxy-namespace",function(e,t,i){!function(e,t,i,n){"use strict";var o=!1;n.exports=function(e){return new Proxy(e,{get:function(e,t){return o||(console.warn("Warning: use of 'can' global should be for debugging purposes only."),o=!0),e[t]}})}}(0,0,0,i)}),define("can-debug@2.0.1#src/temporarily-bind",["require","exports","module","can-symbol","can-reflect"],function(e,t,i){"use strict";function n(e){return"function"==typeof e}function o(e,t,i){var o;return n(e[h])&&a.onKeyValue(e,t,d),o=i(e,t),n(e[c])&&a.offKeyValue(e,t,d),o}function r(e,t){var i;return n(e[u])&&a.onValue(e,d),i=t(e),n(e[l])&&a.offValue(e,d),i}var s=e("can-symbol"),a=e("can-reflect"),u=s.for("can.onValue"),l=s.for("can.offValue"),h=s.for("can.onKeyValue"),c=s.for("can.offKeyValue"),d=function(){};i.exports=function(e){return function(t,i){return 2===arguments.length?o(t,i,e):r(t,e)}}}),define("can-debug@2.0.1#src/graph/graph",function(e,t,i){"use strict";function n(){this.nodes=[],this.arrows=new Map,this.arrowsMeta=new Map}function o(e,t,i,n){var o=e.arrowsMeta.get(t);if(o){var r=o.get(i);r||(r={}),o.set(i,Object.assign(r,n))}else o=new Map([[i,n]]),e.arrowsMeta.set(t,o)}n.prototype.addNode=function(e){this.nodes.push(e),this.arrows.set(e,new Set)},n.prototype.addArrow=function(e,t,i){var n=this;n.arrows.get(e).add(t),i&&o(n,e,t,i)},n.prototype.hasArrow=function(e,t){return this.getNeighbors(e).has(t)},n.prototype.getArrowMeta=function(e,t){return this.arrowsMeta.get(e)&&this.arrowsMeta.get(e).get(t)},n.prototype.setArrowMeta=function(e,t,i){o(this,e,t,i)},n.prototype.getNeighbors=function(e){return this.arrows.get(e)},n.prototype.findNode=function(e){var t=null,i=this;for(var n of i.nodes)if(e(n)){t=n;break}return t},n.prototype.bfs=function(e){for(var t=this,i=t.nodes[0],n=[i],o=new Map([[i,!0]]);n.length;)e(i=n.shift()),t.arrows.get(i).forEach(function(e){o.has(e)||(n.push(e),o.set(e,!0))})},n.prototype.dfs=function(e){for(var t=this,i=t.nodes[0],n=[i],o=new Map;n.length;)e(i=n.pop()),o.has(i)||(o.set(i,!0),t.arrows.get(i).forEach(function(e){n.push(e)}))},n.prototype.reverse=function(){var e=this,t=new n;return e.nodes.forEach(t.addNode.bind(t)),e.nodes.forEach(function(i){e.getNeighbors(i).forEach(function(n){var o=e.getArrowMeta(i,n);t.addArrow(n,i,o)})}),t},i.exports=n}),define("can-debug@2.0.1#src/get-graph/make-node",["require","exports","module","can-reflect"],function(e,t,i){"use strict";var n=e("can-reflect");i.exports=function(e,t){var i=2===arguments.length,o={obj:e,name:n.getName(e),value:i?n.getKeyValue(e,t):n.getValue(e)};return i&&(o.key=t),o}}),define("can-debug@2.0.1#src/get-graph/get-graph",["require","exports","module","../graph/graph","./make-node","can-reflect","can-reflect-dependencies"],function(e,t,i){"use strict";var n=e("../graph/graph"),o=e("./make-node"),r=e("can-reflect"),s=e("can-reflect-dependencies");i.exports=function(e,t){var i=0,a=new n,u=function(e,t,i,n){switch(e){case"whatIChange":a.addArrow(t,i,n);break;case"whatChangesMe":a.addArrow(i,t,n);break;default:throw new Error("Unknown direction value: ",n.direction)}},l=function(e,t,i){r.eachKey(e.keyDependencies||{},function(e,n){r.each(e,function(e){i(n,t,e)})})},h=function(e,t,i){r.eachIndex(e.valueDependencies||[],function(e){i(e,t)})},c=function e(t,n,c){var d=3===arguments.length,p=a.findNode(function(e){return d?e.obj===t&&e.key===c:e.obj===t});if(p)return n.parent&&u(n.direction,n.parent,p,{kind:n.kind,direction:n.direction}),a;i+=1,(p=d?o(t,c):o(t)).order=i,a.addNode(p),n.parent&&u(n.direction,n.parent,p,{kind:n.kind,direction:n.direction});var f,m=d?s.getDependencyDataOf(t,c):s.getDependencyDataOf(t);return m&&m.whatIChange&&(f={direction:"whatIChange",parent:p},r.eachKey(m.whatIChange,function(t,i){f.kind=i,l(t,f,e),h(t,f,e)})),m&&m.whatChangesMe&&(f={direction:"whatChangesMe",parent:p},r.eachKey(m.whatChangesMe,function(t,i){f.kind=i,l(t,f,e),h(t,f,e)})),a};return 2===arguments.length?c(e,{},t):c(e,{})}}),define("can-debug@2.0.1#src/format-graph/format-graph",["require","exports","module","can-reflect"],function(e,t,i){"use strict";var n=e("can-reflect");i.exports=function(e){var t=new Map(e.nodes.map(function(e,t){return[e,t+1]})),i=e.nodes.map(function(e){return{shape:"box",id:t.get(e),label:n.getName(e.obj)+(e.key?"."+e.key:"")}}),o=function(e){return{derive:{arrows:"to"},mutate:{arrows:"to",dashes:!0}}[e.kind]},r=new Map,s=[];return e.nodes.forEach(function(i){var n=function(i){if(!r.has(i)){r.set(i,!0);var a=e.arrows.get(i),u=t.get(i);a.forEach(function(r){var a=t.get(r),l=e.arrowsMeta.get(i).get(r);s.push(Object.assign({from:u,to:a},o(l))),n(r)})}};n(i)}),{nodes:i,edges:s}}}),define("can-debug@2.0.1#src/log-data/log-data",["require","exports","module","can-reflect"],function(e,t,i){"use strict";var n=e("can-reflect"),o=function(e){return"string"==typeof e?JSON.stringify(e):e};i.exports=function e(t){var i=t.node,r=[i.name,"key"in i?"."+i.key:""];console.group(r.join("")),console.log("value  ",o(i.value)),console.log("object ",i.obj),t.derive.length&&(console.group("DERIVED FROM"),n.eachIndex(t.derive,e),console.groupEnd()),t.mutations.length&&(console.group("MUTATED BY"),n.eachIndex(t.mutations,e),console.groupEnd()),t.twoWay.length&&(console.group("TWO WAY"),n.eachIndex(t.twoWay,e),console.groupEnd()),console.groupEnd()}}),define("can-debug@2.0.1#src/label-cycles/label-cycles",["require","exports","module","../graph/graph"],function(e,t,i){"use strict";var n=e("../graph/graph");i.exports=function(e){var t=new Map,i=new n;return e.nodes.forEach(function(e){i.addNode(e)}),function n(o){t.set(o,!0),e.getNeighbors(o).forEach(function(r){t.has(r)?e.hasArrow(o,r)&&i.addArrow(r,o,{kind:"twoWay"}):(i.addArrow(o,r,e.getArrowMeta(o,r)),n(r))})}(e.nodes[0]),i}}),define("can-debug@2.0.1#src/get-data/get-data",["require","exports","module","../label-cycles/label-cycles"],function(e,t,i){"use strict";var n=e("../label-cycles/label-cycles"),o=function(e){return!e.derive.length&&!e.mutations.length&&!e.twoWay.length};i.exports=function(e,t){var i=new Map,r=n("whatChangesMe"===t?e.reverse():e),s=function e(t){var n={node:t,derive:[],mutations:[],twoWay:[]};return i.set(t,!0),r.getNeighbors(t).forEach(function(o){var s=r.getArrowMeta(t,o);if(!i.has(o))switch(s.kind){case"twoWay":n.twoWay.push(e(o));break;case"derive":n.derive.push(e(o));break;case"mutate":n.mutations.push(e(o));break;default:throw new Error("Unknow meta.kind value: ",s.kind)}}),n}(r.nodes[0]);return o(s)?null:s}}),define("can-debug@2.0.1#src/what-i-change/what-i-change",["require","exports","module","../log-data/log-data","../get-data/get-data","../get-graph/get-graph"],function(e,t,i){"use strict";var n=e("../log-data/log-data"),o=e("../get-data/get-data"),r=e("../get-graph/get-graph");i.exports=function(e,t){var i=2===arguments.length,s=o(i?r(e,t):r(e),"whatIChange");s&&n(s)}}),define("can-debug@2.0.1#src/what-changes-me/what-changes-me",["require","exports","module","../log-data/log-data","../get-data/get-data","../get-graph/get-graph"],function(e,t,i){"use strict";var n=e("../log-data/log-data"),o=e("../get-data/get-data"),r=e("../get-graph/get-graph");i.exports=function(e,t){var i=2===arguments.length,s=o(i?r(e,t):r(e),"whatChangesMe");s&&n(s)}}),define("can-debug@2.0.1#src/get-what-i-change/get-what-i-change",["require","exports","module","../get-data/get-data","../get-graph/get-graph"],function(e,t,i){"use strict";var n=e("../get-data/get-data"),o=e("../get-graph/get-graph");i.exports=function(e,t){var i=2===arguments.length;return n(i?o(e,t):o(e),"whatIChange")}}),define("can-debug@2.0.1#src/get-what-changes-me/get-what-changes-me",["require","exports","module","../get-data/get-data","../get-graph/get-graph"],function(e,t,i){"use strict";var n=e("../get-data/get-data"),o=e("../get-graph/get-graph");i.exports=function(e,t){var i=2===arguments.length;return n(i?o(e,t):o(e),"whatChangesMe")}}),define("can-diff@1.4.2#merge-deep/merge-deep",["require","exports","module","can-reflect","../list/list"],function(e,t,i){"use strict";function n(e,t){return t=a.serialize(t),a.isMoreListLikeThanMapLike(e)?r(e,t):o(e,t),e}function o(e,t){a.eachKey(e,function(i,n){if(a.hasKey(t,n)){var s=a.getKeyValue(t,n);if(a.deleteKeyValue(t,n),a.isPrimitive(i))a.setKeyValue(e,n,s);else{var u=Array.isArray(s),l=a.isMoreListLikeThanMapLike(i);if(l&&u)r(i,s);else if(!u&&!l&&a.isMapLike(i)&&a.isPlainObject(s)){var h=a.getSchema(i);if(h&&h.identity&&h.identity.length){var c=a.getIdentity(i,h);if(null!=c&&c===a.getIdentity(s,h))return void o(i,s)}a.setKeyValue(e,n,a.new(i.constructor,s))}else a.setKeyValue(e,n,s)}}else a.deleteKeyValue(e,n)}),a.eachKey(t,function(t,i){a.setKeyValue(e,i,t)})}function r(e,t){var i,n,r=a.getSchema(e);r&&(i=r.values),i&&(n=a.getSchema(i)),!n&&a.size(e)>0&&(n=a.getSchema(a.getKeyValue(e,0)));var l;l=n&&n.identity&&n.identity.length?function(e,t){var i=a.getIdentity(e,n)===a.getIdentity(t,n);return i&&o(e,t),i}:function(e,t){var i=e===t;return i&&(a.isPrimitive(e)||o(e,t)),i};var h=u(e,t,l),c=i?a.new.bind(a,i):function(e){return e};if(!h.length)return e;h.forEach(function(t){s(e,t,c)})}function s(e,t,i){var n=i&&t.insert.map(function(e){return i(e)})||t.insert,o=[t.index,t.deleteCount].concat(n);return e.splice.apply(e,o),e}var a=e("can-reflect"),u=e("../list/list");n.applyPatch=s,i.exports=n}),define("can-debug@2.0.1#can-debug",["require","exports","module","can-namespace","can-globals","./src/proxy-namespace","./src/temporarily-bind","./src/get-graph/get-graph","./src/format-graph/format-graph","./src/what-i-change/what-i-change","./src/what-changes-me/what-changes-me","./src/get-what-i-change/get-what-i-change","./src/get-what-changes-me/get-what-changes-me","can-symbol","can-reflect","can-queues","can-diff/merge-deep/merge-deep"],function(e,t,i){!function(e,t,i,n){"use strict";function o(){if(!b){var t={Symbol:m,Reflect:g,queues:v,getGraph:r.debug.getGraph,formatGraph:r.debug.formatGraph,mergeDeep:y};e.__CANJS_DEVTOOLS__?e.__CANJS_DEVTOOLS__.register(t):Object.defineProperty(e,"__CANJS_DEVTOOLS__",{set:function(i){Object.defineProperty(e,"__CANJS_DEVTOOLS__",{value:i}),i.register(t)},configurable:!0}),b=!0}}var r=t("can-namespace"),s=t("can-globals"),a=t("./src/proxy-namespace"),u=t("./src/temporarily-bind"),l=t("./src/get-graph/get-graph"),h=t("./src/format-graph/format-graph"),c=t("./src/what-i-change/what-i-change"),d=t("./src/what-changes-me/what-changes-me"),p=t("./src/get-what-i-change/get-what-i-change"),f=t("./src/get-what-changes-me/get-what-changes-me"),m=t("can-symbol"),g=t("can-reflect"),v=t("can-queues"),y=t("can-diff/merge-deep/merge-deep"),e=s.getKeyValue("global"),b=!1;n.exports=function(){return r.debug={getGraph:u(l),formatGraph:u(h),getWhatIChange:u(p),getWhatChangesMe:u(f),logWhatIChange:u(c),logWhatChangesMe:u(d)},o(),e.can="undefined"!=typeof Proxy?a(r):r,r.debug}}(function(){return this}(),e,0,i)}),define("can@5.17.0#enable-can-debug",["can-debug@2.0.1#can-debug"],function(e){"use strict";!function(e){e&&e.__esModule}(e)}),define("viewmodel-sandbox@1.0.0#code-editor/code-editor",["codemirror@5.42.0#lib/codemirror","esprima@3.1.3#dist/esprima","escodegen@1.11.0#escodegen","can-component@4.4.9#can-component","can-key@1.2.0#can-key","codemirror@5.42.0#mode/javascript/javascript","viewmodel-sandbox@1.0.0#code-editor/code-editor.less!steal-less@1.3.4#less","can@5.17.0#enable-can-debug","can-reflect@1.17.7#can-reflect"],function(e,t,i,n,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var s=r(e),a=r(t),u=r(i),l=r(n),h=r(o);l.default.extend({tag:"code-editor",view:'\n    <h2 class="center">ViewModel</h2>\n    <textarea value:bind="source"></textarea>\n  ',ViewModel:{connectedCallback:function(e){var t=this,i=e.querySelector("textarea"),n=s.default.fromTextArea(i,{lineNumbers:!0,viewportMargin:1/0,mode:{name:"javascript"}}),o=function(){var e=n.getValue();t.source=e};return n.on("change",o),function(){n.off("change",o)}},source:{value:function(e){var t=e.resolve,i=e.listenTo,n=e.lastSet,o=null,r=['import { DefineMap } from "can";',"","const ViewModel = DefineMap.extend({",'  first: { default: "Kevin" },','  last: { default: "McCallister" },',"  get name() { return `${this.first} ${this.last}`; }","});"].join("\n"),s=function(){t(r)};i(n,function(e){clearTimeout(o),r=e,o=setTimeout(s,500)}),t(r)}},ast:{value:function(e){var t=this,i=e.listenTo,n=e.resolve,o=function(){try{var e=a.default.parse(t.source,{sourceType:"module"});n(e)}catch(e){}};i("source",o),o()}},get propDefinitions(){var e=h.default.get(this.ast,"body[1].declarations[0].init.arguments[0]");return u.default.generate(e)},get canDependencies(){return h.default.get(this.ast,"body[0].specifiers").map(function(e){return e.imported.name})},ViewModel:{value:function(e){var t=this,i=e.listenTo,n=e.resolve,o="DefineMap";i("canDependencies",function(e,t){o=t});var r=function(){try{new Function('\n              return import("//unpkg.com/can@5/everything.mjs")\n                .then((module) => {\n                  const { '+o+" } = module;\n\n                  return DefineMap.extend("+t.propDefinitions+");\n                });\n            ")().then(function(e){n(e)})}catch(e){}};i("propDefinitions",r),r()}}}})}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vis@4.21.0#dist/vis",[],t):"object"==typeof exports?exports.vis=t():e.vis=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=123)}([function(e,t,i){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(i(169));t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(e,o.key,o)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i,n){var o=!1;!0===n&&(o=null===t[i]&&void 0!==e[i]),o?delete e[i]:e[i]=t[i]}var r=n(i(77)),s=n(i(29)),a=n(i(8)),u=n(i(6)),l=i(9),h=i(157);t.isNumber=function(e){return e instanceof Number||"number"==typeof e},t.recursiveDOMDelete=function(e){if(e)for(;!0===e.hasChildNodes();)t.recursiveDOMDelete(e.firstChild),e.removeChild(e.firstChild)},t.giveRange=function(e,t,i,n){if(t==e)return.5;var o=1/(t-e);return Math.max(0,(n-e)*o)},t.isString=function(e){return e instanceof String||"string"==typeof e},t.isDate=function(e){if(e instanceof Date)return!0;if(t.isString(e)){if(c.exec(e))return!0;if(!isNaN(Date.parse(e)))return!0}return!1},t.randomUUID=function(){return h.v4()},t.assignAllKeys=function(e,t){for(var i in e)e.hasOwnProperty(i)&&"object"!==(0,u.default)(e[i])&&(e[i]=t)},t.fillIfDefined=function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in e)void 0!==i[r]&&(null===i[r]||"object"!==(0,u.default)(i[r])?o(e,i,r,n):"object"===(0,u.default)(e[r])&&t.fillIfDefined(e[r],i[r],n))},t.extend=function(e,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e},t.selectiveExtend=function(e,t,i){if(!Array.isArray(e))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var o=arguments[n],r=0;r<e.length;r++){var s=e[r];o&&o.hasOwnProperty(s)&&(t[s]=o[s])}return t},t.selectiveDeepExtend=function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var s=0;s<e.length;s++){var a=e[s];if(n.hasOwnProperty(a))if(n[a]&&n[a].constructor===Object)void 0===i[a]&&(i[a]={}),i[a].constructor===Object?t.deepExtend(i[a],n[a],!1,r):o(i,n,a,r);else{if(Array.isArray(n[a]))throw new TypeError("Arrays are not supported by deepExtend");o(i,n,a,r)}}return i},t.selectiveNotDeepExtend=function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var s in n)if(n.hasOwnProperty(s)&&-1===e.indexOf(s))if(n[s]&&n[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?t.deepExtend(i[s],n[s]):o(i,n,s,r);else if(Array.isArray(n[s])){i[s]=[];for(var a=0;a<n[s].length;a++)i[s].push(n[s][a])}else o(i,n,s,r);return i},t.deepExtend=function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var s in i)if(i.hasOwnProperty(s)||!0===n)if(i[s]&&i[s].constructor===Object)void 0===e[s]&&(e[s]={}),e[s].constructor===Object?t.deepExtend(e[s],i[s],n):o(e,i,s,r);else if(Array.isArray(i[s])){e[s]=[];for(var a=0;a<i[s].length;a++)e[s].push(i[s][a])}else o(e,i,s,r);return e},t.equalArray=function(e,t){if(e.length!=t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i]!=t[i])return!1;return!0},t.convert=function(e,i){var n;if(void 0!==e){if(null===e)return null;if(!i)return e;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":return t.isString(e)&&!isNaN(Date.parse(e))?l(e).valueOf():Number(e.valueOf());case"string":case"String":return String(e);case"Date":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(l.isMoment(e))return new Date(e.valueOf());if(t.isString(e))return(n=c.exec(e))?new Date(Number(n[1])):l(new Date(e)).toDate();throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"Moment":if(t.isNumber(e))return l(e);if(e instanceof Date)return l(e.valueOf());if(l.isMoment(e))return l(e);if(t.isString(e))return n=c.exec(e),l(n?Number(n[1]):e);throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"ISODate":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(l.isMoment(e))return e.toDate().toISOString();if(t.isString(e))return(n=c.exec(e))?new Date(Number(n[1])).toISOString():l(e).format();throw new Error("Cannot convert object of type "+t.getType(e)+" to type ISODate");case"ASPDate":if(t.isNumber(e))return"/Date("+e+")/";if(e instanceof Date)return"/Date("+e.valueOf()+")/";if(t.isString(e))return"/Date("+((n=c.exec(e))?new Date(Number(n[1])).valueOf():new Date(e).valueOf())+")/";throw new Error("Cannot convert object of type "+t.getType(e)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var c=/^\/?Date\((\-?\d+)/i;t.getType=function(e){var t=void 0===e?"undefined":(0,u.default)(e);return"object"==t?null===e?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Array.isArray(e)?"Array":e instanceof Date?"Date":"Object":"number"==t?"Number":"boolean"==t?"Boolean":"string"==t?"String":void 0===t?"undefined":t},t.copyAndExtendArray=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i.push(t),i},t.copyArray=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t},t.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left},t.getAbsoluteRight=function(e){return e.getBoundingClientRect().right},t.getAbsoluteTop=function(e){return e.getBoundingClientRect().top},t.addClassName=function(e,t){var i=e.className.split(" "),n=t.split(" ");i=i.concat(n.filter(function(e){return i.indexOf(e)<0})),e.className=i.join(" ")},t.removeClassName=function(e,t){var i=e.className.split(" "),n=t.split(" ");i=i.filter(function(e){return n.indexOf(e)<0}),e.className=i.join(" ")},t.forEach=function(e,t){var i,n;if(Array.isArray(e))for(i=0,n=e.length;i<n;i++)t(e[i],i,e);else for(i in e)e.hasOwnProperty(i)&&t(e[i],i,e)},t.toArray=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},t.updateProperty=function(e,t,i){return e[t]!==i&&(e[t]=i,!0)},t.throttle=function(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame(function(){t=!1,e()}))}},t.addEventListener=function(e,t,i,n){e.addEventListener?(void 0===n&&(n=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.addEventListener(t,i,n)):e.attachEvent("on"+t,i)},t.removeEventListener=function(e,t,i,n){e.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.removeEventListener(t,i,n)):e.detachEvent("on"+t,i)},t.preventDefault=function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1},t.getTarget=function(e){e||(e=window.event);var t;return e.target?t=e.target:e.srcElement&&(t=e.srcElement),void 0!=t.nodeType&&3==t.nodeType&&(t=t.parentNode),t},t.hasParent=function(e,t){for(var i=e;i;){if(i===t)return!0;i=i.parentNode}return!1},t.option={},t.option.asBoolean=function(e,t){return"function"==typeof e&&(e=e()),null!=e?0!=e:t||null},t.option.asNumber=function(e,t){return"function"==typeof e&&(e=e()),null!=e?Number(e)||t||null:t||null},t.option.asString=function(e,t){return"function"==typeof e&&(e=e()),null!=e?String(e):t||null},t.option.asSize=function(e,i){return"function"==typeof e&&(e=e()),t.isString(e)?e:t.isNumber(e)?e+"px":i||null},t.option.asElement=function(e,t){return"function"==typeof e&&(e=e()),e||t||null},t.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},t.overrideOpacity=function(e,i){var n;return-1!=e.indexOf("rgba")?e:-1!=e.indexOf("rgb")?"rgba("+(n=e.substr(e.indexOf("(")+1).replace(")","").split(","))[0]+","+n[1]+","+n[2]+","+i+")":null==(n=t.hexToRGB(e))?e:"rgba("+n.r+","+n.g+","+n.b+","+i+")"},t.RGBToHex=function(e,t,i){return"#"+((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)},t.parseColor=function(e){var i;if(!0===t.isString(e)){if(!0===t.isValidRGB(e)){var n=e.substr(4).substr(0,e.length-5).split(",").map(function(e){return parseInt(e)});e=t.RGBToHex(n[0],n[1],n[2])}if(!0===t.isValidHex(e)){var o=t.hexToHSV(e),r={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},s={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},a=t.HSVToHex(s.h,s.s,s.v),u=t.HSVToHex(r.h,r.s,r.v);i={background:e,border:a,highlight:{background:u,border:a},hover:{background:u,border:a}}}else i={background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else(i={}).background=e.background||void 0,i.border=e.border||void 0,t.isString(e.highlight)?i.highlight={border:e.highlight,background:e.highlight}:(i.highlight={},i.highlight.background=e.highlight&&e.highlight.background||void 0,i.highlight.border=e.highlight&&e.highlight.border||void 0),t.isString(e.hover)?i.hover={border:e.hover,background:e.hover}:(i.hover={},i.hover.background=e.hover&&e.hover.background||void 0,i.hover.border=e.hover&&e.hover.border||void 0);return i},t.RGBToHSV=function(e,t,i){e/=255,t/=255,i/=255;var n=Math.min(e,Math.min(t,i)),o=Math.max(e,Math.max(t,i));if(n==o)return{h:0,s:0,v:n};var r=e==n?t-i:i==n?e-t:i-e;return{h:60*((e==n?3:i==n?1:5)-r/(o-n))/360,s:(o-n)/o,v:o}};var d={split:function(e){var t={};return e.split(";").forEach(function(e){if(""!=e.trim()){var i=e.split(":"),n=i[0].trim(),o=i[1].trim();t[n]=o}}),t},join:function(e){return(0,a.default)(e).map(function(t){return t+": "+e[t]}).join("; ")}};t.addCssText=function(e,i){var n=d.split(e.style.cssText),o=d.split(i),r=t.extend(n,o);e.style.cssText=d.join(r)},t.removeCssText=function(e,t){var i=d.split(e.style.cssText),n=d.split(t);for(var o in n)n.hasOwnProperty(o)&&delete i[o];e.style.cssText=d.join(i)},t.HSVToRGB=function(e,t,i){var n,o,r,s=Math.floor(6*e),a=6*e-s,u=i*(1-t),l=i*(1-a*t),h=i*(1-(1-a)*t);switch(s%6){case 0:n=i,o=h,r=u;break;case 1:n=l,o=i,r=u;break;case 2:n=u,o=i,r=h;break;case 3:n=u,o=l,r=i;break;case 4:n=h,o=u,r=i;break;case 5:n=i,o=u,r=l}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}},t.HSVToHex=function(e,i,n){var o=t.HSVToRGB(e,i,n);return t.RGBToHex(o.r,o.g,o.b)},t.hexToHSV=function(e){var i=t.hexToRGB(e);return t.RGBToHSV(i.r,i.g,i.b)},t.isValidHex=function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},t.isValidRGB=function(e){return e=e.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(e)},t.isValidRGBA=function(e){return e=e.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(e)},t.selectiveBridgeObject=function(e,i){if(null!==i&&"object"===(void 0===i?"undefined":(0,u.default)(i))){for(var n=(0,s.default)(i),o=0;o<e.length;o++)i.hasOwnProperty(e[o])&&"object"==(0,u.default)(i[e[o]])&&(n[e[o]]=t.bridgeObject(i[e[o]]));return n}return null},t.bridgeObject=function(e){if(null!==e&&"object"===(void 0===e?"undefined":(0,u.default)(e))){var i=(0,s.default)(e);if(e instanceof Element)i=e;else{i=(0,s.default)(e);for(var n in e)e.hasOwnProperty(n)&&"object"==(0,u.default)(e[n])&&(i[n]=t.bridgeObject(e[n]))}return i}return null},t.insertSort=function(e,t){for(var i=0;i<e.length;i++){for(var n=e[i],o=i;o>0&&t(n,e[o-1])<0;o--)e[o]=e[o-1];e[o]=n}return e},t.mergeOptions=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(e){return null!==e&&void 0!==e},r=function(e){return null!==e&&"object"===(void 0===e?"undefined":(0,u.default)(e))};if(!r(e))throw new Error("Parameter mergeTarget must be an object");if(!r(t))throw new Error("Parameter options must be an object");if(!o(i))throw new Error("Parameter option must have a value");if(!r(n))throw new Error("Parameter globalOptions must be an object");var a=t[i],l=r(n)&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(n)?n[i]:void 0,h=l?l.enabled:void 0;if(void 0!==a){if("boolean"==typeof a)return r(e[i])||(e[i]={}),void(e[i].enabled=a);if(null===a&&!r(e[i])){if(!o(l))return;e[i]=(0,s.default)(l)}if(r(a)){var c=!0;void 0!==a.enabled?c=a.enabled:void 0!==h&&(c=l.enabled),function(e,t,i){r(e[i])||(e[i]={});var n=t[i],o=e[i];for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s])}(e,t,i),e[i].enabled=c}}},t.binarySearchCustom=function(e,t,i,n){for(var o=0,r=0,s=e.length-1;r<=s&&o<1e4;){var a=Math.floor((r+s)/2),u=e[a],l=t(void 0===n?u[i]:u[i][n]);if(0==l)return a;-1==l?r=a+1:s=a-1,o++}return-1},t.binarySearchValue=function(e,t,i,n,o){var r,s,a,u,l=0,h=0,c=e.length-1;for(o=void 0!=o?o:function(e,t){return e==t?0:e<t?-1:1};h<=c&&l<1e4;){if(u=Math.floor(.5*(c+h)),r=e[Math.max(0,u-1)][i],s=e[u][i],a=e[Math.min(e.length-1,u+1)][i],0==o(s,t))return u;if(o(r,t)<0&&o(s,t)>0)return"before"==n?Math.max(0,u-1):u;if(o(s,t)<0&&o(a,t)>0)return"before"==n?u:Math.min(e.length-1,u+1);o(s,t)<0?h=u+1:c=u-1,l++}return-1},t.easingFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},t.getScrollBarWidth=function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;return i==n&&(n=t.clientWidth),document.body.removeChild(t),i-n},t.topMost=function(e,t){var i=void 0;Array.isArray(t)||(t=[t]);var n=!0,o=!1,s=void 0;try{for(var a,u=(0,r.default)(e);!(n=(a=u.next()).done);n=!0){var l=a.value;if(l){i=l[t[0]];for(var h=1;h<t.length;h++)i&&(i=i[t[h]]);if(void 0!==i)break}}}catch(e){o=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw s}}return i}},function(e,t,i){e.exports={default:i(194),__esModule:!0}},function(e,t,i){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(i(6));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(i(196)),r=n(i(29)),s=n(i(6));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(i(142)),r=n(i(144)),s="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};t.default="function"==typeof r.default&&"symbol"===s(o.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t){var i=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(e,t,i){e.exports={default:i(140),__esModule:!0}},function(e,t,i){e.exports="undefined"!=typeof window&&window.moment||i(154)},function(e,t,i){function n(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(t){return{set:e}}}}if("undefined"!=typeof window){var o=i(175),r=window.Hammer||i(176);e.exports=o(r,{preventDefault:"mouse"})}else e.exports=function(){return n()}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e&&!Array.isArray(e)&&(t=e,e=null),this._options=t||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,a.default)(this._options.type),n=0,o=i.length;n<o;n++){var r=i[n],s=this._options.type[r];this._type[r]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}this._subscribers={},e&&this.add(e),this.setOptions(t)}var r=n(i(19)),s=n(i(6)),a=n(i(8)),u=i(2),l=i(43);o.prototype.setOptions=function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=l.extend(this,{replace:["add","update","remove"]})),"object"===(0,s.default)(e.queue)&&this._queue.setOptions(e.queue)))},o.prototype.on=function(e,t){var i=this._subscribers[e];i||(i=[],this._subscribers[e]=i),i.push({callback:t})},o.prototype.off=function(e,t){var i=this._subscribers[e];i&&(this._subscribers[e]=i.filter(function(e){return e.callback!=t}))},o.prototype._trigger=function(e,t,i){if("*"==e)throw new Error("Cannot trigger event *");var n=[];e in this._subscribers&&(n=n.concat(this._subscribers[e])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var o=0,r=n.length;o<r;o++){var s=n[o];s.callback&&s.callback(e,t,i||null)}},o.prototype.add=function(e,t){var i,n=[],o=this;if(Array.isArray(e))for(var r=0,a=e.length;r<a;r++)i=o._addItem(e[r]),n.push(i);else{if(!e||"object"!==(void 0===e?"undefined":(0,s.default)(e)))throw new Error("Unknown dataType");i=o._addItem(e),n.push(i)}return n.length&&this._trigger("add",{items:n},t),n},o.prototype.update=function(e,t){var i=[],n=[],o=[],r=[],a=this,l=a._fieldId,h=function(e){var t=e[l];if(a._data[t]){var s=u.extend({},a._data[t]);t=a._updateItem(e),n.push(t),r.push(e),o.push(s)}else t=a._addItem(e),i.push(t)};if(Array.isArray(e))for(var c=0,d=e.length;c<d;c++)e[c]&&"object"===(0,s.default)(e[c])?h(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else{if(!e||"object"!==(void 0===e?"undefined":(0,s.default)(e)))throw new Error("Unknown dataType");h(e)}if(i.length&&this._trigger("add",{items:i},t),n.length){var p={items:n,oldData:o,data:r};this._trigger("update",p,t)}return i.concat(n)},o.prototype.get=function(e){var t,i,n,o=this,r=u.getType(arguments[0]);"String"==r||"Number"==r?(t=arguments[0],n=arguments[1]):"Array"==r?(i=arguments[0],n=arguments[1]):n=arguments[0];var s;s=n&&n.returnType?-1==["Array","Object"].indexOf(n.returnType)?"Array":n.returnType:"Array";var l,h,c,d,p,f=n&&n.type||this._options.type,m=n&&n.filter,g=[];if(void 0!=t)(l=o._getItem(t,f))&&m&&!m(l)&&(l=null);else if(void 0!=i)for(d=0,p=i.length;d<p;d++)l=o._getItem(i[d],f),m&&!m(l)||g.push(l);else for(d=0,p=(h=(0,a.default)(this._data)).length;d<p;d++)c=h[d],l=o._getItem(c,f),m&&!m(l)||g.push(l);if(n&&n.order&&void 0==t&&this._sort(g,n.order),n&&n.fields){var v=n.fields;if(void 0!=t)l=this._filterFields(l,v);else for(d=0,p=g.length;d<p;d++)g[d]=this._filterFields(g[d],v)}if("Object"==s){var y,b={};for(d=0,p=g.length;d<p;d++)b[(y=g[d]).id]=y;return b}return void 0!=t?l:g},o.prototype.getIds=function(e){var t,i,n,o,r,s=this._data,u=e&&e.filter,l=e&&e.order,h=e&&e.type||this._options.type,c=(0,a.default)(s),d=[];if(u)if(l){for(r=[],t=0,i=c.length;t<i;t++)n=c[t],u(o=this._getItem(n,h))&&r.push(o);for(this._sort(r,l),t=0,i=r.length;t<i;t++)d.push(r[t][this._fieldId])}else for(t=0,i=c.length;t<i;t++)n=c[t],u(o=this._getItem(n,h))&&d.push(o[this._fieldId]);else if(l){for(r=[],t=0,i=c.length;t<i;t++)n=c[t],r.push(s[n]);for(this._sort(r,l),t=0,i=r.length;t<i;t++)d.push(r[t][this._fieldId])}else for(t=0,i=c.length;t<i;t++)o=s[n=c[t]],d.push(o[this._fieldId]);return d},o.prototype.getDataSet=function(){return this},o.prototype.forEach=function(e,t){var i,n,o,r,s=t&&t.filter,u=t&&t.type||this._options.type,l=this._data,h=(0,a.default)(l);if(t&&t.order){var c=this.get(t);for(i=0,n=c.length;i<n;i++)e(o=c[i],r=o[this._fieldId])}else for(i=0,n=h.length;i<n;i++)r=h[i],o=this._getItem(r,u),s&&!s(o)||e(o,r)},o.prototype.map=function(e,t){var i,n,o,r,s=t&&t.filter,u=t&&t.type||this._options.type,l=[],h=this._data,c=(0,a.default)(h);for(i=0,n=c.length;i<n;i++)o=c[i],r=this._getItem(o,u),s&&!s(r)||l.push(e(r,o));return t&&t.order&&this._sort(l,t.order),l},o.prototype._filterFields=function(e,t){if(!e)return e;var i,n,o={},r=(0,a.default)(e),s=r.length;if(Array.isArray(t))for(i=0;i<s;i++)n=r[i],-1!=t.indexOf(n)&&(o[n]=e[n]);else for(i=0;i<s;i++)n=r[i],t.hasOwnProperty(n)&&(o[t[n]]=e[n]);return o},o.prototype._sort=function(e,t){if(u.isString(t)){var i=t;e.sort(function(e,t){var n=e[i],o=t[i];return n>o?1:n<o?-1:0})}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");e.sort(t)}},o.prototype.remove=function(e,t){var i,n,o,r,s=[],a=[],u=[];for(i=0,n=(u=Array.isArray(e)?e:[e]).length;i<n;i++)(r=this._remove(u[i]))&&void 0!=(o=r[this._fieldId])&&(s.push(o),a.push(r));return s.length&&this._trigger("remove",{items:s,oldData:a},t),s},o.prototype._remove=function(e){var t,i;return u.isNumber(e)||u.isString(e)?i=e:e&&"object"===(void 0===e?"undefined":(0,s.default)(e))&&(i=e[this._fieldId]),void 0!==i&&this._data[i]?(t=this._data[i],delete this._data[i],this.length--,t):null},o.prototype.clear=function(e){var t,i,n=(0,a.default)(this._data),o=[];for(t=0,i=n.length;t<i;t++)o.push(this._data[n[t]]);return this._data={},this.length=0,this._trigger("remove",{items:n,oldData:o},e),n},o.prototype.max=function(e){var t,i,n=this._data,o=(0,a.default)(n),r=null,s=null;for(t=0,i=o.length;t<i;t++){var u=n[o[t]],l=u[e];null!=l&&(!r||l>s)&&(r=u,s=l)}return r},o.prototype.min=function(e){var t,i,n=this._data,o=(0,a.default)(n),r=null,s=null;for(t=0,i=o.length;t<i;t++){var u=n[o[t]],l=u[e];null!=l&&(!r||l<s)&&(r=u,s=l)}return r},o.prototype.distinct=function(e){var t,i,n,o=this._data,r=(0,a.default)(o),s=[],l=this._options.type&&this._options.type[e]||null,h=0;for(t=0,n=r.length;t<n;t++){var c=o[r[t]][e],d=!1;for(i=0;i<h;i++)if(s[i]==c){d=!0;break}d||void 0===c||(s[h]=c,h++)}if(l)for(t=0,n=s.length;t<n;t++)s[t]=u.convert(s[t],l);return s},o.prototype._addItem=function(e){var t=e[this._fieldId];if(void 0!=t){if(this._data[t])throw new Error("Cannot add item: item with id "+t+" already exists")}else t=u.randomUUID(),e[this._fieldId]=t;var i,n,o={},r=(0,a.default)(e);for(i=0,n=r.length;i<n;i++){var s=r[i],l=this._type[s];o[s]=u.convert(e[s],l)}return this._data[t]=o,this.length++,t},o.prototype._getItem=function(e,t){var i,n,o,r,s=this._data[e];if(!s)return null;var l={},h=(0,a.default)(s);if(t)for(o=0,r=h.length;o<r;o++)n=s[i=h[o]],l[i]=u.convert(n,t[i]);else for(o=0,r=h.length;o<r;o++)n=s[i=h[o]],l[i]=n;return l[this._fieldId]||(l[this._fieldId]=s.id),l},o.prototype._updateItem=function(e){var t=e[this._fieldId];if(void 0==t)throw new Error("Cannot update item: item has no id (item: "+(0,r.default)(e)+")");var i=this._data[t];if(!i)throw new Error("Cannot update item: no item with id "+t+" found");for(var n=(0,a.default)(e),o=0,s=n.length;o<s;o++){var l=n[o],h=this._type[l];i[l]=u.convert(e[l],h)}return t},e.exports=o},function(e,t,i){function n(e,t){this._data=null,this._ids={},this.length=0,this._options=t||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(e)}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(8)),r=i(2),s=i(11);n.prototype.setData=function(e){var t,i,n,o,r;if(this._data){for(this._data.off&&this._data.off("*",this.listener),r=[],n=0,o=(t=this._data.getIds({filter:this._options&&this._options.filter})).length;n<o;n++)r.push(this._data._data[t[n]]);this._ids={},this.length=0,this._trigger("remove",{items:t,oldData:r})}if(this._data=e,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",n=0,o=(t=this._data.getIds({filter:this._options&&this._options.filter})).length;n<o;n++)i=t[n],this._ids[i]=!0;this.length=t.length,this._trigger("add",{items:t}),this._data.on&&this._data.on("*",this.listener)}},n.prototype.refresh=function(){var e,t,i,n=this._data.getIds({filter:this._options&&this._options.filter}),r=(0,o.default)(this._ids),s={},a=[],u=[],l=[];for(t=0,i=n.length;t<i;t++)s[e=n[t]]=!0,this._ids[e]||(a.push(e),this._ids[e]=!0);for(t=0,i=r.length;t<i;t++)s[e=r[t]]||(u.push(e),l.push(this._data._data[e]),delete this._ids[e]);this.length+=a.length-u.length,a.length&&this._trigger("add",{items:a}),u.length&&this._trigger("remove",{items:u,oldData:l})},n.prototype.get=function(e){var t,i,n,o=this,s=r.getType(arguments[0]);"String"==s||"Number"==s||"Array"==s?(t=arguments[0],i=arguments[1],n=arguments[2]):(i=arguments[0],n=arguments[1]);var a=r.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(e){return o._options.filter(e)&&i.filter(e)});var u=[];return void 0!=t&&u.push(t),u.push(a),u.push(n),this._data&&this._data.get.apply(this._data,u)},n.prototype.getIds=function(e){var t;if(this._data){var i,n=this._options.filter;i=e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,t=this._data.getIds({filter:i,order:e&&e.order})}else t=[];return t},n.prototype.map=function(e,t){var i=[];if(this._data){var n,o=this._options.filter;n=t&&t.filter?o?function(e){return o(e)&&t.filter(e)}:t.filter:o,i=this._data.map(e,{filter:n,order:t&&t.order})}else i=[];return i},n.prototype.getDataSet=function(){for(var e=this;e instanceof n;)e=e._data;return e||null},n.prototype._onEvent=function(e,t,i){var n,o,r,s=t&&t.items,a=[],u=[],l=[],h=[],c=[],d=[];if(s&&this._data){switch(e){case"add":for(n=0,o=s.length;n<o;n++)r=s[n],this.get(r)&&(this._ids[r]=!0,a.push(r));break;case"update":for(n=0,o=s.length;n<o;n++)r=s[n],this.get(r)?this._ids[r]?(u.push(r),c.push(t.data[n]),h.push(t.oldData[n])):(this._ids[r]=!0,a.push(r)):this._ids[r]&&(delete this._ids[r],l.push(r),d.push(t.oldData[n]));break;case"remove":for(n=0,o=s.length;n<o;n++)r=s[n],this._ids[r]&&(delete this._ids[r],l.push(r),d.push(t.oldData[n]))}this.length+=a.length-l.length,a.length&&this._trigger("add",{items:a},i),u.length&&this._trigger("update",{items:u,oldData:h,data:c},i),l.length&&this._trigger("remove",{items:l,oldData:d},i)}},n.prototype.on=s.prototype.on,n.prototype.off=s.prototype.off,n.prototype._trigger=s.prototype._trigger,n.prototype.subscribe=n.prototype.on,n.prototype.unsubscribe=n.prototype.off,e.exports=n},function(e,t,i){var n=i(57)("wks"),o=i(40),r=i(18).Symbol,s="function"==typeof r;(e.exports=function(e){return n[e]||(n[e]=s&&r[e]||(s?r:o)("Symbol."+e))}).store=n},function(e,t,i){t.prepareElements=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].redundant=e[t].used,e[t].used=[])},t.cleanupElements=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].redundant){for(var i=0;i<e[t].redundant.length;i++)e[t].redundant[i].parentNode.removeChild(e[t].redundant[i]);e[t].redundant=[]}},t.resetElements=function(e){t.prepareElements(e),t.cleanupElements(e),t.prepareElements(e)},t.getSVGElement=function(e,t,i){var n;return t.hasOwnProperty(e)?t[e].redundant.length>0?(n=t[e].redundant[0],t[e].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",e),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",e),t[e]={used:[],redundant:[]},i.appendChild(n)),t[e].used.push(n),n},t.getDOMElement=function(e,t,i,n){var o;return t.hasOwnProperty(e)?t[e].redundant.length>0?(o=t[e].redundant[0],t[e].redundant.shift()):(o=document.createElement(e),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(e),t[e]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),t[e].used.push(o),o},t.drawPoint=function(e,i,n,o,r,s){var a;if("circle"==n.style?((a=t.getSVGElement("circle",o,r)).setAttributeNS(null,"cx",e),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):((a=t.getSVGElement("rect",o,r)).setAttributeNS(null,"x",e-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),s){var u=t.getSVGElement("text",o,r);s.xOffset&&(e+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(u.textContent=s.content),s.className&&u.setAttributeNS(null,"class",s.className+" vis-label"),u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",i)}return a},t.drawBar=function(e,i,n,o,r,s,a,u){if(0!=o){o<0&&(i-=o*=-1);var l=t.getSVGElement("rect",s,a);l.setAttributeNS(null,"x",e-.5*n),l.setAttributeNS(null,"y",i),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",o),l.setAttributeNS(null,"class",r),u&&l.setAttributeNS(null,"style",u)}}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.printStyle=void 0;var o=n(i(19)),r=n(i(6)),s=n(i(8)),a=n(i(0)),u=n(i(1)),l=i(2),h=!1,c=void 0,d="background: #FFeeee; color: #dd0000",p=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,null,[{key:"validate",value:function(t,i,n){h=!1,c=i;var o=i;return void 0!==n&&(o=i[n]),e.parse(t,o,[]),h}},{key:"parse",value:function(t,i,n){for(var o in t)t.hasOwnProperty(o)&&e.check(o,t,i,n)}},{key:"check",value:function(t,i,n,o){if(void 0!==n[t]||void 0!==n.__any__){var r=t,s=!0;void 0===n[t]&&void 0!==n.__any__&&(r="__any__",s="object"===e.getType(i[t]));var a=n[r];s&&void 0!==a.__type__&&(a=a.__type__),e.checkFields(t,i,n,r,a,o)}else e.getSuggestion(t,n,o)}},{key:"checkFields",value:function(t,i,n,o,r,a){var u=function(i){console.log("%c"+i+e.printLocation(a,t),d)},c=e.getType(i[t]),p=r[c];void 0!==p?"array"===e.getType(p)&&-1===p.indexOf(i[t])?(u('Invalid option detected in "'+t+'". Allowed values are:'+e.print(p)+' not "'+i[t]+'". '),h=!0):"object"===c&&"__any__"!==o&&(a=l.copyAndExtendArray(a,t),e.parse(i[t],n[o],a)):void 0===r.any&&(u('Invalid type received for "'+t+'". Expected: '+e.print((0,s.default)(r))+". Received ["+c+'] "'+i[t]+'"'),h=!0)}},{key:"getType",value:function(e){var t=void 0===e?"undefined":(0,r.default)(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,i,n){var o=e.findInOptions(t,i,n,!1),r=e.findInOptions(t,c,[],!0),a=void 0;a=void 0!==o.indexMatch?" in "+e.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=4&&o.distance>r.distance?" in "+e.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(r.path,r.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,t):". Did you mean one of these: "+e.print((0,s.default)(i))+e.printLocation(n,t),console.log('%cUnknown option detected: "'+t+'"'+a,d),h=!0}},{key:"findInOptions",value:function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],u=t.toLowerCase(),h=void 0;for(var c in i){var d=void 0;if(void 0!==i[c].__type__&&!0===o){var p=e.findInOptions(t,i[c],l.copyAndExtendArray(n,c));r>p.distance&&(s=p.closestMatch,a=p.path,r=p.distance,h=p.indexMatch)}else-1!==c.toLowerCase().indexOf(u)&&(h=c),r>(d=e.levenshteinDistance(t,c))&&(s=c,a=l.copyArray(n),r=d)}return{closestMatch:s,path:a,distance:r,indexMatch:h}}},{key:"printLocation",value:function(e,t){for(var i="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<e.length;n++){for(var o=0;o<n+1;o++)i+="  ";i+=e[n]+": {\n"}for(var r=0;r<e.length+1;r++)i+="  ";i+=t+"\n";for(var s=0;s<e.length+1;s++){for(var a=0;a<e.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(e){return(0,o.default)(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var i,n=[];for(i=0;i<=t.length;i++)n[i]=[i];var o;for(o=0;o<=e.length;o++)n[0][o]=o;for(i=1;i<=t.length;i++)for(o=1;o<=e.length;o++)t.charAt(i-1)==e.charAt(o-1)?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[t.length][e.length]}}]),e}();t.default=p,t.printStyle=d},function(e,t,i){function n(e,t){this.options=null,this.props=null}var o=i(2);n.prototype.setOptions=function(e){e&&o.extend(this.options,e)},n.prototype.redraw=function(){return!1},n.prototype.destroy=function(){},n.prototype._isResized=function(){var e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e},e.exports=n},function(e,t,i){var n=i(18),o=i(7),r=i(80),s=i(26),a=function(e,t,i){var u,l,h,c=e&a.F,d=e&a.G,p=e&a.S,f=e&a.P,m=e&a.B,g=e&a.W,v=d?o:o[t]||(o[t]={}),y=v.prototype,b=d?n:p?n[t]:(n[t]||{}).prototype;d&&(i=t);for(u in i)(l=!c&&b&&void 0!==b[u])&&u in v||(h=l?b[u]:i[u],v[u]=d&&"function"!=typeof b[u]?i[u]:m&&l?r(h,n):g&&b[u]==h?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):f&&"function"==typeof h?r(Function.call,h):h,f&&((v.virtual||(v.virtual={}))[u]=h,e&a.R&&y&&!y[u]&&s(y,u,h)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){e.exports={default:i(160),__esModule:!0}},function(e,t,i){var n=i(27),o=i(81),r=i(53),s=Object.defineProperty;t.f=i(21)?Object.defineProperty:function(e,t,i){if(n(e),t=r(t,!0),n(i),o)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){e.exports=!i(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(6)),r=n(i(0)),s=n(i(1)),a=function(){function e(t,i,n){(0,r.default)(this,e),this.body=i,this.labelModule=n,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,s.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==(0,o.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var i=this.options.borderWidth;return this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var i=t.borderDashes;!0===i&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var i=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,i),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var i=t.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){this.enableShadow(e,t),e.fill(),this.disableShadow(e,t),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,i,n,o){this._updateBoundingBox(e,t,i,n,o)}},{key:"getDimensionsFromLabel",value:function(e,t,i){this.textSize=this.labelModule.getTextSize(e,t,i);var n=this.textSize.width,o=this.textSize.height;return 0===n&&(n=14,o=14),{width:n,height:o}}}]),e}();t.default=a},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,i)){this.labelModule.getTextSize(e,t,i);var o=2*n.size;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,i,n,o,r,s,a){if(this.resize(e,r,s,a),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(e,a),e[t](n,o,a.size),this.performFill(e,a),void 0!==this.options.label){this.labelModule.calculateLabelSize(e,r,s,n,o,"hanging");var u=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,u,r,s,"hanging")}this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(n(i(23)).default);t.default=l},function(e,t,i){var n=i(78),o=i(51);e.exports=function(e){return n(o(e))}},function(e,t,i){var n=i(20),o=i(39);e.exports=i(21)?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(32);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){e.exports={default:i(138),__esModule:!0}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(i(188)),r=n(i(77));t.default=function(){function e(e,t){var i=[],n=!0,o=!1,s=void 0;try{for(var a,u=(0,r.default)(e);!(n=(a=u.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw s}}return i}return function(t,i){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t){e.exports={}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){var n=i(84),o=i(58);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,i){function n(e,t,i){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0,this.z=void 0!==i?i:0}n.subtract=function(e,t){var i=new n;return i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i},n.add=function(e,t){var i=new n;return i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i},n.avg=function(e,t){return new n((e.x+t.x)/2,(e.y+t.y)/2,(e.z+t.z)/2)},n.crossProduct=function(e,t){var i=new n;return i.x=e.y*t.z-e.z*t.y,i.y=e.z*t.x-e.x*t.z,i.z=e.x*t.y-e.y*t.x,i},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.exports=n},function(e,t,i){var n,o,r;!function(i,s){o=[],void 0!==(r="function"==typeof(n=s)?n.apply(t,o):n)&&(e.exports=r)}(0,function(){return function(e){var t,i=e&&e.preventDefault||!1,n=e&&e.container||window,o={},r={keydown:{},keyup:{}},s={};for(t=97;t<=122;t++)s[String.fromCharCode(t)]={code:t-97+65,shift:!1};for(t=65;t<=90;t++)s[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)s[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)s["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)s["num"+t]={code:96+t,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(e){l(e,"keydown")},u=function(e){l(e,"keyup")},l=function(e,t){if(void 0!==r[t][e.keyCode]){for(var n=r[t][e.keyCode],o=0;o<n.length;o++)void 0===n[o].shift?n[o].fn(e):1==n[o].shift&&1==e.shiftKey?n[o].fn(e):0==n[o].shift&&0==e.shiftKey&&n[o].fn(e);1==i&&e.preventDefault()}};return o.bind=function(e,t,i){if(void 0===i&&(i="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);void 0===r[i][s[e].code]&&(r[i][s[e].code]=[]),r[i][s[e].code].push({fn:t,shift:s[e].shift})},o.bindAll=function(e,t){void 0===t&&(t="keydown");for(var i in s)s.hasOwnProperty(i)&&o.bind(i,e,t)},o.getKey=function(e){for(var t in s)if(s.hasOwnProperty(t)){if(1==e.shiftKey&&1==s[t].shift&&e.keyCode==s[t].code)return t;if(0==e.shiftKey&&0==s[t].shift&&e.keyCode==s[t].code)return t;if(e.keyCode==s[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},o.unbind=function(e,t,i){if(void 0===i&&(i="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);if(void 0!==t){var n=[],o=r[i][s[e].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==t&&o[a].shift==s[e].shift||n.push(r[i][s[e].code][a]);r[i][s[e].code]=n}else r[i][s[e].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",u,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",u,!0),o}})},function(e,t,i){t.convertHiddenOptions=function(e,i,n){if(n&&!Array.isArray(n))return t.convertHiddenOptions(e,i,[n]);if(i.hiddenDates=[],n&&1==Array.isArray(n)){for(var o=0;o<n.length;o++)if(void 0===n[o].repeat){var r={};r.start=e(n[o].start).toDate().valueOf(),r.end=e(n[o].end).toDate().valueOf(),i.hiddenDates.push(r)}i.hiddenDates.sort(function(e,t){return e.start-t.start})}},t.updateHiddenDates=function(e,i,n){if(n&&!Array.isArray(n))return t.updateHiddenDates(e,i,[n]);if(n&&void 0!==i.domProps.centerContainer.width){t.convertHiddenOptions(e,i,n);for(var o=e(i.range.start),r=e(i.range.end),s=(i.range.end-i.range.start)/i.domProps.centerContainer.width,a=0;a<n.length;a++)if(void 0!==n[a].repeat){var u=e(n[a].start),l=e(n[a].end);if("Invalid Date"==u._d)throw new Error("Supplied start date is not valid: "+n[a].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+n[a].end);if(l-u>=4*s){var h=0,c=r.clone();switch(n[a].repeat){case"daily":u.day()!=l.day()&&(h=1),u.dayOfYear(o.dayOfYear()),u.year(o.year()),u.subtract(7,"days"),l.dayOfYear(o.dayOfYear()),l.year(o.year()),l.subtract(7-h,"days"),c.add(1,"weeks");break;case"weekly":var d=l.diff(u,"days"),p=u.day();u.date(o.date()),u.month(o.month()),u.year(o.year()),l=u.clone(),u.day(p),l.day(p),l.add(d,"days"),u.subtract(1,"weeks"),l.subtract(1,"weeks"),c.add(1,"weeks");break;case"monthly":u.month()!=l.month()&&(h=1),u.month(o.month()),u.year(o.year()),u.subtract(1,"months"),l.month(o.month()),l.year(o.year()),l.subtract(1,"months"),l.add(h,"months"),c.add(1,"months");break;case"yearly":u.year()!=l.year()&&(h=1),u.year(o.year()),u.subtract(1,"years"),l.year(o.year()),l.subtract(1,"years"),l.add(h,"years"),c.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}for(;u<c;)switch(i.hiddenDates.push({start:u.valueOf(),end:l.valueOf()}),n[a].repeat){case"daily":u.add(1,"days"),l.add(1,"days");break;case"weekly":u.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":u.add(1,"months"),l.add(1,"months");break;case"yearly":u.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}i.hiddenDates.push({start:u.valueOf(),end:l.valueOf()})}}t.removeDuplicates(i);var f=t.isHidden(i.range.start,i.hiddenDates),m=t.isHidden(i.range.end,i.hiddenDates),g=i.range.start,v=i.range.end;1==f.hidden&&(g=1==i.range.startToFront?f.startDate-1:f.endDate+1),1==m.hidden&&(v=1==i.range.endToFront?m.startDate-1:m.endDate+1),1!=f.hidden&&1!=m.hidden||i.range._applyRange(g,v)}},t.removeDuplicates=function(e){for(var t=e.hiddenDates,i=[],n=0;n<t.length;n++)for(var o=0;o<t.length;o++)n!=o&&1!=t[o].remove&&1!=t[n].remove&&(t[o].start>=t[n].start&&t[o].end<=t[n].end?t[o].remove=!0:t[o].start>=t[n].start&&t[o].start<=t[n].end?(t[n].end=t[o].end,t[o].remove=!0):t[o].end>=t[n].start&&t[o].end<=t[n].end&&(t[n].start=t[o].start,t[o].remove=!0));for(n=0;n<t.length;n++)!0!==t[n].remove&&i.push(t[n]);e.hiddenDates=i,e.hiddenDates.sort(function(e,t){return e.start-t.start})},t.printDates=function(e){for(var t=0;t<e.length;t++)console.log(t,new Date(e[t].start),new Date(e[t].end),e[t].start,e[t].end,e[t].remove)},t.stepOverHiddenDates=function(e,t,i){for(var n=!1,o=t.current.valueOf(),r=0;r<t.hiddenDates.length;r++){var s=t.hiddenDates[r].start,a=t.hiddenDates[r].end;if(o>=s&&o<a){n=!0;break}}if(1==n&&o<t._end.valueOf()&&o!=i){var u=e(i),l=e(a);u.year()!=l.year()?t.switchedYear=!0:u.month()!=l.month()?t.switchedMonth=!0:u.dayOfYear()!=l.dayOfYear()&&(t.switchedDay=!0),t.current=l}},t.toScreen=function(e,i,n){var o;if(0==e.body.hiddenDates.length)return o=e.range.conversion(n),(i.valueOf()-o.offset)*o.scale;var r=t.isHidden(i,e.body.hiddenDates);1==r.hidden&&(i=r.startDate);var s=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end);if(i<e.range.start){o=e.range.conversion(n,s);var a=t.getHiddenDurationBeforeStart(e.body.hiddenDates,i,o.offset);return i=e.options.moment(i).toDate().valueOf(),i+=a,-(o.offset-i.valueOf())*o.scale}if(i>e.range.end){var u={start:e.range.start,end:i};return i=t.correctTimeForHidden(e.options.moment,e.body.hiddenDates,u,i),o=e.range.conversion(n,s),(i.valueOf()-o.offset)*o.scale}return i=t.correctTimeForHidden(e.options.moment,e.body.hiddenDates,e.range,i),o=e.range.conversion(n,s),(i.valueOf()-o.offset)*o.scale},t.toTime=function(e,i,n){if(0==e.body.hiddenDates.length){var o=e.range.conversion(n);return new Date(i/o.scale+o.offset)}var r=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end),s=(e.range.end-e.range.start-r)*i/n,a=t.getAccumulatedHiddenDuration(e.body.hiddenDates,e.range,s);return new Date(a+s+e.range.start)},t.getHiddenDurationBetween=function(e,t,i){for(var n=0,o=0;o<e.length;o++){var r=e[o].start,s=e[o].end;r>=t&&s<i&&(n+=s-r)}return n},t.getHiddenDurationBeforeStart=function(e,t,i){for(var n=0,o=0;o<e.length;o++){var r=e[o].start,s=e[o].end;r>=t&&s<=i&&(n+=s-r)}return n},t.correctTimeForHidden=function(e,i,n,o){return o=e(o).toDate().valueOf(),o-=t.getHiddenDurationBefore(e,i,n,o)},t.getHiddenDurationBefore=function(e,t,i,n){var o=0;n=e(n).toDate().valueOf();for(var r=0;r<t.length;r++){var s=t[r].start,a=t[r].end;s>=i.start&&a<i.end&&n>=a&&(o+=a-s)}return o},t.getAccumulatedHiddenDuration=function(e,t,i){for(var n=0,o=0,r=t.start,s=0;s<e.length;s++){var a=e[s].start,u=e[s].end;if(a>=t.start&&u<t.end){if(o+=a-r,r=u,o>=i)break;n+=u-a}}return n},t.snapAwayFromHidden=function(e,i,n,o){var r=t.isHidden(i,e);return 1==r.hidden?n<0?1==o?r.startDate-(r.endDate-i)-1:r.startDate-1:1==o?r.endDate+(i-r.startDate)+1:r.endDate+1:i},t.isHidden=function(e,t){for(var i=0;i<t.length;i++){var n=t[i].start,o=t[i].end;if(e>=n&&e<o)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}},function(e,t,i){t.onTouch=function(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)},t.onRelease=function(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)},t.offTouch=function(e,t){e.off("hammer.input",t.inputHandler)},t.offRelease=t.offTouch,t.disablePreventDefaultVertically=function(e){return e.getTouchAction=function(){return["pan-y"]},e}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}var r=n(i(6)),s=n(i(8)),a=i(10),u=i(2),l=i(9);o.prototype.stack=!0,o.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setData=function(e){void 0!=e.group&&this.data.group!=e.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,e.group),this.parent&&(this.parent.stackDirty=!0),void 0!=e.subgroup&&this.data.subgroup!=e.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setParent=function(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e},o.prototype.isVisible=function(e){return!1},o.prototype.show=function(){return!1},o.prototype.hide=function(){return!1},o.prototype.redraw=function(){},o.prototype.repositionX=function(){},o.prototype.repositionY=function(){},o.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this;var i=new a(t);i.on("tap",function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})}),i.on("doubletap",function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},o.prototype._repaintDeleteButton=function(e){var t=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){var i=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete",n.title="Delete this item",new a(n).on("tap",function(e){e.stopPropagation(),i.parent.removeFromDataSet(i)}),e.appendChild(n),this.dom.deleteButton=n}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},o.prototype._repaintOnItemUpdateTimeTooltip=function(e){if(this.options.tooltipOnItemUpdateTime){var t=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",e.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var n=this.parent.itemSet.body.domProps.scrollTop;("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-n?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px");var o;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?o=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(o="start: "+l(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(o+="<br> end: "+l(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=o}}},o.prototype._updateContents=function(e){var t,i,n,o,r=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,a=s.getElementsByClassName("vis-item-visible-frame")[0];if(n=this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this))(r,s):"",a)if(n instanceof Object&&!(n instanceof Element))o(r,a);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element)a.innerHTML="",a.appendChild(n);else if(void 0!=n)a.innerHTML=n;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=n}if((t=this.options.template?(i=this.options.template.bind(this))(r,e,this.data):this.data.content)instanceof Object&&!(t instanceof Element))i(r,e);else if(this._contentToString(this.content)!==this._contentToString(t)){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(void 0!=t)e.innerHTML=t;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=t}},o.prototype._updateDataAttributes=function(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;t=(0,s.default)(this.data)}for(var i=0;i<t.length;i++){var n=t[i],o=this.data[n];null!=o?e.setAttribute("data-"+n,o):e.removeAttribute("data-"+n)}}},o.prototype._updateStyle=function(e){this.style&&(u.removeCssText(e,this.style),this.style=null),this.data.style&&(u.addCssText(e,this.data.style),this.style=this.data.style)},o.prototype._contentToString=function(e){return"string"==typeof e?e:e&&"outerHTML"in e?e.outerHTML:e},o.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,r.default)(this.options.editable)&&(this.editable={},u.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,r.default)(this.data.editable)&&(this.editable={},u.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},o.prototype.getWidthLeft=function(){return 0},o.prototype.getWidthRight=function(){return 0},o.prototype.getTitle=function(){return this.data.title},e.exports=o},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,i){var n=i(51);e.exports=function(e){return Object(n(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){function n(e){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(e)}n.prototype.setOptions=function(e){e&&void 0!==e.delay&&(this.delay=e.delay),e&&void 0!==e.max&&(this.max=e.max),this._flushIfNeeded()},n.extend=function(e,t){var i=new n(t);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(t&&t.replace)for(var r=0;r<t.replace.length;r++){var s=t.replace[r];o.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:o},i},n.prototype.destroy=function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,i=0;i<t.length;i++){var n=t[i];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}},n.prototype.replace=function(e,t){var i=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.queue({args:e,fn:n,context:this})}},n.prototype.queue=function(e){"function"==typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()},n.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var e=this;this._timeout=setTimeout(function(){e.flush()},this.delay)}},n.prototype.flush=function(){for(;this._queue.length>0;){var e=this._queue.shift();e.fn.apply(e.context||e.fn,e.args||[])}},e.exports=n},function(e,t){function i(e){if(e)return n(e)}function n(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,o=0;o<i.length;o++)if((n=i[o])===t||n.fn===t){i.splice(o,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var n=0,o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,i){function n(e,t){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:a.FORMAT,moment:l,timeAxis:null},this.options=r.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(6)),r=i(2),s=i(16),a=i(66),u=i(36),l=i(9);(n.prototype=new s).setOptions=function(e){e&&(r.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),r.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.axis=e.orientation:"object"===(0,o.default)(e.orientation)&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&("function"==typeof l.locale?l.locale(e.locale):l.lang(e.locale)))},n.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},n.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},n.prototype.redraw=function(){var e=this.props,t=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=t.parentNode!==n;this._calculateCharSize();var r=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;e.minorLabelHeight=r?e.minorCharHeight:0,e.majorLabelHeight=s?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;var a=t.nextSibling,u=i.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i),t.style.height=this.props.height+"px",this._repaintLabels(),a?n.insertBefore(t,a):n.appendChild(t),u?this.body.dom.backgroundVertical.insertBefore(i,u):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o},n.prototype._repaintLabels=function(){var e=this.options.orientation.axis,t=r.convert(this.body.range.start,"Number"),i=r.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=n-u.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();var s=new a(new Date(t),new Date(i),o,this.body.hiddenDates,this.options);s.setMoment(this.options.moment),this.options.format&&s.setFormat(this.options.format),this.options.timeAxis&&s.setScale(this.options.timeAxis),this.step=s;var l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];var c,d,p,f,m,g,v,y,b,x=0,w=void 0,D=0;for(s.start(),c=s.getCurrent(),p=this.body.util.toScreen(c);s.hasNext()&&D<1e3;){switch(D++,f=s.isMajor(),b=s.getClassName(),y=s.getLabelMinor(),d=p,s.next(),c=s.getCurrent(),s.isMajor(),p=this.body.util.toScreen(c),g=x,x=p-d,s.scale){case"week":m=!0;break;default:m=x>=.4*g}if(this.options.showMinorLabels&&m){var C=this._repaintMinorText(d,y,e,b);C.style.width=x+"px"}f&&this.options.showMajorLabels?(d>0&&(void 0==w&&(w=d),C=this._repaintMajorText(d,s.getLabelMajor(),e,b)),v=this._repaintMajorLine(d,x,e,b)):m?v=this._repaintMinorLine(d,x,e,b):v&&(v.style.width=parseInt(v.style.width)+x+"px")}if(1e3!==D||h||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),h=!0),this.options.showMajorLabels){var k=this.body.util.toTime(0),_=s.getLabelMajor(k),E=_.length*(this.props.majorCharWidth||10)+10;(void 0==w||E<w)&&this._repaintMajorText(0,_,e,b)}r.forEach(this.dom.redundant,function(e){for(;e.length;){var t=e.pop();t&&t.parentNode&&t.parentNode.removeChild(t)}})},n.prototype._repaintMinorText=function(e,t,i,n){var o=this.dom.redundant.minorTexts.shift();if(!o){var r=document.createTextNode("");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=t,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=e+"px"):o.style.left=e+"px",o.className="vis-text vis-minor "+n,o},n.prototype._repaintMajorText=function(e,t,i,n){var o=this.dom.redundant.majorTexts.shift();if(!o){var r=document.createElement("div");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=t,o.className="vis-text vis-major "+n,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=e+"px"):o.style.left=e+"px",this.dom.majorTexts.push(o),o},n.prototype._repaintMinorLine=function(e,t,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?r.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=r.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=e-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+n):(o.style.left=e-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+n),o.style.width=t+"px",o},n.prototype._repaintMajorLine=function(e,t,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=e-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+n):(o.style.left=e-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+n),o.style.height=r.majorLineHeight+"px",o.style.width=t+"px",o},n.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var h=!1;e.exports=n},function(e,t,i){function n(e,t){this.body=e,this.defaultOptions={moment:a,locales:u,locale:"en",id:void 0,title:void 0},this.options=r.extend({},this.defaultOptions),t&&t.time?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this.setOptions(t),this._create()}var o=i(10),r=i(2),s=i(16),a=i(9),u=i(98);(n.prototype=new s).setOptions=function(e){e&&r.selectiveExtend(["moment","locale","locales","id"],this.options,e)},n.prototype._create=function(){function e(e){this.body.range._onMouseWheel(e)}var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var i=document.createElement("div");i.style.position="relative",i.style.top="0px",i.style.left="-10px",i.style.height="100%",i.style.width="20px",i.addEventListener?(i.addEventListener("mousewheel",e.bind(this),!1),i.addEventListener("DOMMouseScroll",e.bind(this),!1)):i.attachEvent("onmousewheel",e.bind(this)),t.appendChild(i),this.hammer=new o(i),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL})},n.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},n.prototype.redraw=function(){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));var t=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var n=this.options.title;return void 0===n?n=(n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+n.substring(1):"function"==typeof n&&(n=n.call(this.customTime)),this.bar.style.left=t+"px",this.bar.title=n,!1},n.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},n.prototype.setCustomTime=function(e){this.customTime=r.convert(e,"Date"),this.redraw()},n.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},n.prototype.setCustomTitle=function(e){this.options.title=e},n.prototype._onDragStart=function(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()},n.prototype._onDrag=function(e){if(this.eventParams.dragging){var t=this.body.util.toScreen(this.eventParams.customTime)+e.deltaX,i=this.body.util.toTime(t);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}},n.prototype._onDragEnd=function(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())},n.customTimeFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("custom-time"))return t["custom-time"];t=t.parentNode}return null},e.exports=n},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(2),a=i(117).default,u=i(48).default,l=i(193).default,h=i(200).default,c=i(201).default,d=i(202).default,p=i(203).default,f=i(204).default,m=i(205).default,g=i(206).default,v=i(207).default,y=i(208).default,b=i(209).default,x=i(210).default,w=i(211).default,D=i(212).default,C=i(213).default,k=i(15).printStyle,_=function(){function e(t,i,n,r,u,l){(0,o.default)(this,e),this.options=s.bridgeObject(u),this.globalOptions=u,this.defaultOptions=l,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a(this.body,this.options,!1),this.setOptions(t)}return(0,r.default)(e,[{key:"attachEdge",value:function(e){-1===this.edges.indexOf(e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t=this.edges.indexOf(e);-1!=t&&this.edges.splice(t,1)}},{key:"setOptions",value:function(t){var i=this.options.shape;if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var n=[t,this.options,this.defaultOptions];return this.chooser=u.choosify("node",n),this._load_images(),this.updateLabelModule(t),this.updateShape(i),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,e}},{key:"updateLabelModule",value:function(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),e.updateGroupOptions(this.options,t,this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[t,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new l(this.options,this.body,this.labelModule);break;case"circle":this.shape=new h(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new c(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new d(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new p(this.options,this.body,this.labelModule);break;case"dot":this.shape=new f(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new m(this.options,this.body,this.labelModule);break;case"icon":this.shape=new g(this.options,this.body,this.labelModule);break;case"image":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new y(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new b(this.options,this.body,this.labelModule);break;case"star":this.shape=new x(this.options,this.body,this.labelModule);break;case"text":this.shape=new w(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new D(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new C(this.options,this.body,this.labelModule);break;default:this.shape=new m(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&u.pointInRect(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),u.pointInRect(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"updateGroupOptions",value:function(e,t,i){if(void 0!==i){var n=e.group;if(void 0!==t&&void 0!==t.group&&n!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof n||"string"==typeof n&&""!=n){var o=i.get(n);s.selectiveNotDeepExtend(["font"],e,o),e.color=s.parseColor(e.color)}}}},{key:"parseOptions",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments[4],a=["color","fixed","shadow"];if(s.selectiveNotDeepExtend(a,t,i,n),e.checkMass(i),s.mergeOptions(t,i,"shadow",o),void 0!==i.color&&null!==i.color){var u=s.parseColor(i.color);s.fillIfDefined(t.color,u)}else!0===n&&null===i.color&&(t.color=s.bridgeObject(o.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(t.fixed.x=i.fixed,t.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(t.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(t.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(t.font=s.bridgeObject(o.font)),e.updateGroupOptions(t,i,r),void 0!==i.scaling&&s.mergeOptions(t.scaling,i.scaling,"label",o.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var i="";void 0!==t&&(i=" in node id: "+t),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",k),e.mass=1}}}]),e}();t.default=_},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(6)),r=n(i(0)),s=n(i(1)),a=i(2),u=function(){function e(){(0,r.default)(this,e)}return(0,s.default)(e,null,[{key:"choosify",value:function(e,t){var i=["node","edge","label"],n=!0,r=a.topMost(t,"chosen");if("boolean"==typeof r)n=r;else if("object"===(void 0===r?"undefined":(0,o.default)(r))){if(-1===i.indexOf(e))throw new Error("choosify: subOption '"+e+"' should be one of '"+i.join("', '")+"'");var s=a.topMost(t,["chosen",e]);"boolean"!=typeof s&&"function"!=typeof s||(n=s)}return n}},{key:"pointInRect",value:function(e,t,i){if(e.width<=0||e.height<=0)return!1;if(void 0!==i){var n={x:t.x-i.x,y:t.y-i.y};if(0!==i.angle){var o=-i.angle;t={x:Math.cos(o)*n.x-Math.sin(o)*n.y,y:Math.sin(o)*n.x+Math.cos(o)*n.y}}else t=n}var r=e.x+e.width,s=e.y+e.width;return e.left<t.x&&r>t.x&&e.top<t.y&&s>t.y}},{key:"isValidLabel",value:function(e){return"string"==typeof e&&""!==e}}]),e}();t.default=u},function(e,t,i){i(125);for(var n=i(18),o=i(26),r=i(31),s=i(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],h=n[l],c=h&&h.prototype;c&&!c[s]&&o(c,s,l),r[l]=r.Array}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t,i){var n=i(32);e.exports=function(e,t){if(!n(e))return e;var i,o;if(t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;if("function"==typeof(i=e.valueOf)&&!n(o=i.call(e)))return o;if(!t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){var n=i(27),o=i(130),r=i(58),s=i(56)("IE_PROTO"),a=function(){},u=function(){var e,t=i(82)("iframe"),n=r.length;for(t.style.display="none",i(134).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[r[n]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(a.prototype=n(e),i=new a,a.prototype=null,i[s]=e):i=u(),void 0===t?i:o(i,t)}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(57)("keys"),o=i(40);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,i){var n=i(18),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(20).f,o=i(22),r=i(13)("toStringTag");e.exports=function(e,t,i){e&&!o(e=i?e:e.prototype,r)&&n(e,r,{configurable:!0,value:t})}},function(e,t,i){var n=i(135)(!0);i(79)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){t.f=i(13)},function(e,t,i){var n=i(18),o=i(7),r=i(52),s=i(61),a=i(20).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=r?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i=h().hours(0).minutes(0).seconds(0).milliseconds(0),n=i.clone().add(-3,"days").valueOf(),o=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===t?(this.start=n,this.end=o):(this.start=t.start||n,this.end=t.end||o),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:h,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=l.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(t)}function r(e){if("horizontal"!=e&&"vertical"!=e)throw new TypeError('Unknown direction "'+e+'". Choose "horizontal" or "vertical".')}var s=n(i(8)),a=n(i(19)),u=n(i(6)),l=i(2),h=i(9),c=i(16),d=i(36);(o.prototype=new c).setOptions=function(e){if(e){var t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];l.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}},o.prototype.startRolling=function(){function e(){t.stopRolling(),t.rolling=!0;var i=t.end-t.start,n=l.convert(new Date,"Date").valueOf(),o=n-i*t.options.rollingMode.offset,r=n+i*(1-t.options.rollingMode.offset),s={animation:!1};t.setRange(o,r,s),(i=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(i=30),i>1e3&&(i=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,i)}var t=this;e()},o.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},o.prototype.setRange=function(e,t,i,n,o){i||(i={}),!0!==i.byUser&&(i.byUser=!1);var r=this,h=void 0!=e?l.convert(e,"Date").valueOf():null,c=void 0!=t?l.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){var p=this.start,f=this.end,m="object"===(0,u.default)(i.animation)&&"duration"in i.animation?i.animation.duration:500,g="object"===(0,u.default)(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",v=l.easingFunctions[g];if(!v)throw new Error("Unknown easing function "+(0,a.default)(g)+". Choose from: "+(0,s.default)(l.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1;return function e(){if(!r.props.touch.dragging){var t=(new Date).valueOf()-y,s=v(t/m),a=t>m,u=a||null===h?h:p+(h-p)*s,l=a||null===c?c:f+(c-f)*s;x=r._applyRange(u,l),d.updateHiddenDates(r.options.moment,r.body,r.options.hiddenDates),b=b||x;var g={start:new Date(r.start),end:new Date(r.end),byUser:i.byUser,event:i.event};if(o&&o(s,x,a),x&&r.body.emitter.emit("rangechange",g),a){if(b&&(r.body.emitter.emit("rangechanged",g),n))return n()}else r.animationTimer=setTimeout(e,20)}}()}var x=this._applyRange(h,c);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),x){var w={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",w),clearTimeout(r.timeoutID),r.timeoutID=setTimeout(function(){r.body.emitter.emit("rangechanged",w)},200),n)return n()}},o.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},o.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},o.prototype._applyRange=function(e,t){var i,n=null!=e?l.convert(e,"Date").valueOf():this.start,o=null!=t?l.convert(t,"Date").valueOf():this.end,r=null!=this.options.max?l.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?l.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+e+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+t+'"');if(o<n&&(o=n),null!==s&&n<s&&(n+=i=s-n,o+=i,null!=r&&o>r&&(o=r)),null!==r&&o>r&&(n-=i=o-r,o-=i,null!=s&&n<s&&(n=s)),null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);a<0&&(a=0),o-n<a&&(this.end-this.start===a&&n>=this.start-.5&&o<=this.end?(n=this.start,o=this.end):(n-=(i=a-(o-n))/2,o+=i/2))}if(null!==this.options.zoomMax){var u=parseFloat(this.options.zoomMax);u<0&&(u=0),o-n>u&&(this.end-this.start===u&&n<this.start&&o>this.end?(n=this.start,o=this.end):(n+=(i=o-n-u)/2,o-=i/2))}var h=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,h},o.prototype.getRange=function(){return{start:this.start,end:this.end}},o.prototype.conversion=function(e,t){return o.conversion(this.start,this.end,e,t)},o.conversion=function(e,t,i,n){return void 0===n&&(n=0),0!=i&&t-e!=0?{offset:e,scale:i/(t-e-n)}:{offset:0,scale:1}},o.prototype._onDragStart=function(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},o.prototype._onDrag=function(e){if(e&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var t=this.options.direction;r(t);var i="horizontal"==t?e.deltaX:e.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start;n-=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o,s="horizontal"==t?this.body.domProps.center.width:this.body.domProps.center.height;o=this.options.rtl?i/s*n:-i/s*n;var a=this.props.touch.start+o,u=this.props.touch.end+o,l=d.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0),h=d.snapAwayFromHidden(this.body.hiddenDates,u,this.previousDelta-i,!0);if(l!=a||h!=u)return this.deltaDifference+=i,this.props.touch.start=l,this.props.touch.end=h,void this._onDrag(e);this.previousDelta=i,this._applyRange(a,u);var c=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:c,end:p,byUser:!0,event:e}),this.body.emitter.emit("panmove")}},o.prototype._onDragEnd=function(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))},o.prototype._onMouseWheel=function(e){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){var i;i=t<0?1-t/5:1/(1+t/5);var n;if(this.rolling)n=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var o=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);n=this._pointerToDate(o)}this.zoom(i,n,t,e),e.preventDefault()}},o.prototype._onTouch=function(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,l.preventDefault(e)},o.prototype._onPinch=function(e){if(this.options.zoomable&&this.options.moveable){l.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center)),this.stopRolling();var t=1/(e.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),r=n-o,s=i-o+(this.props.touch.start-(i-o))*t,a=i+r+(this.props.touch.end-(i+r))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;var u=d.snapAwayFromHidden(this.body.hiddenDates,s,1-t,!0),h=d.snapAwayFromHidden(this.body.hiddenDates,a,t-1,!0);u==s&&h==a||(this.props.touch.start=u,this.props.touch.end=h,this.scaleOffset=1-e.scale,s=u,a=h);var c={animation:!1,byUser:!0,event:e};this.setRange(s,a,c),this.startToFront=!1,this.endToFront=!0}},o.prototype._isInsideRange=function(e){var t,i=e.center?e.center.x:e.clientX;t=this.options.rtl?i-l.getAbsoluteLeft(this.body.dom.centerContainer):l.getAbsoluteRight(this.body.dom.centerContainer)-i;var n=this.body.util.toTime(t);return n>=this.start&&n<=this.end},o.prototype._pointerToDate=function(e){var t,i=this.options.direction;if(r(i),"horizontal"==i)return this.body.util.toTime(e.x).valueOf();var n=this.body.domProps.center.height;return t=this.conversion(n),e.y/t.scale+t.offset},o.prototype.getPointer=function(e,t){return this.options.rtl?{x:l.getAbsoluteRight(t)-e.x,y:e.y-l.getAbsoluteTop(t)}:{x:e.x-l.getAbsoluteLeft(t),y:e.y-l.getAbsoluteTop(t)}},o.prototype.zoom=function(e,t,i,n){null==t&&(t=(this.start+this.end)/2);var o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,t),s=o-r,a=t-r+(this.start-(t-r))*e,u=t+s+(this.end-(t+s))*e;this.startToFront=!(i>0),this.endToFront=!(-i>0);var l=d.snapAwayFromHidden(this.body.hiddenDates,a,i,!0),h=d.snapAwayFromHidden(this.body.hiddenDates,u,-i,!0);l==a&&h==u||(a=l,u=h);var c={animation:!1,byUser:!0,event:n};this.setRange(a,u,c),this.startToFront=!1,this.endToFront=!0},o.prototype.move=function(e){var t=this.end-this.start,i=this.start+t*e,n=this.end+t*e;this.start=i,this.end=n},o.prototype.moveTo=function(e){var t=(this.start+this.end)/2-e,i=this.start-t,n=this.end-t,o={animation:!1,byUser:!0,event:null};this.setRange(i,n,o)},e.exports=o},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function o(){}var r=n(i(19)),s=n(i(6)),a=i(44),u=i(10),l=i(37),h=i(2),c=i(45),d=i(97),p=i(36),f=i(46);a(o.prototype),o.prototype._create=function(e){function t(e){this.isActive()&&this.emit("mousewheel",e);var t=0,i=0;if("detail"in e&&(i=-1*e.detail),"wheelDelta"in e&&(i=e.wheelDelta),"wheelDeltaY"in e&&(i=e.wheelDeltaY),"wheelDeltaX"in e&&(t=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=-1*i,i=0),"deltaY"in e&&(i=-1*e.deltaY),"deltaX"in e&&(t=e.deltaX),this.options.zoomKey&&!e[this.options.zoomKey])if(e.preventDefault(),this.options.verticalScroll&&Math.abs(i)>=Math.abs(t)){var n=this.props.scrollTop+i;this.isActive()&&(this._setScrollTop(n),this._redraw(),this.emit("scroll",e))}else if(this.options.horizontalScroll){var o=(Math.abs(t)>=Math.abs(i)?t:i)/120*(this.range.end-this.range.start)/20,r=this.range.start+o,s=this.range.end+o,a={animation:!1,byUser:!0,event:e};this.range.setRange(r,s,a)}}function i(e){if(n.options.verticalScroll&&(e.preventDefault(),n.isActive())){var t=-e.target.scrollTop;n._setScrollTop(t),n._redraw(),n.emit("scrollSide",e)}}this.dom={},this.dom.container=e,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var n=this;this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw),this.on("_change",function(e){n.itemSet&&n.itemSet.initialItemSetDrawn&&e&&1==e.queue?n._redraw():n._origRedraw()}),this.hammer=new u(this.dom.root);var o=this.hammer.get("pinch").set({enable:!0});l.disablePreventDefaultVertically(o),this.hammer.get("pan").set({threshold:5,direction:u.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(e){var t=function(t){n.isActive()&&n.emit(e,t)};n.hammer.on(e,t),n.listeners[e]=t}),l.onTouch(this.hammer,function(e){n.emit("touch",e)}.bind(this)),l.onRelease(this.hammer,function(e){n.emit("release",e)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",t.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",t.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",t.bind(this)),this.dom.left.parentNode.addEventListener("scroll",i.bind(this)),this.dom.right.parentNode.addEventListener("scroll",i.bind(this));var r=!1;if(this.dom.center.addEventListener("dragover",function(e){if(e.preventDefault&&e.preventDefault(),!(!e.target.className.indexOf("vis")>-1||r))return e.dataTransfer.dropEffect="move",r=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation();try{var t=JSON.parse(e.dataTransfer.getData("text"));if(!t||!t.content)return}catch(e){return!1}return r=!1,e.center={x:e.clientX,y:e.clientY},"item"!==t.target?n.itemSet._onAddItem(e):n.itemSet._onDropObjectOnItem(e),n.emit("drop",n.getEventProperties(e)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root)},o.prototype.setOptions=function(e){if(e){var t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];if(h.selectiveExtend(t,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,s.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===(0,s.default)(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var i=this.timeAxis2=new c(this.body);i.setOptions=function(e){var t=e?h.extend({},e):{};t.orientation="top",c.prototype.setOptions.call(i,t)},this.components.push(i)}}else if(this.timeAxis2){var n=this.components.indexOf(this.timeAxis2);-1!==n&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&p.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(t){return t.setOptions(e)}),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);var o=h.deepExtend({},this.options);this.components.forEach(function(e){h.deepExtend(o,e.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var e in this.listeners)this.listeners.hasOwnProperty(e)&&delete this.listeners[e];this.listeners=null,this.hammer=null,this.components.forEach(function(e){return e.destroy()}),this.body=null},o.prototype.setCustomTime=function(e,t){var i=this.customTimes.filter(function(e){return t===e.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));i.length>0&&i[0].setCustomTime(e)},o.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));return t[0].getCustomTime()},o.prototype.setCustomTimeTitle=function(e,t){var i=this.customTimes.filter(function(e){return e.options.id===t});if(0===i.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));if(i.length>0)return i[0].setCustomTitle(e)},o.prototype.getEventProperties=function(e){return{event:e}},o.prototype.addCustomTime=function(e,t){var i=void 0!==e?h.convert(e,"Date").valueOf():new Date;if(this.customTimes.some(function(e){return e.options.id===t}))throw new Error("A custom time with id "+(0,r.default)(t)+" already exists");var n=new f(this.body,h.extend({},this.options,{time:i,id:t}));return this.customTimes.push(n),this.components.push(n),this._redraw(),t},o.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));t.forEach(function(e){this.customTimes.splice(this.customTimes.indexOf(e),1),this.components.splice(this.components.indexOf(e),1),e.destroy()}.bind(this))},o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},o.prototype.fit=function(e,t){var i=this.getDataRange();if(null!==i.min||null!==i.max){var n=i.max-i.min,o=new Date(i.min.valueOf()-.01*n),r=new Date(i.max.valueOf()+.01*n),s=!e||void 0===e.animation||e.animation;this.range.setRange(o,r,{animation:s},t)}},o.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},o.prototype.setWindow=function(e,t,i,n){"function"==typeof arguments[2]&&(n=arguments[2],i={});var o,r;1==arguments.length?(o=void 0===(r=arguments[0]).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o})):2==arguments.length&&"function"==typeof arguments[1]?(r=arguments[0],n=arguments[1],o=void 0===r.animation||r.animation,this.range.setRange(r.start,r.end,{animation:o},n)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(e,t,{animation:o},n))},o.prototype.moveTo=function(e,t,i){"function"==typeof arguments[1]&&(i=arguments[1],t={});var n=this.range.end-this.range.start,o=h.convert(e,"Date").valueOf(),r=o-n/2,s=o+n/2,a=!t||void 0===t.animation||t.animation;this.range.setRange(r,s,{animation:a},i)},o.prototype.getWindow=function(){var e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}},o.prototype.zoomIn=function(e,t,i){if(!(!e||e<0||e>1)){"function"==typeof arguments[1]&&(i=arguments[1],t={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=(s-s/(1+e))/2,u=o+a,l=r-a;this.setWindow(u,l,t,i)}},o.prototype.zoomOut=function(e,t,i){if(!(!e||e<0||e>1)){"function"==typeof arguments[1]&&(i=arguments[1],t={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=o-s*e/2,u=r+s*e/2;this.setWindow(a,u,t,i)}},o.prototype.redraw=function(){this._redraw()},o.prototype._redraw=function(){this.redrawCount++;var e=!1,t=this.options,i=this.props,n=this.dom;if(n&&n.container&&0!=n.root.offsetWidth){p.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==t.orientation?(h.addClassName(n.root,"vis-top"),h.removeClassName(n.root,"vis-bottom")):(h.removeClassName(n.root,"vis-top"),h.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=h.option.asSize(t.maxHeight,""),n.root.style.minHeight=h.option.asSize(t.minHeight,""),n.root.style.width=h.option.asSize(t.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=n.root.offsetHeight-n.root.clientHeight,i.borderRootWidth=n.root.offsetWidth-n.root.clientWidth,0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var o=Math.max(i.left.height,i.center.height,i.right.height),r=i.top.height+o+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;n.root.style.height=h.option.asSize(t.height,r+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var s=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=s,i.leftContainer.height=s,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=h.getScrollBarWidth()),t.verticalScroll?t.rtl?(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right),this._setDOM();var a=this._updateScrollTop();"top"!=t.orientation.item&&(a+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),n.center.style.top=a+"px";var l=0==i.scrollTop?"hidden":"",c=i.scrollTop==i.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=l,n.shadowBottom.style.visibility=c,n.shadowTopLeft.style.visibility=l,n.shadowBottomLeft.style.visibility=c,n.shadowTopRight.style.visibility=l,n.shadowBottomRight.style.visibility=c,t.verticalScroll&&(n.rightContainer.className="vis-panel vis-right vis-vertical-scroll",n.leftContainer.className="vis-panel vis-left vis-vertical-scroll",n.shadowTopRight.style.visibility="hidden",n.shadowBottomRight.style.visibility="hidden",n.shadowTopLeft.style.visibility="hidden",n.shadowBottomLeft.style.visibility="hidden",n.left.style.top="0px",n.right.style.top="0px"),(!t.verticalScroll||i.center.height<i.centerContainer.height)&&(n.left.style.top=a+"px",n.right.style.top=a+"px",n.rightContainer.className=n.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.leftContainer.className=n.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right,this._setDOM());var d=i.center.height>i.centerContainer.height;if(this.hammer.get("pan").set({direction:d?u.DIRECTION_ALL:u.DIRECTION_HORIZONTAL}),this.components.forEach(function(t){e=t.redraw()||e}),e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},o.prototype._setDOM=function(){var e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;var i=e.root.width-e.left.width-e.right.width-e.borderRootWidth;e.center.width=i,e.centerContainer.width=i,e.top.width=i,e.bottom.width=i,t.background.style.height=e.background.height+"px",t.backgroundVertical.style.height=e.background.height+"px",t.backgroundHorizontal.style.height=e.centerContainer.height+"px",t.centerContainer.style.height=e.centerContainer.height+"px",t.leftContainer.style.height=e.leftContainer.height+"px",t.rightContainer.style.height=e.rightContainer.height+"px",t.background.style.width=e.background.width+"px",t.backgroundVertical.style.width=e.centerContainer.width+"px",t.backgroundHorizontal.style.width=e.background.width+"px",t.centerContainer.style.width=e.center.width+"px",t.top.style.width=e.top.width+"px",t.bottom.style.width=e.bottom.width+"px",t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left=e.left.width+e.border.left+"px",t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top=e.top.height+"px",t.centerContainer.style.left=e.left.width+"px",t.centerContainer.style.top=e.top.height+"px",t.leftContainer.style.left="0",t.leftContainer.style.top=e.top.height+"px",t.rightContainer.style.left=e.left.width+e.center.width+"px",t.rightContainer.style.top=e.top.height+"px",t.top.style.left=e.left.width+"px",t.top.style.top="0",t.bottom.style.left=e.left.width+"px",t.bottom.style.top=e.top.height+e.centerContainer.height+"px",t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"},o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},o.prototype.setCurrentTime=function(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)},o.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},o.prototype._toTime=function(e){return p.toTime(this,e,this.props.center.width)},o.prototype._toGlobalTime=function(e){return p.toTime(this,e,this.props.root.width)},o.prototype._toScreen=function(e){return p.toScreen(this,e,this.props.center.width)},o.prototype._toGlobalScreen=function(e){return p.toScreen(this,e,this.props.root.width)},o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},o.prototype._startAutoResize=function(){var e=this;this._stopAutoResize(),this._onResize=function(){1==e.options.autoResize?e.dom.root&&(e.dom.root.offsetWidth==e.props.lastWidth&&e.dom.root.offsetHeight==e.props.lastHeight||(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight,e.props.scrollbarWidth=h.getScrollBarWidth(),e.body.emitter.emit("_change"))):e._stopAutoResize()},h.addEventListener(window,"resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},o.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},o.prototype._onTouch=function(e){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},o.prototype._onPinch=function(e){this.touch.allowDragging=!1},o.prototype._onDrag=function(e){if(e&&this.touch.allowDragging){var t=e.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=i&&this.emit("verticalDrag")}},o.prototype._setScrollTop=function(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop},o.prototype._updateScrollTop=function(){var e=Math.min(this.props.centerContainer.height-this.props.center.height,0);return e!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},o.prototype._getScrollTop=function(){return this.props.scrollTop},o.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},e.exports=o},function(e,t,i){function n(e,t,i,r,s){this.moment=o,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(r)?this.hiddenDates=r:this.hiddenDates=void 0!=r?[r]:[],this.format=n.FORMAT,this.options=s||{}}var o=i(9),r=i(36),s=i(2);n.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},n.prototype.setMoment=function(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},n.prototype.setFormat=function(e){var t=s.deepExtend({},n.FORMAT);this.format=s.deepExtend(t,e)},n.prototype.setRange=function(e,t,i){if(!(e instanceof Date&&t instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=e?this.moment(e.valueOf()):new Date,this._end=void 0!=t?this.moment(t.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},n.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},n.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},n.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},n.prototype.next=function(){var e=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,r.stepOverHiddenDates(this.moment,this,e)},n.prototype.getCurrent=function(){return this.current},n.prototype.setScale=function(e){e&&"string"==typeof e.scale&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)},n.prototype.setAutoScale=function(e){this.autoScale=e},n.prototype.setMinimumStep=function(e){void 0!=e&&(31104e9>e&&(this.scale="year",this.step=1e3),15552e9>e&&(this.scale="year",this.step=500),31104e8>e&&(this.scale="year",this.step=100),15552e8>e&&(this.scale="year",this.step=50),31104e7>e&&(this.scale="year",this.step=10),15552e7>e&&(this.scale="year",this.step=5),31104e6>e&&(this.scale="year",this.step=1),7776e6>e&&(this.scale="month",this.step=3),2592e6>e&&(this.scale="month",this.step=1),432e6>e&&(this.scale="day",this.step=5),1728e5>e&&(this.scale="day",this.step=2),864e5>e&&(this.scale="day",this.step=1),432e5>e&&(this.scale="weekday",this.step=1),144e5>e&&(this.scale="hour",this.step=4),36e5>e&&(this.scale="hour",this.step=1),9e5>e&&(this.scale="minute",this.step=15),6e5>e&&(this.scale="minute",this.step=10),3e5>e&&(this.scale="minute",this.step=5),6e4>e&&(this.scale="minute",this.step=1),15e3>e&&(this.scale="second",this.step=15),1e4>e&&(this.scale="second",this.step=10),5e3>e&&(this.scale="second",this.step=5),1e3>e&&(this.scale="second",this.step=1),200>e&&(this.scale="millisecond",this.step=200),100>e&&(this.scale="millisecond",this.step=100),50>e&&(this.scale="millisecond",this.step=50),10>e&&(this.scale="millisecond",this.step=10),5>e&&(this.scale="millisecond",this.step=5),1>e&&(this.scale="millisecond",this.step=1))},n.snap=function(e,t,i){var n=o(e);if("year"==t){var r=n.year()+Math.round(n.month()/12);n.year(Math.round(r/i)*i),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==t)n.date()>15?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==t)n.weekday()>2?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==t){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==t){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==t){switch(i){case 4:n.minutes(60*Math.round(n.minutes()/60));break;default:n.minutes(30*Math.round(n.minutes()/30))}n.seconds(0),n.milliseconds(0)}else if("minute"==t){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==t)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else if("millisecond"==t){var s=i>5?i/2:1;n.milliseconds(Math.round(n.milliseconds()/s)*s)}return n},n.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var e=this.moment(this.current);switch(this.scale){case"millisecond":return 0==e.milliseconds();case"second":return 0==e.seconds();case"minute":return 0==e.hours()&&0==e.minutes();case"hour":return 0==e.hours();case"weekday":case"day":case"week":return 1==e.date();case"month":return 0==e.month();case"year":default:return!1}},n.prototype.getLabelMinor=function(e){if(void 0==e&&(e=this.current),e instanceof Date&&(e=this.moment(e)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(e,this.scale,this.step);var t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==e.weekday())return"";default:return t&&t.length>0?this.moment(e).format(t):""}},n.prototype.getLabelMajor=function(e){if(void 0==e&&(e=this.current),e instanceof Date&&(e=this.moment(e)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(e,this.scale,this.step);var t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""},n.prototype.getClassName=function(){function e(e){return e/a%2==0?" vis-even":" vis-odd"}function t(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(o().add(1,"day"),"day")?" vis-tomorrow":e.isSame(o().add(-1,"day"),"day")?" vis-yesterday":""}function i(e){return e.isSame(new Date,"week")?" vis-current-week":""}function n(e){return e.isSame(new Date,"month")?" vis-current-month":""}var o=this.moment,r=this.moment(this.current),s=r.locale?r.locale("en"):r.lang("en"),a=this.step,u=[];switch(this.scale){case"millisecond":u.push(t(s)),u.push(e(s.milliseconds()));break;case"second":u.push(t(s)),u.push(e(s.seconds()));break;case"minute":u.push(t(s)),u.push(e(s.minutes()));break;case"hour":u.push("vis-h"+s.hours()+(4==this.step?"-h"+(s.hours()+4):"")),u.push(t(s)),u.push(e(s.hours()));break;case"weekday":u.push("vis-"+s.format("dddd").toLowerCase()),u.push(t(s)),u.push(i(s)),u.push(e(s.date()));break;case"day":u.push("vis-day"+s.date()),u.push("vis-"+s.format("MMMM").toLowerCase()),u.push(t(s)),u.push(n(s)),u.push(this.step<=2?t(s):""),u.push(this.step<=2?"vis-"+s.format("dddd").toLowerCase():""),u.push(e(s.date()-1));break;case"week":u.push("vis-week"+s.format("w")),u.push(i(s)),u.push(e(s.week()));break;case"month":u.push("vis-"+s.format("MMMM").toLowerCase()),u.push(n(s)),u.push(e(s.month()));break;case"year":u.push("vis-year"+s.year()),u.push(s.isSame(new Date,"year")?" vis-current-year":""),u.push(e(s.year()))}return u.filter(String).join(" ")},e.exports=n},function(e,t,i){function n(e,t){this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:s,locales:a,locale:"en"},this.options=o.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(t)}var o=i(2),r=i(16),s=i(9),a=i(98);(n.prototype=new r)._create=function(){var e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e},n.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},n.prototype.setOptions=function(e){e&&o.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,e)},n.prototype.redraw=function(){if(this.options.showCurrentTime){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());var t=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(t),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var o=n.current+" "+n.time+": "+t.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},n.prototype.start=function(){function e(){t.stop();var i=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,i)}var t=this;e()},n.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},n.prototype.setCurrentTime=function(e){var t=o.convert(e,"Date").valueOf(),i=(new Date).valueOf();this.offset=t-i,this.redraw()},n.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},e.exports=n},function(e,t,i){function n(e,t,i){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,0==t.showNested?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if("boolean"==typeof t.subgroupStack)this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(var n in t.subgroupStack)this.subgroupStack[n]=t.subgroupStack[n],this.doInnerStack=this.doInnerStack||t.subgroupStack[n];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(t)}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(8)),r=i(2),s=i(100);n.prototype._create=function(){var e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;var t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},n.prototype.setData=function(e){var t,i;if((t=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(e,this.dom.inner):e&&e.content)instanceof Element){for(this.dom.inner.appendChild(t);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object?i(e,this.dom.inner):this.dom.inner.innerHTML=void 0!==t&&null!==t?t:this.groupId||"";if(this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?r.removeClassName(this.dom.inner,"vis-hidden"):r.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups){this.nestedGroups&&this.nestedGroups==e.nestedGroups||(this.nestedGroups=e.nestedGroups),void 0===e.showNested&&void 0!==this.showNested||(0==e.showNested?this.showNested=!1:this.showNested=!0),r.addClassName(this.dom.label,"vis-nesting-group");var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(r.removeClassName(this.dom.label,n),r.addClassName(this.dom.label,"expanded")):(r.removeClassName(this.dom.label,"expanded"),r.addClassName(this.dom.label,n))}else this.nestedGroups&&(this.nestedGroups=null,n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",r.removeClassName(this.dom.label,n),r.removeClassName(this.dom.label,"expanded"),r.removeClassName(this.dom.label,"vis-nesting-group"));e&&e.nestedInGroup&&(r.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=e&&e.className||null;o!=this.className&&(this.className&&(r.removeClassName(this.dom.label,this.className),r.removeClassName(this.dom.foreground,this.className),r.removeClassName(this.dom.background,this.className),r.removeClassName(this.dom.axis,this.className)),r.addClassName(this.dom.label,o),r.addClassName(this.dom.foreground,o),r.addClassName(this.dom.background,o),r.addClassName(this.dom.axis,o),this.className=o),this.style&&(r.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(r.addCssText(this.dom.label,e.style),this.style=e.style)},n.prototype.getLabelWidth=function(){return this.props.label.width},n.prototype._didMarkerHeightChange=function(){var e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;var t={},i=0;if(r.forEach(this.items,function(e,n){e.dirty=!0,e.displayed&&(t[n]=e.redraw(!0),i=t[n].length)}),i>0)for(var n=0;n<i;n++)r.forEach(t,function(e){e[n]()});return!0}},n.prototype._calculateGroupSizeAndPosition=function(){var e=this.dom.foreground.offsetTop,t=this.dom.foreground.offsetLeft,i=this.dom.foreground.offsetWidth;this.top=e,this.right=t,this.width=i},n.prototype._redrawItems=function(e,t,i,n){if(e||this.stackDirty||this.isVisible&&!t){var o={},a=null;if("function"==typeof this.itemSet.options.order){var u=this,l={},h=0;if(r.forEach(this.items,function(e,t){e.displayed||(l[t]=e.redraw(!0),h=l[t].length,u.visibleItems.push(e))}),h>0)for(var c=0;c<h;c++)r.forEach(l,function(e){e[c]()});if(r.forEach(this.items,function(e){e.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(a in this.subgroups)o[a]=this.subgroups[a].items.slice().sort(function(e,t){return u.itemSet.options.order(e.data,t.data)});s.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else{var d=this.orderedItems.byStart.slice().sort(function(e,t){return u.itemSet.options.order(e.data,t.data)});s.stack(d,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(a in this.subgroups)o[a]=this.subgroups[a].items;s.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else s.stack(this.visibleItems,i,!0);else s.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},n.prototype._didResize=function(e,t){e=r.updateProperty(this,"height",t)||e;var i=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return e=r.updateProperty(this.props.label,"width",i)||e,e=r.updateProperty(this.props.label,"height",n)||e},n.prototype._applyGroupHeight=function(e){this.dom.background.style.height=e+"px",this.dom.foreground.style.height=e+"px",this.dom.label.style.height=e+"px"},n.prototype._updateItemsVerticalPosition=function(e){for(var t=0,i=this.visibleItems.length;t<i;t++){var n=this.visibleItems[t];n.repositionY(e),this.isVisible||"__background__"==this.groupId||n.displayed&&n.hide()}},n.prototype.redraw=function(e,t,i,n){var o,r=!1,s=this.isVisible,a=[function(){i=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,t),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(e,t)}.bind(this),function(){this._redrawItems.bind(this)(i,s,t,e)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){o=this._calculateHeight.bind(this)(t)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){r=this._didResize.bind(this)(r,o)}.bind(this),function(){this._applyGroupHeight.bind(this)(o)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(t)}.bind(this),function(){return!this.isVisible&&this.height&&(r=!1),r}];if(n)return a;var u;return a.forEach(function(e){u=e()}),u},n.prototype._updateSubGroupHeights=function(e){if((0,o.default)(this.subgroups).length>0){var t=this;this.resetSubgroups(),r.forEach(this.visibleItems,function(i){void 0!==i.data.subgroup&&(t.subgroups[i.data.subgroup].height=Math.max(t.subgroups[i.data.subgroup].height,i.height+e.item.vertical),t.subgroups[i.data.subgroup].visible=!0)})}},n.prototype._isGroupVisible=function(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop},n.prototype._calculateHeight=function(e){var t,i=this.visibleItems;if(i.length>0){var n=i[0].top,o=i[0].top+i[0].height;if(r.forEach(i,function(e){n=Math.min(n,e.top),o=Math.max(o,e.top+e.height)}),n>e.axis){var s=n-e.axis;o-=s,r.forEach(i,function(e){e.top-=s})}t=o+e.item.vertical/2}else t=0;return t=Math.max(t,this.props.label.height)},n.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},n.prototype.hide=function(){var e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);var t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},n.prototype.add=function(e){if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,void 0!==e.data.subgroup&&(this._addToSubgroup(e),this.orderSubgroups()),-1==this.visibleItems.indexOf(e)){var t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}},n.prototype._addToSubgroup=function(e,t){void 0!=(t=t||e.data.subgroup)&&void 0===this.subgroups[t]&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);var i=e.data.end||e.data.start;new Date(i)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=i),this.subgroups[t].items.push(e)},n.prototype._updateSubgroupsSizes=function(){var e=this;if(e.subgroups)for(var t in e.subgroups){var i=e.subgroups[t].items[0].data.end||e.subgroups[t].items[0].data.start,n=e.subgroups[t].items[0].data.start,o=i-1;e.subgroups[t].items.forEach(function(e){new Date(e.data.start)<new Date(n)&&(n=e.data.start);var t=e.data.end||e.data.start;new Date(t)>new Date(o)&&(o=t)}),e.subgroups[t].start=n,e.subgroups[t].end=new Date(o-1)}},n.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var e,t=[];if("string"==typeof this.subgroupOrderer){for(e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(e,t){return e.sortField-t.sortField})}else if("function"==typeof this.subgroupOrderer){for(e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},n.prototype.resetSubgroups=function(){for(var e in this.subgroups)this.subgroups.hasOwnProperty(e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)},n.prototype.remove=function(e){delete this.items[e.id],e.setParent(null),this.stackDirty=!0;var t=this.visibleItems.indexOf(e);-1!=t&&this.visibleItems.splice(t,1),void 0!==e.data.subgroup&&(this._removeFromSubgroup(e),this.orderSubgroups())},n.prototype._removeFromSubgroup=function(e,t){if(void 0!=(t=t||e.data.subgroup)){var i=this.subgroups[t];if(i){var n=i.items.indexOf(e);n>=0&&(i.items.splice(n,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[t])}}},n.prototype.removeFromDataSet=function(e){this.itemSet.removeItem(e.id)},n.prototype.order=function(){for(var e=r.toArray(this.items),t=[],i=[],n=0;n<e.length;n++)void 0!==e[n].data.end&&i.push(e[n]),t.push(e[n]);this.orderedItems={byStart:t,byEnd:i},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},n.prototype._updateItemsInRange=function(e,t,i){var n=[],o={},s=(i.end-i.start)/4,a=i.start-s,u=i.end+s,l=function(e){return e<a?-1:e<=u?0:1};if(t.length>0)for(var h=0;h<t.length;h++)this._checkIfVisibleWithReference(t[h],n,o,i);var c=r.binarySearchCustom(e.byStart,l,"data","start");if(this._traceVisible(c,e.byStart,n,o,function(e){return e.data.start<a||e.data.start>u}),1==this.checkRangedItems)for(this.checkRangedItems=!1,h=0;h<e.byEnd.length;h++)this._checkIfVisibleWithReference(e.byEnd[h],n,o,i);else{var d=r.binarySearchCustom(e.byEnd,l,"data","end");this._traceVisible(d,e.byEnd,n,o,function(e){return e.data.end<a||e.data.end>u})}var p={},f=0;for(h=0;h<n.length;h++){var m=n[h];m.displayed||(p[h]=m.redraw(!0),f=p[h].length)}if(f>0)for(var g=0;g<f;g++)r.forEach(p,function(e){e[g]()});for(h=0;h<n.length;h++)n[h].repositionX();return n},n.prototype._traceVisible=function(e,t,i,n,o){if(-1!=e){var r,s;for(r=e;r>=0&&(s=t[r],!o(s));r--)void 0===n[s.id]&&(n[s.id]=!0,i.push(s));for(r=e+1;r<t.length&&(s=t[r],!o(s));r++)void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}},n.prototype._checkIfVisible=function(e,t,i){e.isVisible(i)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()},n.prototype._checkIfVisibleWithReference=function(e,t,i,n){e.isVisible(n)?void 0===i[e.id]&&(i[e.id]=!0,t.push(e)):e.displayed&&e.hide()},n.prototype.changeSubgroup=function(e,t,i){this._removeFromSubgroup(e,t),this._addToSubgroup(e,i),this.orderSubgroups()},e.exports=n},function(e,t,i){function n(e,t,i){r.call(this,e,t,i),this.width=0,this.height=0,this.top=0,this.left=0}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(29)),r=i(68);(n.prototype=(0,o.default)(r.prototype)).redraw=function(e,t,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,o=this.visibleItems.length;n<o;n++)this.visibleItems[n].repositionY(t);return!1},n.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},e.exports=n},function(e,t,i){function n(e,t,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,e){if(void 0==e.start)throw new Error('Property "start" missing in item '+e.id);if(void 0==e.end)throw new Error('Property "end" missing in item '+e.id)}o.call(this,e,t,i)}var o=i(38);(n.prototype=new o(null,null,null)).baseClassName="vis-item vis-range",n.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}},n.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},n.prototype.redraw=function(e){var t,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];if(e)return i;var n;return i.forEach(function(e){n=e()}),n},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}},n.prototype.repositionX=function(e){var t,i,n=this.parent.width,o=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==e&&!0!==e||(o<-n&&(o=-n),r>2*n&&(r=2*n));var a=Math.max(r-o+.5,1);switch(this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=a+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=a,i=Math.min(r-o,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=a+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-i,0)+"px":this.dom.content.style.left=Math.max(a-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-i)/2,0)+"px":this.dom.content.style.left=Math.max((a-i)/2,0)+"px";break;default:t=this.overflow?r>0?Math.max(-o,0):-i:o<0?-o:0,this.options.rtl?this.dom.content.style.right=t+"px":(this.dom.content.style.left=t+"px",this.dom.content.style.width="calc(100% - "+t+"px)")}},n.prototype.repositionY=function(){var e=this.options.orientation.item;this.dom.box.style.top="top"==e?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},n.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},e.exports=n},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(19)),r=n(i(6)),s=n(i(0)),a=n(i(1)),u=i(2),l=i(179).default,h=function(){function e(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,s.default)(this,e),this.parent=t,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},u.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new l(o),this.wrapper=void 0}return(0,a.default)(e,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;"string"==typeof e?this.options.filter=e:e instanceof Array?this.options.filter=e.join():"object"===(void 0===e?"undefined":(0,r.default)(e))?(void 0!==e.container&&(this.options.container=e.container),void 0!==e.filter&&(this.options.filter=e.filter),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)):"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0),!1===this.options.filter&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var e=this;this._clean(),this.changedOptions=[];var t=this.options.filter,i=0,n=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(this.allowCreation=!1,n=!1,"function"==typeof t?n=(n=t(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==t&&-1===t.indexOf(o)||(n=!0),!1!==n&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),i++);if(!0===this.options.showButton){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerHTML="generate options",r.onclick=function(){e._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,i=0;i<e.length;i++){if(void 0===t[e[i]]){t=void 0;break}t=t[e[i]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return n.forEach(function(e){t.appendChild(e)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+t.length,n.innerHTML=!0===i?"<i><b>"+e+":</b></i>":e+":",n}},{key:"_makeDropdown",value:function(e,t,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;void 0!==t&&-1!==e.indexOf(t)&&(o=e.indexOf(t));for(var r=0;r<e.length;r++){var s=document.createElement("option");s.value=e[r],r===o&&(s.selected="selected"),s.innerHTML=e[r],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var u=this._makeLabel(i[i.length-1],i);this._makeItem(i,u,n)}},{key:"_makeRange",value:function(e,t,i){var n=e[0],o=e[1],r=e[2],s=e[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(e){}a.step=s;var u="",l=0;void 0!==t?(t<0&&1.2*t<o?(a.min=Math.ceil(1.2*t),l=a.min,u="range increased"):t/1.2<o&&(a.min=Math.ceil(t/1.2),l=a.min,u="range increased"),1.2*t>r&&1!==r&&(a.max=Math.ceil(1.2*t),l=a.max,u="range increased"),a.value=t):a.value=n;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=a.value;var c=this;a.onchange=function(){h.value=this.value,c._update(Number(this.value),i)},a.oninput=function(){h.value=this.value};var d=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,d,a,h);""!==u&&this.popupHistory[p]!==l&&(this.popupHistory[p]=l,this._setupPopup(u,p))}},{key:"_setupPopup",value:function(e,t){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=e,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,void 0!==t&&(n.checked=t,t!==e&&("object"===(void 0===e?"undefined":(0,r.default)(e))?t!==e.enabled&&this.changedOptions.push({path:i,value:t}):this.changedOptions.push({path:i,value:t})));var o=this;n.onchange=function(){o._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeTextInput",value:function(e,t,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:i,value:t});var o=this;n.onchange=function(){o._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeColorField",value:function(e,t,i){var n=this,o=e[1],r=document.createElement("div");"none"!==(t=void 0===t?o:t)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=t):r.className="vis-configuration vis-config-colorBlock none",t=void 0===t?o:t,r.onclick=function(){n._showColorPicker(t,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(e,t,i){var n=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(e){var o="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=o,n._update(o,i)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){n._showColorPicker(e,t,i)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=this.options.filter,r=!1;for(var s in e)if(e.hasOwnProperty(s)){n=!0;var a=e[s],l=u.copyAndExtendArray(t,s);if("function"==typeof o&&!1===(n=o(s,t))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==n){r=!0;var h=this._getValue(l);if(a instanceof Array)this._handleArray(a,h,l);else if("string"==typeof a)this._makeTextInput(a,h,l);else if("boolean"==typeof a)this._makeCheckbox(a,h,l);else if(a instanceof Object){var c=!0;if(-1!==t.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(c=!1),!0===c)if(void 0!==a.enabled){var d=u.copyAndExtendArray(l,"enabled"),p=this._getValue(d);if(!0===p){var f=this._makeLabel(s,l,!0);this._makeItem(l,f),r=this._handleObject(a,l)||r}else this._makeCheckbox(a,p,l)}else{var m=this._makeLabel(s,l,!0);this._makeItem(l,m),r=this._handleObject(a,l)||r}}else console.error("dont know how to handle",a,s,l)}}return r}},{key:"_handleArray",value:function(e,t,i){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,i),e[1]!==t&&this.changedOptions.push({path:i,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:Number(t)}))}},{key:"_update",value:function(e,t){var i=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;e="false"!==(e="true"===e||e)&&e;for(var o=0;o<t.length;o++)"global"!==t[o]&&(void 0===n[t[o]]&&(n[t[o]]={}),o!==t.length-1?n=n[t[o]]:n[t[o]]=e);return i}},{key:"_printOptions",value:function(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,o.default)(e,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),e}();t.default=h},function(e,t,i){function n(e,t){}function o(e,t){return t=void 0===t?{}:t,{style:t.style||e.options.drawPoints.style,styles:t.styles||e.options.drawPoints.styles,size:t.size||e.options.drawPoints.size,className:t.className||e.className}}function r(e,t){var i=void 0;return e.options&&e.options.drawPoints&&e.options.drawPoints.onRender&&"function"==typeof e.options.drawPoints.onRender&&(i=e.options.drawPoints.onRender),t.group.options&&t.group.options.drawPoints&&t.group.options.drawPoints.onRender&&"function"==typeof t.group.options.drawPoints.onRender&&(i=t.group.options.drawPoints.onRender),i}var s=function(e){return e&&e.__esModule?e:{default:e}}(i(6)),a=i(14);n.draw=function(e,t,i,n){n=n||0;for(var u=r(i,t),l=0;l<e.length;l++)if(u){var h=u(e[l],t);!0!==h&&"object"!==(void 0===h?"undefined":(0,s.default)(h))||a.drawPoint(e[l].screen_x+n,e[l].screen_y,o(t,h),i.svgElements,i.svg,e[l].label)}else a.drawPoint(e[l].screen_x+n,e[l].screen_y,o(t),i.svgElements,i.svg,e[l].label)},n.drawIcon=function(e,t,i,n,r,s){var u=.5*r,l=a.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i-u),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",2*u),l.setAttributeNS(null,"class","vis-outline"),a.drawPoint(t+.5*n,i,o(e),s.svgElements,s.svg)},e.exports=n},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){(0,r.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return s.labelOffset=0,s.selected=!1,s}return(0,u.default)(t,e),(0,s.default)(t,[{key:"setOptions",value:function(e,t,i){this.options=e,void 0===t&&void 0===i||this.setImages(t,i)}},{key:"setImages",value:function(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}},{key:"switchImages",value:function(e){var t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var e,t;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=2*this.options.size*i,t=2*this.options.size*n}else e=this.imageObj.width,t=this.imageObj.height;this.width=e,this.height=t,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(e,t,i,n){this.initContextForDraw(e,n),e.circle(t,i,n.size),this.performFill(e,n)}},{key:"_drawImageAtPosition",value:function(e,t){if(0!=this.imageObj.width){e.globalAlpha=1,this.enableShadow(e,t);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(e,i,this.left,this.top,this.width,this.height),this.disableShadow(e,t)}}},{key:"_drawImageLabel",value:function(e,t,i,n,o){var r,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(e,n,o);a.lineCount>=1&&(s+=a.height/2)}r=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,t,r,n,o,"hanging")}}]),t}(n(i(23)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(19)),r=n(i(6)),s=n(i(29)),a=n(i(0)),u=n(i(1)),l=i(2),h=i(117).default,c=i(48).default,d=i(215).default,p=i(217).default,f=i(218).default,m=i(219).default,g=function(){function e(t,i,n,o){if((0,a.default)(this,e),void 0===i)throw new Error("No body provided");this.options=l.bridgeObject(n),this.globalOptions=n,this.defaultOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new h(this.body,this.options,!0),this.setOptions(t)}return(0,u.default)(e,[{key:"setOptions",value:function(t){if(t){e.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value));var i=[t,this.options,this.defaultOptions];this.chooser=c.choosify("edge",i),this.updateLabelModule(t);var n=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===t.hidden&&void 0===t.physics||(n=!0),n}}},{key:"getFormattingValues",value:function(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var r=this.options.selectionWidth;"function"==typeof r?o.width=r(o.width):"number"==typeof r&&(o.width+=r),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof p&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof d&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof f&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof m&&!1===e.type.enabled)&&(i=!1),!0===i&&(t=this.cleanup())),!0===i?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new p(this.options,this.body,this.labelModule)):"cubicBezier"===e.type?this.edgeType=new d(this.options,this.body,this.labelModule):this.edgeType=new f(this.options,this.body,this.labelModule):this.edgeType=new m(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,t)),this.edgeType.drawLine(e,t,this.selected,this.hover,i),this.drawArrows(e,n,t),this.drawLabel(e,i)}}},{key:"drawArrows",value:function(e,t,i){i.fromArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,t.from),i.middleArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,t.middle),i.toArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,t.to)}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,t);e.save();var r=this._getRotation(e);0!=r.angle&&(e.translate(r.x,r.y),e.rotate(r.angle)),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var s,a,u=this.options.selfReferenceSize;i.shape.width>i.shape.height?(s=i.x+.5*i.shape.width,a=i.y-u):(s=i.x+u,a=i.y-.5*i.shape.height),o=this._pointOnCircle(s,a,u,.125),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var i=this._getRotation();c.pointInRect(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}var n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,i=this.from.y,n=this.to.x,o=this.to.y,r=e.left,s=e.top;return this.edgeType.getDistanceToEdge(t,i,n,o,r,s)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var o=this.from.y-this.to.y,r=this.from.x-this.to.x,s=Math.atan2(o,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),n.angle=s,n}},{key:"_pointOnCircle",value:function(e,t,i,n){var o=2*n*Math.PI;return{x:e+i*Math.cos(o),y:t-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(l.selectiveDeepExtend(u,e,t,i),c.isValidLabel(t.label)?e.label=t.label:e.label=void 0,l.mergeOptions(e,t,"smooth",n),l.mergeOptions(e,t,"shadow",n),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:!0===i&&null===t.dashes&&(e.dashes=(0,s.default)(n.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),l.mergeOptions(e.scaling,t.scaling,"label",n.scaling)):!0===i&&null===t.scaling&&(e.scaling=(0,s.default)(n.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows){var h=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=h.indexOf("to"),e.arrows.middle.enabled=-1!=h.indexOf("middle"),e.arrows.from.enabled=-1!=h.indexOf("from")}else{if("object"!==(0,r.default)(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,o.default)(t.arrows));l.mergeOptions(e.arrows,t.arrows,"to",n.arrows),l.mergeOptions(e.arrows,t.arrows,"middle",n.arrows),l.mergeOptions(e.arrows,t.arrows,"from",n.arrows)}else!0===i&&null===t.arrows&&(e.arrows=(0,s.default)(n.arrows));if(void 0!==t.color&&null!==t.color){var d=t.color,p=e.color;if(a)l.deepExtend(p,n.color,!1,i);else for(var f in p)p.hasOwnProperty(f)&&delete p[f];if(l.isString(p))p.color=p,p.highlight=p,p.hover=p,p.inherit=!1,void 0===d.opacity&&(p.opacity=1);else{var m=!1;void 0!==d.color&&(p.color=d.color,m=!0),void 0!==d.highlight&&(p.highlight=d.highlight,m=!0),void 0!==d.hover&&(p.hover=d.hover,m=!0),void 0!==d.inherit&&(p.inherit=d.inherit),void 0!==d.opacity&&(p.opacity=Math.min(1,Math.max(0,d.opacity))),!0===m?p.inherit=!1:void 0===p.inherit&&(p.inherit="from")}}else!0===i&&null===t.color&&(e.color=l.bridgeObject(n.color));!0===i&&null===t.font&&(e.font=l.bridgeObject(n.font))}}]),e}();t.default=g},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_findBorderPositionBezier",value:function(e,t){var i,n,o,r,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),u=0,l=0,h=1,c=this.to,d=!1;for(e.id===this.from.id&&(c=this.from,d=!0);l<=h&&u<10;){var p=.5*(l+h);if(i=this.getPoint(p,a),n=Math.atan2(c.y-i.y,c.x-i.x),o=c.distanceToBorder(t,n),r=Math.sqrt(Math.pow(i.x-c.x,2)+Math.pow(i.y-c.y,2)),s=o-r,Math.abs(s)<.2)break;s<0?!1===d?l=p:h=p:!1===d?h=p:l=p,u++}return i.t=p,i}},{key:"_getDistanceToBezierEdge",value:function(e,t,i,n,o,r,s){var a=1e9,u=void 0,l=void 0,h=void 0,c=void 0,d=void 0,p=e,f=t;for(l=1;l<10;l++)h=.1*l,c=Math.pow(1-h,2)*e+2*h*(1-h)*s.x+Math.pow(h,2)*i,d=Math.pow(1-h,2)*t+2*h*(1-h)*s.y+Math.pow(h,2)*n,l>0&&(a=(u=this._getDistanceToLine(p,f,c,d,o,r))<a?u:a),p=c,f=d;return a}},{key:"_bezierCurve",value:function(e,t,i,n){var o=void 0!==i&&void 0!==i.x,r=void 0!==n&&void 0!==n.x;e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),o&&r?e.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):o?e.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(n(i(118)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(2),a=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,null,[{key:"getRange",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(t=e[i[a]]).shape.boundingBox.left&&(r=t.shape.boundingBox.left),s<t.shape.boundingBox.right&&(s=t.shape.boundingBox.right),n>t.shape.boundingBox.top&&(n=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}},{key:"getRangeCore",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(t=e[i[a]]).x&&(r=t.x),s<t.x&&(s=t.x),n>t.y&&(n=t.y),o<t.y&&(o=t.y);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var i={};return void 0===t||"node"===t?(s.deepExtend(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):s.deepExtend(i,e.options,!0),i}}]),e}();t.default=a},function(e,t,i){e.exports={default:i(124),__esModule:!0}},function(e,t,i){var n=i(50);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){var n=i(52),o=i(17),r=i(83),s=i(26),a=i(22),u=i(31),l=i(129),h=i(59),c=i(85),d=i(13)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,i,m,g,v,y){l(i,t,m);var b,x,w,D=function(e){if(!p&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},C=t+" Iterator",k="values"==g,_=!1,E=e.prototype,S=E[d]||E["@@iterator"]||g&&E[g],A=S||D(g),F=g?k?D("entries"):A:void 0,M="Array"==t?E.entries||S:S;if(M&&(w=c(M.call(new e)))!==Object.prototype&&w.next&&(h(w,C,!0),n||a(w,d)||s(w,d,f)),k&&S&&"values"!==S.name&&(_=!0,A=function(){return S.call(this)}),n&&!y||!p&&!_&&E[d]||s(E,d,A),u[t]=A,u[C]=f,g)if(b={values:k?A:D("values"),keys:v?A:D("keys"),entries:F},y)for(x in b)x in E||r(E,x,b[x]);else o(o.P+o.F*(p||_),t,b);return b}},function(e,t,i){var n=i(128);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){e.exports=!i(21)&&!i(28)(function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(32),o=i(18).document,r=n(o)&&n(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,i){e.exports=i(26)},function(e,t,i){var n=i(22),o=i(25),r=i(131)(!1),s=i(56)("IE_PROTO");e.exports=function(e,t){var i,a=o(e),u=0,l=[];for(i in a)i!=s&&n(a,i)&&l.push(i);for(;t.length>u;)n(a,i=t[u++])&&(~r(l,i)||l.push(i));return l}},function(e,t,i){var n=i(22),o=i(41),r=i(56)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,i){var n=i(50),o=i(13)("toStringTag"),r="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=s(t=Object(e),o))?i:r?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,i){var n=i(17),o=i(7),r=i(28);e.exports=function(e,t){var i=(o.Object||{})[e]||Object[e],s={};s[e]=t(i),n(n.S+n.F*r(function(){i(1)}),"Object",s)}},function(e,t,i){var n=i(84),o=i(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,i){var n=i(42),o=i(39),r=i(25),s=i(53),a=i(22),u=i(81),l=Object.getOwnPropertyDescriptor;t.f=i(21)?l:function(e,t){if(e=r(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(a(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t,i){e.exports={default:i(162),__esModule:!0}},function(e,t,i){e.exports=function(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}},function(e,t,i){function n(e,t){if(void 0===e)throw new Error("No container element defined");if(this.container=e,this.visible=!t||void 0==t.visible||t.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(e){i._onMouseDown(e)},this.frame.prev.onclick=function(e){i.prev(e)},this.frame.play.onclick=function(e){i.togglePlay(e)},this.frame.next.onclick=function(e){i.next(e)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var o=i(2);n.prototype.prev=function(){var e=this.getIndex();e>0&&(e--,this.setIndex(e))},n.prototype.next=function(){var e=this.getIndex();e<this.values.length-1&&(e++,this.setIndex(e))},n.prototype.playNext=function(){var e=new Date,t=this.getIndex();t<this.values.length-1?(t++,this.setIndex(t)):this.playLoop&&(t=0,this.setIndex(t));var i=new Date-e,n=Math.max(this.playInterval-i,0),o=this;this.playTimeout=setTimeout(function(){o.playNext()},n)},n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},n.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},n.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},n.prototype.setOnChangeCallback=function(e){this.onChangeCallback=e},n.prototype.setPlayInterval=function(e){this.playInterval=e},n.prototype.getPlayInterval=function(){return this.playInterval},n.prototype.setPlayLoop=function(e){this.playLoop=e},n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},n.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var e=this.indexToLeft(this.index);this.frame.slide.style.left=e+"px"}},n.prototype.setValues=function(e){this.values=e,this.values.length>0?this.setIndex(0):this.index=void 0},n.prototype.setIndex=function(e){if(!(e<this.values.length))throw new Error("Index out of range");this.index=e,this.redraw(),this.onChange()},n.prototype.getIndex=function(){return this.index},n.prototype.get=function(){return this.values[this.index]},n.prototype._onMouseDown=function(e){if(e.which?1===e.which:1===e.button){this.startClientX=e.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var t=this;this.onmousemove=function(e){t._onMouseMove(e)},this.onmouseup=function(e){t._onMouseUp(e)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(e)}},n.prototype.leftToIndex=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=e-3,n=Math.round(i/t*(this.values.length-1));return n<0&&(n=0),n>this.values.length-1&&(n=this.values.length-1),n},n.prototype.indexToLeft=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return e/(this.values.length-1)*t+3},n.prototype._onMouseMove=function(e){var t=e.clientX-this.startClientX,i=this.startSlideX+t,n=this.leftToIndex(i);this.setIndex(n),o.preventDefault()},n.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},e.exports=n},function(e,t,i){function n(e,t,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(e,t,i,n)}n.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.prototype.setRange=function(e,t,i,n){if(!this.isNumeric(e))throw new Error("Parameter 'start' is not numeric; value: "+e);if(!this.isNumeric(t))throw new Error("Parameter 'end' is not numeric; value: "+e);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+e);this._start=e||0,this._end=t||0,this.setStep(i,n)},n.prototype.setStep=function(e,t){void 0===e||e<=0||(void 0!==t&&(this.prettyStep=t),!0===this.prettyStep?this._step=n.calculatePrettyStep(e):this._step=e)},n.calculatePrettyStep=function(e){var t=function(e){return Math.log(e)/Math.LN10},i=Math.pow(10,Math.round(t(e))),n=2*Math.pow(10,Math.round(t(e/2))),o=5*Math.pow(10,Math.round(t(e/5))),r=i;return Math.abs(n-e)<=Math.abs(r-e)&&(r=n),Math.abs(o-e)<=Math.abs(r-e)&&(r=o),r<=0&&(r=1),r},n.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},n.prototype.getStep=function(){return this._step},n.prototype.start=function(e){void 0===e&&(e=!1),this._current=this._start-this._start%this._step,e&&this.getCurrent()<this._start&&this.next()},n.prototype.next=function(){this._current+=this._step},n.prototype.end=function(){return this._current>this._end},e.exports=n},function(e,t,i){function n(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e){return void 0===e||""===e||"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t){return void 0===e||""===e?t:e+o(t)}function s(e,t,i,n){for(var o,s=0;s<i.length;++s)t[r(n,o=i[s])]=e[o]}function a(e,t,i,n){for(var o,s=0;s<i.length;++s)void 0!==e[o=i[s]]&&(t[r(n,o)]=e[o])}function u(e,t){void 0!==e.backgroundColor&&p(e.backgroundColor,t),f(e.dataColor,t),d(e.style,t),l(e.showLegend,t),m(e.cameraPosition,t),void 0!==e.tooltip&&(t.showTooltip=e.tooltip),void 0!=e.onclick&&(t.onclick_callback=e.onclick),void 0!==e.tooltipStyle&&v.selectiveDeepExtend(["tooltipStyle"],t,e)}function l(e,t){if(void 0===e){if(void 0===k.showLegend){var i=t.style===x.DOTCOLOR||t.style===x.DOTSIZE;t.showLegend=i}}else t.showLegend=e}function h(e){var t=w[e];return void 0===t?-1:t}function c(e){var t=!1;for(var i in x)if(x[i]===e){t=!0;break}return t}function d(e,t){if(void 0!==e){var i;if("string"==typeof e){if(-1===(i=h(e)))throw new Error("Style '"+e+"' is invalid")}else{if(!c(e))throw new Error("Style '"+e+"' is invalid");i=e}t.style=i}}function p(e,t){var i="white",n="gray",o=1;if("string"==typeof e)i=e,n="none",o=0;else{if("object"!==(void 0===e?"undefined":(0,g.default)(e)))throw new Error("Unsupported type of backgroundColor");void 0!==e.fill&&(i=e.fill),void 0!==e.stroke&&(n=e.stroke),void 0!==e.strokeWidth&&(o=e.strokeWidth)}t.frame.style.backgroundColor=i,t.frame.style.borderColor=n,t.frame.style.borderWidth=o+"px",t.frame.style.borderStyle="solid"}function f(e,t){void 0!==e&&(void 0===t.dataColor&&(t.dataColor={}),"string"==typeof e?(t.dataColor.fill=e,t.dataColor.stroke=e):(e.fill&&(t.dataColor.fill=e.fill),e.stroke&&(t.dataColor.stroke=e.stroke),void 0!==e.strokeWidth&&(t.dataColor.strokeWidth=e.strokeWidth)))}function m(e,t){var i=e;void 0!==i&&(void 0===t.camera&&(t.camera=new y),t.camera.setArmRotation(i.horizontal,i.vertical),t.camera.setArmLength(i.distance))}var g=function(e){return e&&e.__esModule?e:{default:e}}(i(6)),v=i(2),y=i(95),b=i(34),x={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},w={dot:x.DOT,"dot-line":x.DOTLINE,"dot-color":x.DOTCOLOR,"dot-size":x.DOTSIZE,line:x.LINE,grid:x.GRID,surface:x.SURFACE,bar:x.BAR,"bar-color":x.BARCOLOR,"bar-size":x.BARSIZE},D=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],C=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],k=void 0;e.exports.STYLE=x,e.exports.setDefaults=function(e,t){if(void 0===e||n(e))throw new Error("No DEFAULTS passed");if(void 0===t)throw new Error("No dst passed");k=e,s(e,t,D),s(e,t,C,"default"),u(e,t),t.margin=10,t.showGrayBottom=!1,t.showTooltip=!1,t.onclick_callback=null,t.eye=new b(0,0,-1)},e.exports.setOptions=function(e,t){if(void 0!==e){if(void 0===t)throw new Error("No dst passed");if(void 0===k||n(k))throw new Error("DEFAULTS not set for module Settings");a(e,t,D),a(e,t,C,"default"),u(e,t)}},e.exports.setCameraPosition=m},function(e,t,i){function n(){this.armLocation=new r,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new r,this.offsetMultiplier=.6,this.cameraLocation=new r,this.cameraRotation=new r(.5*Math.PI,0,0),this.calculateCameraOrientation()}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(165)),r=i(34);n.prototype.setOffset=function(e,t){var i=Math.abs,n=o.default,r=this.offsetMultiplier,s=this.armLength*r;i(e)>s&&(e=n(e)*s),i(t)>s&&(t=n(t)*s),this.cameraOffset.x=e,this.cameraOffset.y=t,this.calculateCameraOrientation()},n.prototype.getOffset=function(){return this.cameraOffset},n.prototype.setArmLocation=function(e,t,i){this.armLocation.x=e,this.armLocation.y=t,this.armLocation.z=i,this.calculateCameraOrientation()},n.prototype.setArmRotation=function(e,t){void 0!==e&&(this.armRotation.horizontal=e),void 0!==t&&(this.armRotation.vertical=t,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===e&&void 0===t||this.calculateCameraOrientation()},n.prototype.getArmRotation=function(){var e={};return e.horizontal=this.armRotation.horizontal,e.vertical=this.armRotation.vertical,e},n.prototype.setArmLength=function(e){void 0!==e&&(this.armLength=e,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},n.prototype.getArmLength=function(){return this.armLength},n.prototype.getCameraLocation=function(){return this.cameraLocation},n.prototype.getCameraRotation=function(){return this.cameraRotation},n.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var e=this.cameraRotation.x,t=this.cameraRotation.z,i=this.cameraOffset.x,n=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*r(t)+n*-o(t)*r(e),this.cameraLocation.y=this.cameraLocation.y+i*o(t)+n*r(t)*r(e),this.cameraLocation.z=this.cameraLocation.z+n*o(e)},e.exports=n},function(e,t,i){function n(e,t,i){this.dataGroup=e,this.column=t,this.graph=i,this.index=void 0,this.value=void 0,this.values=e.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var o=i(12);n.prototype.isLoaded=function(){return this.loaded},n.prototype.getLoadedProgress=function(){for(var e=this.values.length,t=0;this.dataPoints[t];)t++;return Math.round(t/e*100)},n.prototype.getLabel=function(){return this.graph.filterLabel},n.prototype.getColumn=function(){return this.column},n.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},n.prototype.getValues=function(){return this.values},n.prototype.getValue=function(e){if(e>=this.values.length)throw new Error("Index out of range");return this.values[e]},n.prototype._getDataPoints=function(e){if(void 0===e&&(e=this.index),void 0===e)return[];var t;if(this.dataPoints[e])t=this.dataPoints[e];else{var i={};i.column=this.column,i.value=this.values[e];var n=new o(this.dataGroup.getDataSet(),{filter:function(e){return e[i.column]==i.value}}).get();t=this.dataGroup._getDataPoints(n),this.dataPoints[e]=t}return t},n.prototype.setOnLoadCallback=function(e){this.onLoadCallback=e},n.prototype.selectValue=function(e){if(e>=this.values.length)throw new Error("Index out of range");this.index=e,this.value=this.values[e]},n.prototype.loadInBackground=function(e){void 0===e&&(e=0);var t=this.graph.frame;if(e<this.values.length){void 0===t.progress&&(t.progress=document.createElement("DIV"),t.progress.style.position="absolute",t.progress.style.color="gray",t.appendChild(t.progress));var i=this.getLoadedProgress();t.progress.innerHTML="Loading animation... "+i+"%",t.progress.style.bottom="60px",t.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(e+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==t.progress&&(t.removeChild(t.progress),t.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},e.exports=n},function(e,t,i){function n(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(e){t.hammer.on(e,function(e){e.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){o(i.target,e)||t.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=r(),this.escListener=this.deactivate.bind(this)}function o(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}var r=i(35),s=i(44),a=i(10),u=i(2);s(n.prototype),n.current=null,n.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},n.prototype.activate=function(){n.current&&n.current.deactivate(),n.current=this,this.active=!0,this.dom.overlay.style.display="none",u.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},n.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",u.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},n.prototype._onTapOverlay=function(e){this.activate(),e.stopPropagation()},e.exports=n},function(e,t,i){t.en={current:"current",time:"time"},t.en_EN=t.en,t.en_US=t.en,t.it={current:"attuale",time:"tempo"},t.it_IT=t.it,t.it_CH=t.it,t.nl={current:"huidige",time:"tijd"},t.nl_NL=t.nl,t.nl_BE=t.nl,t.de={current:"Aktuelle",time:"Zeit"},t.de_DE=t.de,t.fr={current:"actuel",time:"heure"},t.fr_FR=t.fr,t.fr_CA=t.fr,t.fr_BE=t.fr,t.es={current:"corriente",time:"hora"},t.es_ES=t.es},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(e,t,i){var n=t.order;t.order=e.order,e.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:c.snap,onDropObjectOnItem:function(e,t,i){i(t)},onAdd:function(e,t){t(e)},onUpdate:function(e,t){t(e)},onMove:function(e,t){t(e)},onRemove:function(e,t){t(e)},onMoving:function(e,t){t(e)},onAddGroup:function(e,t){t(e)},onMoveGroup:function(e,t){t(e)},onRemoveGroup:function(e,t){t(e)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=u.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,n){i._onAdd(t.items)},update:function(e,t,n){i._onUpdate(t.items)},remove:function(e,t,n){i._onRemove(t.items)}},this.groupListeners={add:function(e,t,n){if(i._onAddGroups(t.items),i.groupsData&&i.groupsData.length>0){var o=i.groupsData.getDataSet();o.get().forEach(function(e){if(e.nestedGroups){0!=e.showNested&&(e.showNested=!0);var t=[];e.nestedGroups.forEach(function(i){var n=o.get(i);n&&(n.nestedInGroup=e.id,0==e.showNested&&(n.visible=!1),t=t.concat(n))}),o.update(t,n)}})}},update:function(e,t,n){i._onUpdateGroups(t.items)},remove:function(e,t,n){i._onRemoveGroups(t.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(t)}var r=n(i(29)),s=n(i(6)),a=i(10),u=i(2),l=i(11),h=i(12),c=i(66),d=i(16),p=i(68),f=i(69),m=i(101),g=i(102),v=i(70),y=i(103),b=i(104).default,x="__ungrouped__",w="__background__";o.prototype=new d,o.types={background:y,box:m,range:v,point:g},o.prototype._create=function(){var e=document.createElement("div");e.className="vis-itemset",e["timeline-itemset"]=this,this.dom.frame=e;var t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;var i=document.createElement("div");i.className="vis-foreground",e.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var r=new f(w,null,this);r.show(),this.groups[w]=r,this.hammer=new a(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(e){e.isFirst&&this._onTouch(e)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new a(this.body.dom.rightContainer):this.groupHammer=new a(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:a.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},o.prototype.setOptions=function(e){if(e){var t=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];u.selectiveExtend(t,this.options,e),"itemsAlwaysDraggable"in e&&("boolean"==typeof e.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,s.default)(e.itemsAlwaysDraggable)&&(u.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.item="top"===e.orientation?"top":"bottom":"object"===(0,s.default)(e.orientation)&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&("number"==typeof e.margin?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):"object"===(0,s.default)(e.margin)&&(u.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&("number"==typeof e.margin.item?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):"object"===(0,s.default)(e.margin.item)&&u.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),"editable"in e&&("boolean"==typeof e.editable?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):"object"===(0,s.default)(e.editable)&&u.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&("boolean"==typeof e.groupEditable?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):"object"===(0,s.default)(e.groupEditable)&&u.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));var i=function(t){var i=e[t];if(i){if(!(i instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=i}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i),this.markDirty()}},o.prototype.markDirty=function(e){this.groupIds=[],e&&e.refreshItems&&u.forEach(this.items,function(e){e.dirty=!0,e.displayed&&e.redraw()})},o.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},o.prototype.setSelection=function(e){var t,i,n,o;for(void 0==e&&(e=[]),Array.isArray(e)||(e=[e]),t=0,i=this.selection.length;t<i;t++)n=this.selection[t],(o=this.items[n])&&o.unselect();for(this.selection=[],t=0,i=e.length;t<i;t++)n=e[t],(o=this.items[n])&&(this.selection.push(n),o.select())},o.prototype.getSelection=function(){return this.selection.concat([])},o.prototype.getVisibleItems=function(){var e,t,i=this.body.range.getRange();this.options.rtl?(e=this.body.util.toScreen(i.start),t=this.body.util.toScreen(i.end)):(t=this.body.util.toScreen(i.start),e=this.body.util.toScreen(i.end));var n=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],s=r.isVisible?r.visibleItems:[],a=0;a<s.length;a++){var u=s[a];this.options.rtl?u.right<t&&u.right+u.width>e&&n.push(u.id):u.left<e&&u.left+u.width>t&&n.push(u.id)}return n},o.prototype._deselect=function(e){for(var t=this.selection,i=0,n=t.length;i<n;i++)if(t[i]==e){t.splice(i,1);break}},o.prototype.redraw=function(){var e=this.options.margin,t=this.body.range,i=u.option.asSize,n=this.options,o=n.orientation.item,r=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",r=this._orderGroups()||r;var a=t.end-t.start,l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,h=t.start!=this.lastRangeStart,c=n.stack!=this.lastStack,d=n.stackSubgroups!=this.lastStackSubgroups,p=l||h||c||d;this.lastVisibleInterval=a,this.lastRangeStart=t.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;var f=this._firstGroup(),m={item:e.item,axis:e.axis},g={item:e.item,axis:e.item.vertical/2},v=0,y=e.axis+e.item.vertical;this.groups[w].redraw(t,g,p);var b={},x=0;if(u.forEach(this.groups,function(e,i){if(i!==w){var n=e==f?m:g;b[i]=e.redraw(t,n,p,!0),x=b[i].length}}),x>0){for(var D={},C=0;C<x;C++)u.forEach(b,function(e,t){D[t]=e[C]()});u.forEach(this.groups,function(e,t){if(t!==w){var i=D[t];r=i||r,v+=e.height}}),v=Math.max(v,y)}return v=Math.max(v,y),s.style.height=i(v),this.props.width=s.offsetWidth,this.props.height=v,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,r=this._isResized()||r},o.prototype._firstGroup=function(){var e="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[x]||null},o.prototype._updateUngrouped=function(){var e,t,i=this.groups[x];if(this.groupsData){if(i){i.hide(),delete this.groups[x];for(t in this.items)if(this.items.hasOwnProperty(t)){(e=this.items[t]).parent&&e.parent.remove(e);var n=this._getGroupId(e.data),o=this.groups[n];o&&o.add(e)||e.hide()}}}else if(!i){i=new p(null,null,this),this.groups[x]=i;for(t in this.items)this.items.hasOwnProperty(t)&&(e=this.items[t],i.add(e));i.show()}},o.prototype.getLabelSet=function(){return this.dom.labelSet},o.prototype.setItems=function(e){var t,i=this,n=this.itemsData;if(e){if(!(e instanceof l||e instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(n&&(u.forEach(this.itemListeners,function(e,t){n.off(t,e)}),t=n.getIds(),this._onRemove(t)),this.itemsData){var o=this.id;u.forEach(this.itemListeners,function(e,t){i.itemsData.on(t,e,o)}),t=this.itemsData.getIds(),this._onAdd(t),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},o.prototype.getItems=function(){return this.itemsData},o.prototype.setGroups=function(e){var t,i=this;if(this.groupsData&&(u.forEach(this.groupListeners,function(e,t){i.groupsData.off(t,e)}),t=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(t)),e){if(!(e instanceof l||e instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var n=this.groupsData;this.groupsData instanceof h&&(n=this.groupsData.getDataSet()),n.get().forEach(function(e){e.nestedGroups&&e.nestedGroups.forEach(function(t){var i=n.get(t);i.nestedInGroup=e.id,0==e.showNested&&(i.visible=!1),n.update(i)})});var o=this.id;u.forEach(this.groupListeners,function(e,t){i.groupsData.on(t,e,o)}),t=this.groupsData.getIds(),this._onAddGroups(t)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},o.prototype.getGroups=function(){return this.groupsData},o.prototype.removeItem=function(e){var t=this.itemsData.get(e),i=this.itemsData.getDataSet();t&&this.options.onRemove(t,function(t){t&&i.remove(e)})},o.prototype._getType=function(e){return e.type||this.options.type||(e.end?"range":"box")},o.prototype._getGroupId=function(e){return"background"==this._getType(e)&&void 0==e.group?w:this.groupsData?e.group:x},o.prototype._onUpdate=function(e){var t=this;e.forEach(function(e){var i,n=t.itemsData.get(e,t.itemOptions),r=t.items[e],s=n?t._getType(n):null,a=o.types[s];if(r&&(a&&r instanceof a?t._updateItem(r,n):(i=r.selected,t._removeItem(r),r=null)),!r&&n){if(!a)throw"rangeoverflow"==s?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+s+'"');(r=new a(n,t.conversion,t.options)).id=e,t._addItem(r),i&&(this.selection.push(e),r.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},o.prototype._onAdd=o.prototype._onUpdate,o.prototype._onRemove=function(e){var t=0,i=this;e.forEach(function(e){var n=i.items[e];n&&(t++,i._removeItem(n))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},o.prototype._order=function(){u.forEach(this.groups,function(e){e.order()})},o.prototype._onUpdateGroups=function(e){this._onAddGroups(e)},o.prototype._onAddGroups=function(e){var t=this;e.forEach(function(e){var i=t.groupsData.get(e),n=t.groups[e];if(n)n.setData(i);else{if(e==x||e==w)throw new Error("Illegal group id. "+e+" is a reserved id.");var o=(0,r.default)(t.options);u.extend(o,{height:null}),n=new p(e,i,t),t.groups[e]=n;for(var s in t.items)if(t.items.hasOwnProperty(s)){var a=t.items[s];a.data.group==e&&n.add(a)}n.order(),n.show()}}),this.body.emitter.emit("_change",{queue:!0})},o.prototype._onRemoveGroups=function(e){var t=this.groups;e.forEach(function(e){var i=t[e];i&&(i.hide(),delete t[e])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},o.prototype._orderGroups=function(){if(this.groupsData){var e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);var t=!u.equalArray(e,this.groupIds);if(t){var i=this.groups;e.forEach(function(e){i[e].hide()}),e.forEach(function(e){i[e].show()}),this.groupIds=e}return t}return!1},o.prototype._orderNestedGroups=function(e){var t=[];return e.forEach(function(e){var i=this.groupsData.get(e);if(i.nestedInGroup||t.push(e),i.nestedGroups){var n=this.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:this.options.groupOrder}).map(function(e){return e.id});t=t.concat(n)}},this),t},o.prototype._addItem=function(e){this.items[e.id]=e;var t=this._getGroupId(e.data),i=this.groups[t];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,i&&i.add(e)},o.prototype._updateItem=function(e,t){e.setData(t);var i=this._getGroupId(e.data),n=this.groups[i];n?n&&n.data&&n.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1},o.prototype._removeItem=function(e){e.hide(),delete this.items[e.id];var t=this.selection.indexOf(e.id);-1!=t&&this.selection.splice(t,1),e.parent&&e.parent.remove(e)},o.prototype._constructByEndArray=function(e){for(var t=[],i=0;i<e.length;i++)e[i]instanceof v&&t.push(e[i]);return t},o.prototype._onTouch=function(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null},o.prototype._getGroupIndex=function(e){for(var t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t},o.prototype._onDragStart=function(e){if(!this.touchParams.itemIsDragging){var t,i=this.touchParams.item||null,n=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=i.editable&&!i.editable.updateTime&&!i.editable.updateGroup&&!this.options.editable.overrideItems)return;var o=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=i,o)t={item:o,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[t];else if(r)t={item:r,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[t];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable.item&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map(function(t){var i=n.items[t],o=n._getGroupIndex(i.data.group);return{item:i,initialX:e.center.x,groupOffset:s-o,data:this._cloneItemData(i.data)}}.bind(this))}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}},o.prototype._onDragStartAddItem=function(e){var t,i,n=this.options.snap||null;this.options.rtl?i=(t=u.getAbsoluteRight(this.dom.frame))-e.center.x+10:(t=u.getAbsoluteLeft(this.dom.frame),i=e.center.x-t-10);var o=this.body.util.toTime(i),r=this.body.util.getScale(),s=this.body.util.getStep(),a=n?n(o,r,s):o,l={type:"range",start:a,end:a,content:"new item"},h=u.randomUUID();l[this.itemsData._fieldId]=h;var c=this.groupFromTarget(e);c&&(l.group=c.groupId);var d=new v(l,this.conversion,this.options);d.id=h,d.data=this._cloneItemData(l),this._addItem(d),this.touchParams.selectedItem=d;var p={item:d,initialX:e.center.x,data:d.data};this.options.rtl?p.dragLeft=!0:p.dragRight=!0,this.touchParams.itemProps=[p],e.stopPropagation()},o.prototype._onDrag=function(e){if(this.touchParams.itemProps){e.stopPropagation();var t,i=this,n=this.options.snap||null;t=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var o=this.body.util.getScale(),r=this.body.util.getStep(),s=this.touchParams.selectedItem,a=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateGroup,l=null;if(a&&s&&void 0!=s.data.group){var h=i.groupFromTarget(e);h&&(l=this._getGroupIndex(h.groupId))}this.touchParams.itemProps.forEach(function(h){var c,d,p,f,m,g=i.body.util.toTime(e.center.x-t),v=i.body.util.toTime(h.initialX-t);c=this.options.rtl?-(g-v):g-v;var y=this._cloneItemData(h.item.data);if(null==h.item.editable||h.item.editable.updateTime||h.item.editable.updateGroup||i.options.editable.overrideItems){if((this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateTime)if(h.dragLeft)this.options.rtl?void 0!=y.end&&(p=u.convert(h.data.end,"Date"),m=new Date(p.valueOf()+c),y.end=n?n(m,o,r):m):void 0!=y.start&&(d=u.convert(h.data.start,"Date"),f=new Date(d.valueOf()+c),y.start=n?n(f,o,r):f);else if(h.dragRight)this.options.rtl?void 0!=y.start&&(d=u.convert(h.data.start,"Date"),f=new Date(d.valueOf()+c),y.start=n?n(f,o,r):f):void 0!=y.end&&(p=u.convert(h.data.end,"Date"),m=new Date(p.valueOf()+c),y.end=n?n(m,o,r):m);else if(void 0!=y.start)if(d=u.convert(h.data.start,"Date").valueOf(),f=new Date(d+c),void 0!=y.end){var b=(p=u.convert(h.data.end,"Date")).valueOf()-d.valueOf();y.start=n?n(f,o,r):f,y.end=new Date(y.start.valueOf()+b)}else y.start=n?n(f,o,r):f;if(a&&!h.dragLeft&&!h.dragRight&&null!=l&&void 0!=y.group){var x=l-h.groupOffset;x=Math.max(0,x),x=Math.min(i.groupIds.length-1,x),y.group=i.groupIds[x]}y=this._cloneItemData(y),i.options.onMoving(y,function(e){e&&h.item.setData(this._cloneItemData(e,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},o.prototype._moveToGroup=function(e,t){var i=this.groups[t];if(i&&i.groupId!=e.data.group){var n=e.parent;n.remove(e),n.order(),e.data.group=i.groupId,i.add(e),i.order()}},o.prototype._onDragEnd=function(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();var t=this,i=this.itemsData.getDataSet(),n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach(function(e){var n=e.item.id;if(null!=t.itemsData.get(n,t.itemOptions)){var o=this._cloneItemData(e.item.data);t.options.onMove(o,function(o){o?(o[i._fieldId]=n,i.update(o)):(e.item.setData(e.data),t.body.emitter.emit("_change"))})}else t.options.onAdd(e.item.data,function(i){t._removeItem(e.item),i&&t.itemsData.getDataSet().add(i),t.body.emitter.emit("_change")})}.bind(this))}},o.prototype._onGroupClick=function(e){var t=this.groupFromTarget(e);if(t&&t.nestedGroups){var i=this.groupsData.getDataSet(),n=i.get(t.groupId);void 0==n.showNested&&(n.showNested=!0),n.showNested=!n.showNested;var o=i.get(t.nestedGroups).map(function(e){return e.visible=n.showNested,e});if(i.update(o.concat(n)),n.showNested)u.removeClassName(t.dom.label,"collapsed"),u.addClassName(t.dom.label,"expanded");else{u.removeClassName(t.dom.label,"expanded");var r=this.options.rtl?"collapsed-rtl":"collapsed";u.addClassName(t.dom.label,r)}}},o.prototype._onGroupDragStart=function(e){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},o.prototype._onGroupDrag=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this.groupsData;this.groupsData instanceof h&&(t=this.groupsData.getDataSet());var i=this.groupFromTarget(e);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,o=e.center?e.center.y:e.clientY,r=u.getAbsoluteTop(i.dom.foreground),s=this.groupTouchParams.group.height;if(n){if(r+s<o)return}else if(r+i.height-s>o)return}if(i&&i!=this.groupTouchParams.group){var a=t.get(i.groupId),l=t.get(this.groupTouchParams.group.groupId);l&&a&&(this.options.groupOrderSwap(l,a,t),t.update(l),t.update(a));var c=t.getIds({order:this.options.groupOrder});if(!u.equalArray(c,this.groupTouchParams.originalOrder))for(var d=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,f=Math.min(d.length,c.length),m=0,g=0,v=0;m<f;){for(;m+g<f&&m+v<f&&c[m+g]==d[m+v];)m++;if(m+g>=f)break;if(c[m+g]==p)g=1;else if(d[m+v]==p)v=1;else{var y=c.indexOf(d[m+v]),b=t.get(c[m+g]),x=t.get(d[m+v]);this.options.groupOrderSwap(b,x,t),t.update(b),t.update(x);var w=c[m+g];c[m+g]=d[m+v],c[y]=w,m++}}}}},o.prototype._onGroupDragEnd=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this,i=t.groupTouchParams.group.groupId,n=t.groupsData.getDataSet(),o=u.extend({},n.get(i));t.options.onMoveGroup(o,function(e){if(e)e[n._fieldId]=i,n.update(e);else{var o=n.getIds({order:t.options.groupOrder});if(!u.equalArray(o,t.groupTouchParams.originalOrder))for(var r=t.groupTouchParams.originalOrder,s=Math.min(r.length,o.length),a=0;a<s;){for(;a<s&&o[a]==r[a];)a++;if(a>=s)break;var l=o.indexOf(r[a]),h=n.get(o[a]),c=n.get(r[a]);t.options.groupOrderSwap(h,c,n),n.update(h),n.update(c);var d=o[a];o[a]=r[a],o[l]=d,a++}}}),t.body.emitter.emit("groupDragged",{groupId:i})}},o.prototype._onSelectItem=function(e){if(this.options.selectable){var t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),i=e.srcEvent&&e.srcEvent.shiftKey;if(t||i)this._onMultiSelectItem(e);else{var n=this.getSelection(),o=this.itemFromTarget(e),r=o?[o.id]:[];this.setSelection(r);var s=this.getSelection();(s.length>0||n.length>0)&&this.body.emitter.emit("select",{items:s,event:e})}}},o.prototype._onMouseOver=function(e){var t=this.itemFromTarget(e);if(t&&t!==this.itemFromRelatedTarget(e)){var i=t.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new b(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var n=this.body.dom.centerContainer;this.popup.setPosition(e.clientX-u.getAbsoluteLeft(n)+n.offsetLeft,e.clientY-u.getAbsoluteTop(n)+n.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}},o.prototype._onMouseOut=function(e){var t=this.itemFromTarget(e);t&&t!==this.itemFromRelatedTarget(e)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))},o.prototype._onMouseMove=function(e){if(this.itemFromTarget(e)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var t=this.body.dom.centerContainer;this.popup.setPosition(e.clientX-u.getAbsoluteLeft(t)+t.offsetLeft,e.clientY-u.getAbsoluteTop(t)+t.offsetTop),this.popup.show()}},o.prototype._onMouseWheel=function(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)},o.prototype._onUpdateItem=function(e){if(this.options.selectable&&this.options.editable.add){var t=this;if(e){var i=t.itemsData.get(e.id);this.options.onUpdate(i,function(e){e&&t.itemsData.getDataSet().update(e)})}}},o.prototype._onDropObjectOnItem=function(e){var t=this.itemFromTarget(e),i=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,t)},o.prototype._onAddItem=function(e){if(this.options.selectable&&this.options.editable.add){var t,i,n=this,o=this.options.snap||null;this.options.rtl?i=(t=u.getAbsoluteRight(this.dom.frame))-e.center.x:(t=u.getAbsoluteLeft(this.dom.frame),i=e.center.x-t);var r,s,a=this.body.util.toTime(i),l=this.body.util.getScale(),h=this.body.util.getStep();"drop"==e.type?((s=JSON.parse(e.dataTransfer.getData("text"))).content=s.content?s.content:"new item",s.start=s.start?s.start:o?o(a,l,h):a,s.type=s.type||"box",s[this.itemsData._fieldId]=s.id||u.randomUUID(),"range"!=s.type||s.end||(r=this.body.util.toTime(i+this.props.width/5),s.end=o?o(r,l,h):r)):((s={start:o?o(a,l,h):a,content:"new item"})[this.itemsData._fieldId]=u.randomUUID(),"range"===this.options.type&&(r=this.body.util.toTime(i+this.props.width/5),s.end=o?o(r,l,h):r));var c=this.groupFromTarget(e);c&&(s.group=c.groupId),s=this._cloneItemData(s),this.options.onAdd(s,function(t){t&&(n.itemsData.getDataSet().add(t),"drop"==e.type&&n.setSelection([t.id]))})}},o.prototype._onMultiSelectItem=function(e){if(this.options.selectable){var t=this.itemFromTarget(e);if(t){var i=this.options.multiselect?this.getSelection():[];if(e.srcEvent&&e.srcEvent.shiftKey&&this.options.multiselect){var n=this.itemsData.get(t.id).group,r=void 0;this.options.multiselectPerGroup&&i.length>0&&(r=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=r&&r!=n||i.push(t.id);var s=o._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||r==n){i=[];for(var a in this.items)if(this.items.hasOwnProperty(a)){var u=this.items[a],l=u.data.start,h=void 0!==u.data.end?u.data.end:l;!(l>=s.min&&h<=s.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(u.id).group||u instanceof y||i.push(u.id)}}}else{var c=i.indexOf(t.id);-1==c?i.push(t.id):i.splice(c,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}},o._getItemRange=function(e){var t=null,i=null;return e.forEach(function(e){(null==i||e.start<i)&&(i=e.start),void 0!=e.end?(null==t||e.end>t)&&(t=e.end):(null==t||e.start>t)&&(t=e.start)}),{min:i,max:t}},o.prototype.itemFromElement=function(e){for(var t=e;t;){if(t.hasOwnProperty("timeline-item"))return t["timeline-item"];t=t.parentNode}return null},o.prototype.itemFromTarget=function(e){return this.itemFromElement(e.target)},o.prototype.itemFromRelatedTarget=function(e){return this.itemFromElement(e.relatedTarget)},o.prototype.groupFromTarget=function(e){var t=e.center?e.center.y:e.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var o=i[n],r=this.groups[o],s=r.dom.foreground,a=u.getAbsoluteTop(s);if(t>a&&t<a+s.offsetHeight)return r;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&t>a)return r}else if(0===n&&t<a+s.offset)return r}return null},o.itemSetFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("timeline-itemset"))return t["timeline-itemset"];t=t.parentNode}return null},o.prototype._cloneItemData=function(e,t){var i=u.extend({},e);return t||(t=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=u.convert(i.start,t&&t.start||"Date")),void 0!=i.end&&(i.end=u.convert(i.end,t&&t.end||"Date")),i},e.exports=o},function(e,t,i){t.orderByStart=function(e){e.sort(function(e,t){return e.data.start-t.data.start})},t.orderByEnd=function(e){e.sort(function(e,t){return("end"in e.data?e.data.end:e.data.start)-("end"in t.data?t.data.end:t.data.start)})},t.stack=function(e,i,n){if(n)for(o=0;o<e.length;o++)e[o].top=null;for(var o=0;o<e.length;o++){var r=e[o];if(r.stack&&null===r.top){r.top=i.axis;do{for(var s=null,a=0,u=e.length;a<u;a++){var l=e[a];if(null!==l.top&&l!==r&&l.stack&&t.collision(r,l,i.item,l.options.rtl)){s=l;break}}null!=s&&(r.top=s.top+s.height+i.item.vertical)}while(s)}}},t.substack=function(e,i,n){for(var o=0;o<e.length;o++)e[o].top=null;var r=n.height;for(o=0;o<e.length;o++){var s=e[o];if(s.stack&&null===s.top){s.top=s.baseTop;do{for(var a=null,u=0,l=e.length;u<l;u++){var h=e[u];if(null!==h.top&&h!==s&&t.collision(s,h,i.item,h.options.rtl)){a=h;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical),s.top+s.height>r&&(r=s.top+s.height)}while(a)}}n.height=r-n.top+.5*i.item.vertical},t.nostack=function(e,i,n,o){for(var r=0;r<e.length;r++)if(void 0==e[r].data.subgroup)e[r].top=i.item.vertical;else if(void 0!==e[r].data.subgroup&&o){var s=0;for(var a in n)n.hasOwnProperty(a)&&1==n[a].visible&&n[a].index<n[e[r].data.subgroup].index&&(s+=n[a].height,n[e[r].data.subgroup].top=s);e[r].top=s+.5*i.item.vertical}o||t.stackSubgroups(e,i,n)},t.stackSubgroups=function(e,i,n){for(var o in n)if(n.hasOwnProperty(o)){n[o].top=0;do{var r=null;for(var s in n)if(null!==n[s].top&&s!==o&&n[o].index>n[s].index&&t.collisionByTimes(n[o],n[s])){r=n[s];break}null!=r&&(n[o].top=r.top+r.height)}while(r)}for(var a=0;a<e.length;a++)void 0!==e[a].data.subgroup&&(e[a].top=n[e[a].data.subgroup].top+.5*i.item.vertical)},t.stackSubgroupsWithInnerStack=function(e,i,n){var o=!1,r=[];for(var s in n)n[s].hasOwnProperty("index")?r[n[s].index]=s:r.push(s);for(var a=0;a<r.length;a++)if(s=r[a],n.hasOwnProperty(s)){o=o||n[s].stack,n[s].top=0;for(var u in n)n[u].visible&&n[s].index>n[u].index&&(n[s].top+=n[u].height);for(var l=e[s],h=0;h<l.length;h++)void 0!==l[h].data.subgroup&&(l[h].top=n[l[h].data.subgroup].top+.5*i.item.vertical,n[s].stack&&(l[h].baseTop=l[h].top));o&&n[s].stack&&t.substack(e[s],i,n[s])}},t.collision=function(e,t,i,n){return n?e.right-i.horizontal+.001<t.right+t.width&&e.right+e.width+i.horizontal-.001>t.right&&e.top-i.vertical+.001<t.top+t.height&&e.top+e.height+i.vertical-.001>t.top:e.left-i.horizontal+.001<t.left+t.width&&e.left+e.width+i.horizontal-.001>t.left&&e.top-i.vertical+.001<t.top+t.height&&e.top+e.height+i.vertical-.001>t.top},t.collisionByTimes=function(e,t){return e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top||t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top}},function(e,t,i){function n(e,t,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,e&&void 0==e.start)throw new Error('Property "start" missing in item '+e);o.call(this,e,t,i)}var o=i(38);(n.prototype=new o(null,null,null)).isVisible=function(e){var t=this.options.align,i=this.width*e.getMillisecondsPerPixel();return"right"==t?this.data.start.getTime()>e.start&&this.data.start.getTime()-i<e.end:"left"==t?this.data.start.getTime()+i>e.start&&this.data.start.getTime()<e.end:this.data.start.getTime()+i/2>e.start&&this.data.start.getTime()-i/2<e.end},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!t)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+t,this.dom.line.className="vis-item vis-line"+t,this.dom.dot.className="vis-item vis-dot"+t}},n.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},n.prototype.redraw=function(e){var t,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];if(e)return i;var n;return i.forEach(function(e){n=e()}),n},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}},n.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start),t=this.options.align;"right"==t?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e-this.props.line.width+"px",this.dom.dot.style.right=e-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e-this.props.line.width+"px",this.dom.dot.style.left=e-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==t?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e+"px",this.dom.dot.style.right=e+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=e,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e+"px",this.dom.dot.style.left=e+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e-this.props.line.width+"px",this.dom.dot.style.right=e-this.props.dot.width/2+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e-this.props.line.width/2+"px",this.dom.dot.style.left=e-this.props.dot.width/2+"px")},n.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.box,i=this.dom.line,n=this.dom.dot;if("top"==e)t.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,r=o-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-r+"px",i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},n.prototype.getWidthLeft=function(){return this.width/2},n.prototype.getWidthRight=function(){return this.width/2},e.exports=n},function(e,t,i){function n(e,t,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,e&&void 0==e.start)throw new Error('Property "start" missing in item '+e);o.call(this,e,t,i)}var o=i(38);(n.prototype=new o(null,null,null)).isVisible=function(e){var t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+t,this.dom.dot.className="vis-item vis-dot"+t}},n.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},n.prototype.redraw=function(e){var t,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];if(e)return i;var n;return i.forEach(function(e){n=e()}),n},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},n.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=e-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=e-this.props.dot.width,this.dom.point.style.left=this.left+"px")},n.prototype.repositionY=function(){var e=this.options.orientation.item;this.dom.point.style.top="top"==e?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype.getWidthLeft=function(){return this.props.dot.width},n.prototype.getWidthRight=function(){return this.props.dot.width},e.exports=n},function(e,t,i){function n(e,t,i){if(this.props={content:{width:0}},this.overflow=!1,e){if(void 0==e.start)throw new Error('Property "start" missing in item '+e.id);if(void 0==e.end)throw new Error('Property "end" missing in item '+e.id)}o.call(this,e,t,i)}var o=i(38),r=i(69),s=i(70);(n.prototype=new o(null,null,null)).baseClassName="vis-item vis-background",n.prototype.stack=!1,n.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}},n.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},n.prototype._updateDomComponentsSizes=function(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1},n.prototype._repaintDomAdditionals=function(){},n.prototype.redraw=function(e){var t,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];if(e)return i;var n;return i.forEach(function(e){n=e()}),n},n.prototype.show=s.prototype.show,n.prototype.hide=s.prototype.hide,n.prototype.repositionX=s.prototype.repositionX,n.prototype.repositionY=function(e){var t,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var n=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[n].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[n].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof r?(t=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(t=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=t+"px"},e.exports=n},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(t,i){(0,o.default)(this,e),this.container=t,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,r.default)(e,[{key:"setPosition",value:function(e,t){this.x=parseInt(e),this.y=parseInt(t)}},{key:"setText",value:function(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,u=!0;this.y-t<this.padding&&(u=!1),this.x+i>o-this.padding&&(a=!0),r=a?this.x-i:this.x,s=u?this.y-t:this.y}else(s=this.y-t)+t+this.padding>n&&(s=n-t-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+i+this.padding>o&&(r=o-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}();t.default=s},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="object",a={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},align:{string:n},rtl:{boolean:o,undefined:"undefined"},rollingMode:{follow:{boolean:o},offset:{number:r,undefined:"undefined"},__type__:{object:s}},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},dataAttributes:{string:n,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},end:{number:r,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s,function:"function"}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s,function:"function"}},__type__:{object:s}},moment:{function:"function"},groupOrder:{string:n,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},groupOrderSwap:{function:"function"},height:{string:n,number:r},hiddenDates:{start:{date:"date",number:r,string:n,moment:"moment"},end:{date:"date",number:r,string:n,moment:"moment"},repeat:{string:n},__type__:{object:s,array:"array"}},itemsAlwaysDraggable:{item:{boolean:o,undefined:"undefined"},range:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},limitSize:{boolean:o},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:s,number:r}},__type__:{object:s,number:r}},max:{date:"date",number:r,string:n,moment:"moment"},maxHeight:{number:r,string:n},maxMinorChars:{number:r},min:{date:"date",number:r,string:n,moment:"moment"},minHeight:{number:r,string:n},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:n,undefined:"undefined"},item:{string:n,undefined:"undefined"},__type__:{string:n,object:s}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:"date",number:r,string:n,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:n,function:"function"},showTooltips:{boolean:o},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:s}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:s}},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},type:{string:n},width:{string:n,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:s}},u={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};t.allOptions=a,t.configureOptions=u},function(e,t,i){function n(e,t){this.id=r.randomUUID(),this.body=e,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=r.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,n){i._onAdd(t.items)},update:function(e,t,n){i._onUpdate(t.items)},remove:function(e,t,n){i._onRemove(t.items)}},this.groupListeners={add:function(e,t,n){i._onAddGroups(t.items)},update:function(e,t,n){i._onUpdateGroups(t.items)},remove:function(e,t,n){i._onRemoveGroups(t.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(t),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=r.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(6)),r=i(2),s=i(14),a=i(11),u=i(12),l=i(16),h=i(107),c=i(109),d=i(112),p=i(110),f=i(111),m=i(72);(n.prototype=new l)._create=function(){var e=document.createElement("div");e.className="vis-line-graph",this.dom.frame=e,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",e.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new h(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new h(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new d(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new d(this.body,this.options.legend,"right",this.options.groups),this.show()},n.prototype.setOptions=function(e){if(e){var t=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===e.graphHeight&&void 0!==e.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==e.graphHeight&&parseInt((e.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),r.selectiveDeepExtend(t,this.options,e),r.mergeOptions(this.options,e,"interpolation"),r.mergeOptions(this.options,e,"drawPoints"),r.mergeOptions(this.options,e,"shaded"),r.mergeOptions(this.options,e,"legend"),e.interpolation&&"object"==(0,o.default)(e.interpolation)&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==e.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==e.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(e)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setItems=function(e){var t,i=this,n=this.itemsData;if(e){if(!(e instanceof a||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(n&&(r.forEach(this.itemListeners,function(e,t){n.off(t,e)}),t=n.getIds(),this._onRemove(t)),this.itemsData){var o=this.id;r.forEach(this.itemListeners,function(e,t){i.itemsData.on(t,e,o)}),t=this.itemsData.getIds(),this._onAdd(t)}},n.prototype.setGroups=function(e){var t,i=this;if(this.groupsData){r.forEach(this.groupListeners,function(e,t){i.groupsData.off(t,e)}),t=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<t.length;n++)this._removeGroup(t[n])}if(e){if(!(e instanceof a||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(e,t){i.groupsData.on(t,e,o)}),t=this.groupsData.getIds(),this._onAddGroups(t)}},n.prototype._onUpdate=function(e){this._updateAllGroupData(e)},n.prototype._onAdd=function(e){this._onUpdate(e)},n.prototype._onRemove=function(e){this._onUpdate(e)},n.prototype._onUpdateGroups=function(e){this._updateAllGroupData(null,e)},n.prototype._onAddGroups=function(e){this._onUpdateGroups(e)},n.prototype._onRemoveGroups=function(e){for(var t=0;t<e.length;t++)this._removeGroup(e[t]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},n.prototype._removeGroup=function(e){this.groups.hasOwnProperty(e)&&("right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e),this.legendLeft.redraw()),delete this.groups[e])},n.prototype._updateGroup=function(e,t){this.groups.hasOwnProperty(t)?(this.groups[t].update(e),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.updateGroup(t,this.groups[t]),this.legendRight.updateGroup(t,this.groups[t]),this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t)):(this.yAxisLeft.updateGroup(t,this.groups[t]),this.legendLeft.updateGroup(t,this.groups[t]),this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t))):(this.groups[t]=new c(e,t,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.addGroup(t,this.groups[t]),this.legendRight.addGroup(t,this.groups[t])):(this.yAxisLeft.addGroup(t,this.groups[t]),this.legendLeft.addGroup(t,this.groups[t]))),this.legendLeft.redraw(),this.legendRight.redraw()},n.prototype._updateAllGroupData=function(e,t){if(null!=this.itemsData){var i={},n=this.itemsData.get(),o=this.itemsData._fieldId,s={};e&&e.map(function(e){s[e]=e});for(var a={},u=0;u<n.length;u++){var l=n[u],h=l.group;null!==h&&void 0!==h||(h="__ungrouped__"),a.hasOwnProperty(h)?a[h]++:a[h]=1}var c={};if(!t&&e)for(h in this.groups)if(this.groups.hasOwnProperty(h)){var d=(g=this.groups[h]).getItems();i[h]=d.filter(function(e){return c[e[o]]=e[o],e[o]!==s[e[o]]});var p=a[h];a[h]-=i[h].length,i[h].length<p&&(i[h][p-1]={})}for(u=0;u<n.length;u++)if(l=n[u],null!==(h=l.group)&&void 0!==h||(h="__ungrouped__"),t||!e||l[o]===s[l[o]]||!c.hasOwnProperty(l[o])){i.hasOwnProperty(h)||(i[h]=new Array(a[h]));var f=r.bridgeObject(l);f.x=r.convert(l.x,"Date"),f.end=r.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[o]=l[o];var m=i[h].length-a[h]--;i[h][m]=f}for(h in this.groups)this.groups.hasOwnProperty(h)&&(i.hasOwnProperty(h)||(i[h]=new Array(0)));for(h in i)if(i.hasOwnProperty(h))if(0==i[h].length)this.groups.hasOwnProperty(h)&&this._removeGroup(h);else{var g=void 0;void 0!=this.groupsData&&(g=this.groupsData.get(h)),void 0==g&&(g={id:h,content:this.options.defaultGroup+h}),this._updateGroup(g,h),this.groups[h].setItems(i[h])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},n.prototype.redraw=function(){var e=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,e=this._isResized()||e;var t=this.body.range.end-this.body.range.start,i=t!=this.lastVisibleInterval;if(this.lastVisibleInterval=t,1==e&&(this.svg.style.width=r.option.asSize(3*this.props.width),this.svg.style.left=r.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==e||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)e=this._updateGraph()||e,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var n=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var s=n*(this.props.width/o);this.svg.style.left=-this.props.width-s+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),e},n.prototype._getSortedGroupIds=function(){var e=[];for(var t in this.groups)if(this.groups.hasOwnProperty(t)){var i=this.groups[t];1!=i.visible||void 0!==this.options.groups.visibility[t]&&1!=this.options.groups.visibility[t]||e.push({id:t,zIndex:i.options.zIndex})}r.insertSort(e,function(e,t){var i=e.zIndex,n=t.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1});for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=e[o].id;return n},n.prototype._updateGraph=function(){if(s.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var e,t,i={},n=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),r=this._getSortedGroupIds();if(r.length>0){var a={};for(this._getRelevantData(r,a,n,o),this._applySampling(r,a),t=0;t<r.length;t++)this._convertXcoordinates(a[r[t]]);if(this._getYRanges(r,a,i),1==this._updateYAxis(r,i))return s.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var u=void 0;for(t=0;t<r.length;t++)e=this.groups[r[t]],!0===this.options.stack&&"line"===this.options.style&&(void 0!=e.options.excludeFromStacking&&e.options.excludeFromStacking||(void 0!=u&&(this._stack(a[e.id],a[u.id]),1==e.options.shaded.enabled&&"group"!==e.options.shaded.orientation&&("top"==e.options.shaded.orientation&&"group"!==u.options.shaded.orientation?(u.options.shaded.orientation="group",u.options.shaded.groupId=e.id):(e.options.shaded.orientation="group",e.options.shaded.groupId=u.id))),u=e)),this._convertYcoordinates(a[r[t]],e);var l={};for(t=0;t<r.length;t++)if("line"===(e=this.groups[r[t]]).options.style&&1==e.options.shaded.enabled){var h=a[r[t]];if(null==h||0==h.length)continue;if(l.hasOwnProperty(r[t])||(l[r[t]]=f.calcPath(h,e)),"group"===e.options.shaded.orientation){var c=e.options.shaded.groupId;if(-1===r.indexOf(c)){console.log(e.id+": Unknown shading group target given:"+c);continue}l.hasOwnProperty(c)||(l[c]=f.calcPath(a[c],this.groups[c])),f.drawShading(l[r[t]],e,l[c],this.framework)}else f.drawShading(l[r[t]],e,void 0,this.framework)}for(p.draw(r,a,this.framework),t=0;t<r.length;t++)if(e=this.groups[r[t]],a[r[t]].length>0)switch(e.options.style){case"line":l.hasOwnProperty(r[t])||(l[r[t]]=f.calcPath(a[r[t]],e)),f.draw(l[r[t]],e,this.framework);case"point":case"points":"point"!=e.options.style&&"points"!=e.options.style&&1!=e.options.drawPoints.enabled||m.draw(a[r[t]],e,this.framework)}}}return s.cleanupElements(this.svgElements),!1},n.prototype._stack=function(e,t){var i,n,o,r,s;i=0;for(var a=0;a<e.length;a++){r=void 0,s=void 0;for(var u=i;u<t.length;u++){if(t[u].x===e[a].x){r=t[u],s=t[u],i=u;break}if(t[u].x>e[a].x){s=t[u],r=0==u?s:t[u-1],i=u;break}}void 0===s&&(r=t[t.length-1],s=t[t.length-1]),n=s.x-r.x,o=s.y-r.y,e[a].y=0==n?e[a].orginalY+s.y:e[a].orginalY+o/n*(e[a].x-r.x)+r.y}},n.prototype._getRelevantData=function(e,t,i,n){var o,s,a,u;if(e.length>0)for(s=0;s<e.length;s++){var l=(o=this.groups[e[s]]).getItems();if(1==o.options.sort){var h=function(e,t){return e.getTime()==t.getTime()?0:e<t?-1:1},c=Math.max(0,r.binarySearchValue(l,i,"x","before",h)),d=Math.min(l.length,r.binarySearchValue(l,n,"x","after",h)+1);d<=0&&(d=l.length);var p=new Array(d-c);for(a=c;a<d;a++)u=o.itemsData[a],p[a-c]=u;t[e[s]]=p}else t[e[s]]=o.itemsData}},n.prototype._applySampling=function(e,t){if(e.length>0)for(var i=0;i<e.length;i++)if(1==this.groups[e[i]].options.sampling){var n=t[e[i]];if(n.length>0){var o=1,r=n.length,s=r/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x));o=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(s)));for(var a=new Array(r),u=0;u<r;u+=o)a[Math.round(u/o)]=n[u];t[e[i]]=a.splice(0,Math.round(r/o))}}},n.prototype._getYRanges=function(e,t,i){var n,o,r,s,a=[],u=[];if(e.length>0){for(r=0;r<e.length;r++)n=t[e[r]],s=this.groups[e[r]].options,n.length>0&&(o=this.groups[e[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(n):u=u.concat(n):i[e[r]]=o.getYRange(n,e[r]));p.getStackedYRange(a,i,e,"__barStackLeft","left"),p.getStackedYRange(u,i,e,"__barStackRight","right")}},n.prototype._updateYAxis=function(e,t){var i,n,o=!1,r=!1,s=!1,a=1e9,u=1e9,l=-1e9,h=-1e9;if(e.length>0){for(var c=0;c<e.length;c++){var d=this.groups[e[c]];d&&"right"!=d.options.yAxisOrientation?(r=!0,a=1e9,l=-1e9):d&&d.options.yAxisOrientation&&(s=!0,u=1e9,h=-1e9)}for(c=0;c<e.length;c++)t.hasOwnProperty(e[c])&&!0!==t[e[c]].ignore&&(i=t[e[c]].min,n=t[e[c]].max,"right"!=t[e[c]].yAxisOrientation?(r=!0,a=a>i?i:a,l=l<n?n:l):(s=!0,u=u>i?i:u,h=h<n?n:h));1==r&&this.yAxisLeft.setRange(a,l),1==s&&this.yAxisRight.setRange(u,h)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(c=0;c<p.length;c++)-1!=e.indexOf(p[c])&&e.splice(e.indexOf(p[c]),1);return o},n.prototype._toggleAxisVisiblity=function(e,t){var i=!1;return 0==e?t.dom.frame.parentNode&&0==t.hidden&&(t.hide(),i=!0):t.dom.frame.parentNode||1!=t.hidden||(t.show(),i=!0),i},n.prototype._convertXcoordinates=function(e){for(var t=this.body.util.toScreen,i=0;i<e.length;i++)e[i].screen_x=t(e[i].x)+this.props.width,e[i].screen_y=e[i].y,void 0!=e[i].end?e[i].screen_end=t(e[i].end)+this.props.width:e[i].screen_end=void 0},n.prototype._convertYcoordinates=function(e,t){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==t.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<e.length;o++)e[o].screen_y=Math.round(i.convertValue(e[o].y));t.setZeroPosition(Math.min(n,i.convertValue(0)))},e.exports=n},function(e,t,i){function n(e,t,i,n){this.id=r.randomUUID(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=r.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(8)),r=i(2),s=i(14),a=i(16),u=i(108);(n.prototype=new a).addGroup=function(e,t){this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1},n.prototype.updateGroup=function(e,t){this.groups.hasOwnProperty(e)||(this.amountOfGroups+=1),this.groups[e]=t},n.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},n.prototype.setOptions=function(e){if(e){var t=!1;this.options.orientation!=e.orientation&&void 0!==e.orientation&&(t=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];r.selectiveDeepExtend(i,this.options,e),this.minWidth=Number((""+this.options.width).replace("px","")),!0===t&&this.dom.frame&&(this.hide(),this.show())}},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},n.prototype._redrawGroupIcons=function(){s.prepareElements(this.svgElements);var e,t=this.options.iconWidth,i=11.5;e="left"===this.options.orientation?4:this.width-t-4;var n=(0,o.default)(this.groups);n.sort(function(e,t){return e<t?-1:1});for(var r=0;r<n.length;r++){var a=n[r];!0!==this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&!0!==this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(t,15,this.framework,e,i),i+=19)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},n.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},n.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},n.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},n.prototype.setRange=function(e,t){this.range.start=e,this.range.end=t},n.prototype.redraw=function(){var e=!1,t=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||t++);if(0===this.amountOfGroups||0===t)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var n=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,s=this.options.showMinorLabels,a=this.options.showMajorLabels;n.minorLabelHeight=s?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===r?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return e},n.prototype._redrawLabels=function(){var e=this,t=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var i=this.options.orientation,n=void 0!=this.options[i].range?this.options[i].range:{},o=!0;void 0!=n.max&&(this.range.end=n.max,o=!1);var r=!0;void 0!=n.min&&(this.range.start=n.min,r=!1),this.scale=new u(this.range.start,this.range.end,r,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(t){var n=t.y,o=t.major;e.options.showMinorLabels&&!1===o&&e._redrawLabel(n-2,t.val,i,"vis-y-axis vis-minor",e.props.minorCharHeight),o&&n>=0&&e._redrawLabel(n-2,t.val,i,"vis-y-axis vis-major",e.props.majorCharHeight),!0===e.master&&(o?e._redrawLine(n,i,"vis-grid vis-horizontal vis-major",e.options.majorLinesOffset,e.props.majorLineWidth):e._redrawLine(n,i,"vis-grid vis-horizontal vis-minor",e.options.minorLinesOffset,e.props.minorLineWidth))});var a=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(a=this.props.titleCharHeight);var l=!0===this.options.icons?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&!0===this.options.visible?(this.width=this.maxLabelSize+l,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):this.maxLabelSize<this.width-l&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),t=!1),t},n.prototype.convertValue=function(e){return this.scale.convertValue(e)},n.prototype.screenToValue=function(e){return this.scale.screenToValue(e)},n.prototype._redrawLabel=function(e,t,i,n,o){var r=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=n,r.innerHTML=t,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=e-.5*o+this.options.labelOffsetY+"px",t+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)},n.prototype._redrawLine=function(e,t,i,n,o){if(!0===this.master){var r=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===t?r.style.left=this.width-n+"px":r.style.right=this.width-n+"px",r.style.width=o+"px",r.style.top=e+"px"}},n.prototype._redrawTitle=function(e){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[e].title&&void 0!==this.options[e].title.text){var t=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-"+e,t.innerHTML=this.options[e].title.text,void 0!==this.options[e].title.style&&r.addCssText(t,this.options[e].title.style),"left"===e?t.style.left=this.props.titleCharHeight+"px":t.style.right=this.props.titleCharHeight+"px",t.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},n.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(o),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},e.exports=n},function(e,t,i){function n(e,t,i,n,o,r){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){var u=this,l=function(e){var t=e-e%(u.magnitudefactor*u.minorSteps[u.minorStepIdx]);return e%(u.magnitudefactor*u.minorSteps[u.minorStepIdx])>u.magnitudefactor*u.minorSteps[u.minorStepIdx]*.5?t+u.magnitudefactor*u.minorSteps[u.minorStepIdx]:t};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=l(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=l(this._end)),this.determineScale()}}n.prototype.setCharHeight=function(e){this.majorCharHeight=e},n.prototype.setHeight=function(e){this.containerHeight=e},n.prototype.determineScale=function(){var e=this._end-this._start;this.scale=this.containerHeight/e;var t=this.majorCharHeight/this.scale,i=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var n=0;i<0&&(n=i);for(var o=!1,r=n;Math.abs(r)<=Math.abs(i);r++){this.magnitudefactor=Math.pow(10,r);for(var s=0;s<this.minorSteps.length;s++)if(this.magnitudefactor*this.minorSteps[s]>=t){o=!0,this.minorStepIdx=s;break}if(!0===o)break}},n.prototype.is_major=function(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},n.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},n.prototype.getFirstMajor=function(){var e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)},n.prototype.formatValue=function(e){var t=e.toPrecision(5);return"function"==typeof this.formattingFunction&&(t=this.formattingFunction(e)),"number"==typeof t?""+t:"string"==typeof t?t:e.toPrecision(5)},n.prototype.getLines=function(){for(var e=[],t=this.getStep(),i=(t-this._start%t)%t,n=this._start+i;this._end-n>1e-5;n+=t)n!=this._start&&e.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return e},n.prototype.followScale=function(e){var t=this.minorStepIdx,i=this._start,n=this._end,o=this,r=function(){o.magnitudefactor*=2},s=function(){o.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==t?r():(r(),r())):(this.minorStepIdx=2,1==t?s():(s(),s())));for(var a=e.convertValue(0),u=e.getStep()*e.scale,l=!1,h=0;!l&&h++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=i,this._end=this._start+c;var d=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){var m=a-d;this._end+=m/this.scale,this._start=this._end-c}else this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+c):(this._start+=p-f/this.scale,this._end=this._start+c);if(!this.autoScaleEnd&&this._end>n+1e-5)s(),l=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s(),l=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&c<n-i?(r(),l=!1):l=!0}}},n.prototype.convertValue=function(e){return this.containerHeight-(e-this._start)*this.scale},n.prototype.screenToValue=function(e){return(this.containerHeight-e)/this.scale+this._start},e.exports=n},function(e,t,i){function n(e,t,i,n){this.id=t;var o=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=r.selectiveBridgeObject(o,i),this.usingDefaultStyle=void 0===e.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(e),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===e.visible||e.visible}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(6)),r=i(2),s=i(110),a=i(111),u=i(72);n.prototype.setItems=function(e){null!=e?(this.itemsData=e,1==this.options.sort&&r.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]},n.prototype.getItems=function(){return this.itemsData},n.prototype.setZeroPosition=function(e){this.zeroPosition=e},n.prototype.setOptions=function(e){if(void 0!==e){var t=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];r.selectiveDeepExtend(t,this.options,e),"function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),r.mergeOptions(this.options,e,"interpolation"),r.mergeOptions(this.options,e,"drawPoints"),r.mergeOptions(this.options,e,"shaded"),e.interpolation&&"object"==(0,o.default)(e.interpolation)&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},n.prototype.update=function(e){this.group=e,this.content=e.content||"graph",this.className=e.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===e.visible||e.visible,this.style=e.style,this.setOptions(e.options)},n.prototype.getLegend=function(e,t,i,n,o){switch(void 0!=i&&null!=i||(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),void 0!=n&&null!=n||(n=0),void 0!=o&&null!=o||(o=.5*t),this.options.style){case"line":a.drawIcon(this,n,o,e,t,i);break;case"points":case"point":u.drawIcon(this,n,o,e,t,i);break;case"bar":s.drawIcon(this,n,o,e,t,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},n.prototype.getYRange=function(e){for(var t=e[0].y,i=e[0].y,n=0;n<e.length;n++)t=t>e[n].y?e[n].y:t,i=i<e[n].y?e[n].y:i;return{min:t,max:i,yAxisOrientation:this.options.yAxisOrientation}},e.exports=n},function(e,t,i){function n(e,t){}var o=i(14),r=i(72);n.drawIcon=function(e,t,i,n,r,s){var a=.5*r,u=o.getSVGElement("rect",s.svgElements,s.svg);u.setAttributeNS(null,"x",t),u.setAttributeNS(null,"y",i-a),u.setAttributeNS(null,"width",n),u.setAttributeNS(null,"height",2*a),u.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*n),h=e.options.barChart.width/l,c=Math.round(.4*r),d=Math.round(.75*r),p=Math.round((n-2*l)/3);if(o.drawBar(t+.5*l+p,i+a-c-1,l,c,e.className+" vis-bar",s.svgElements,s.svg,e.style),o.drawBar(t+1.5*l+p+2,i+a-d-1,l,d,e.className+" vis-bar",s.svgElements,s.svg,e.style),1==e.options.drawPoints.enabled){var f={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size/h,className:e.className};o.drawPoint(t+.5*l+p,i+a-c-1,f,s.svgElements,s.svg),o.drawPoint(t+1.5*l+p+2,i+a-d-1,f,s.svgElements,s.svg)}},n.draw=function(e,t,i){var s,a,u,l,h,c,d=[],p={},f=0;for(h=0;h<e.length;h++)if("bar"===(l=i.groups[e[h]]).options.style&&!0===l.visible&&(void 0===i.options.groups.visibility[e[h]]||!0===i.options.groups.visibility[e[h]]))for(c=0;c<t[e[h]].length;c++)d.push({screen_x:t[e[h]][c].screen_x,screen_end:t[e[h]][c].screen_end,screen_y:t[e[h]][c].screen_y,x:t[e[h]][c].x,end:t[e[h]][c].end,y:t[e[h]][c].y,groupId:e[h],label:t[e[h]][c].label}),f+=1;if(0!==f)for(d.sort(function(e,t){return e.screen_x===t.screen_x?e.groupId<t.groupId?-1:1:e.screen_x-t.screen_x}),n._getDataIntersections(p,d),h=0;h<d.length;h++){var m=void 0!=(l=i.groups[d[h].groupId]).options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width,g=0;if(void 0===p[a=d[h].screen_x])h+1<d.length&&(s=Math.abs(d[h+1].screen_x-a)),u=n._getSafeDrawData(s,l,m);else{var v=h+(p[a].amount-p[a].resolved);v<d.length&&(s=Math.abs(d[v].screen_x-a)),u=n._getSafeDrawData(s,l,m),p[a].resolved+=1,!0===l.options.stack&&!0!==l.options.excludeFromStacking?d[h].screen_y<l.zeroPosition?(g=p[a].accumulatedNegative,p[a].accumulatedNegative+=l.zeroPosition-d[h].screen_y):(g=p[a].accumulatedPositive,p[a].accumulatedPositive+=l.zeroPosition-d[h].screen_y):!0===l.options.barChart.sideBySide&&(u.width=u.width/p[a].amount,u.offset+=p[a].resolved*u.width-.5*u.width*(p[a].amount+1))}var y=u.width,b=d[h].screen_x;if(void 0!=d[h].screen_end?b+=.5*(y=d[h].screen_end-d[h].screen_x):b+=u.offset,o.drawBar(b,d[h].screen_y-g,y,l.zeroPosition-d[h].screen_y,l.className+" vis-bar",i.svgElements,i.svg,l.style),!0===l.options.drawPoints.enabled){var x={screen_x:d[h].screen_x,screen_y:d[h].screen_y-g,x:d[h].x,y:d[h].y,groupId:d[h].groupId,label:d[h].label};r.draw([x],l,i,u.offset)}}},n._getDataIntersections=function(e,t){for(var i,n=0;n<t.length;n++)n+1<t.length&&(i=Math.abs(t[n+1].screen_x-t[n].screen_x)),n>0&&(i=Math.min(i,Math.abs(t[n-1].screen_x-t[n].screen_x))),0===i&&(void 0===e[t[n].screen_x]&&(e[t[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),e[t[n].screen_x].amount+=1)},n._getSafeDrawData=function(e,t,i){var n,o;return e<t.options.barChart.width&&e>0?(n=e<i?i:e,o=0,"left"===t.options.barChart.align?o-=.5*e:"right"===t.options.barChart.align&&(o+=.5*e)):(n=t.options.barChart.width,o=0,"left"===t.options.barChart.align?o-=.5*t.options.barChart.width:"right"===t.options.barChart.align&&(o+=.5*t.options.barChart.width)),{width:n,offset:o}},n.getStackedYRange=function(e,t,i,o,r){if(e.length>0){e.sort(function(e,t){return e.screen_x===t.screen_x?e.groupId<t.groupId?-1:1:e.screen_x-t.screen_x});var s={};n._getDataIntersections(s,e),t[o]=n._getStackedYRange(s,e),t[o].yAxisOrientation=r,i.push(o)}},n._getStackedYRange=function(e,t){for(var i,n=t[0].screen_y,o=t[0].screen_y,r=0;r<t.length;r++)void 0===e[i=t[r].screen_x]?(n=n>t[r].screen_y?t[r].screen_y:n,o=o<t[r].screen_y?t[r].screen_y:o):t[r].screen_y<0?e[i].accumulatedNegative+=t[r].screen_y:e[i].accumulatedPositive+=t[r].screen_y;for(var s in e)e.hasOwnProperty(s)&&(n=(n=n>e[s].accumulatedNegative?e[s].accumulatedNegative:n)>e[s].accumulatedPositive?e[s].accumulatedPositive:n,o=(o=o<e[s].accumulatedNegative?e[s].accumulatedNegative:o)<e[s].accumulatedPositive?e[s].accumulatedPositive:o);return{min:n,max:o}},e.exports=n},function(e,t,i){function n(e,t){}var o=i(14);n.calcPath=function(e,t){if(null!=e&&e.length>0)return 1==t.options.interpolation.enabled?n._catmullRom(e,t):n._linear(e)},n.drawIcon=function(e,t,i,n,r,s){var a,u,l=.5*r,h=o.getSVGElement("rect",s.svgElements,s.svg);if(h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i-l),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",2*l),h.setAttributeNS(null,"class","vis-outline"),(a=o.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",e.className),void 0!==e.style&&a.setAttributeNS(null,"style",e.style),a.setAttributeNS(null,"d","M"+t+","+i+" L"+(t+n)+","+i),1==e.options.shaded.enabled&&(u=o.getSVGElement("path",s.svgElements,s.svg),"top"==e.options.shaded.orientation?u.setAttributeNS(null,"d","M"+t+", "+(i-l)+"L"+t+","+i+" L"+(t+n)+","+i+" L"+(t+n)+","+(i-l)):u.setAttributeNS(null,"d","M"+t+","+i+" L"+t+","+(i+l)+" L"+(t+n)+","+(i+l)+"L"+(t+n)+","+i),u.setAttributeNS(null,"class",e.className+" vis-icon-fill"),void 0!==e.options.shaded.style&&""!==e.options.shaded.style&&u.setAttributeNS(null,"style",e.options.shaded.style)),1==e.options.drawPoints.enabled){var c={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size,className:e.className};o.drawPoint(t+.5*n,i,c,s.svgElements,s.svg)}},n.drawShading=function(e,t,i,n){if(1==t.options.shaded.enabled){var r=Number(n.svg.style.height.replace("px","")),s=o.getSVGElement("path",n.svgElements,n.svg),a="L";1==t.options.interpolation.enabled&&(a="C");var u,l=0;l="top"==t.options.shaded.orientation?0:"bottom"==t.options.shaded.orientation?r:Math.min(Math.max(0,t.zeroPosition),r),u="group"==t.options.shaded.orientation&&null!=i&&void 0!=i?"M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,a,!1)+" V"+l+" H"+e[0][0]+" Z",s.setAttributeNS(null,"class",t.className+" vis-fill"),void 0!==t.options.shaded.style&&s.setAttributeNS(null,"style",t.options.shaded.style),s.setAttributeNS(null,"d",u)}},n.draw=function(e,t,i){if(null!=e&&void 0!=e){var n=o.getSVGElement("path",i.svgElements,i.svg);n.setAttributeNS(null,"class",t.className),void 0!==t.style&&n.setAttributeNS(null,"style",t.style);var r="L";1==t.options.interpolation.enabled&&(r="C"),n.setAttributeNS(null,"d","M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,r,!1))}},n.serializePath=function(e,t,i){if(e.length<2)return"";var n,o=t;if(i)for(n=e.length-2;n>0;n--)o+=e[n][0]+","+e[n][1]+" ";else for(n=1;n<e.length;n++)o+=e[n][0]+","+e[n][1]+" ";return o},n._catmullRomUniform=function(e){var t,i,n,o,r,s,a=[];a.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);for(var u=e.length,l=0;l<u-1;l++)t=0==l?e[0]:e[l-1],i=e[l],n=e[l+1],o=l+2<u?e[l+2]:n,r={screen_x:(-t.screen_x+6*i.screen_x+n.screen_x)*(1/6),screen_y:(-t.screen_y+6*i.screen_y+n.screen_y)*(1/6)},s={screen_x:(i.screen_x+6*n.screen_x-o.screen_x)*(1/6),screen_y:(i.screen_y+6*n.screen_y-o.screen_y)*(1/6)},a.push([r.screen_x,r.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([n.screen_x,n.screen_y]);return a},n._catmullRom=function(e,t){var i=t.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(e);var n,o,r,s,a,u,l,h,c,d,p,f,m,g,v,y,b,x,w,D=[];D.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);for(var C=e.length,k=0;k<C-1;k++)n=0==k?e[0]:e[k-1],o=e[k],r=e[k+1],s=k+2<C?e[k+2]:r,l=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),h=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),c=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),g=Math.pow(c,i),y=Math.pow(c,2*i),v=Math.pow(h,i),b=Math.pow(h,2*i),w=Math.pow(l,i),d=2*(x=Math.pow(l,2*i))+3*w*v+b,p=2*y+3*g*v+b,(f=3*w*(w+v))>0&&(f=1/f),(m=3*g*(g+v))>0&&(m=1/m),a={screen_x:(-b*n.screen_x+d*o.screen_x+x*r.screen_x)*f,screen_y:(-b*n.screen_y+d*o.screen_y+x*r.screen_y)*f},u={screen_x:(y*o.screen_x+p*r.screen_x-b*s.screen_x)*m,screen_y:(y*o.screen_y+p*r.screen_y-b*s.screen_y)*m},0==a.screen_x&&0==a.screen_y&&(a=o),0==u.screen_x&&0==u.screen_y&&(u=r),D.push([a.screen_x,a.screen_y]),D.push([u.screen_x,u.screen_y]),D.push([r.screen_x,r.screen_y]);return D},n._linear=function(e){for(var t=[],i=0;i<e.length;i++)t.push([e[i].screen_x,e[i].screen_y]);return t},e.exports=n},function(e,t,i){function n(e,t,i,n){this.body=e,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=r.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(t)}var o=function(e){return e&&e.__esModule?e:{default:e}}(i(8)),r=i(2),s=i(14),a=i(16);(n.prototype=new a).clear=function(){this.groups={},this.amountOfGroups=0},n.prototype.addGroup=function(e,t){1!=t.options.excludeFromLegend&&(this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1)},n.prototype.updateGroup=function(e,t){this.groups[e]=t},n.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setOptions=function(e){var t=["enabled","orientation","icons","left","right"];r.selectiveDeepExtend(t,this.options,e)},n.prototype.redraw=function(){var e=0,t=(0,o.default)(this.groups);t.sort(function(e,t){return e<t?-1:1});for(var i=0;i<t.length;i++){var n=t[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||e++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==e)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(i=0;i<t.length;i++)n=t[i],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(s+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},n.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var e=(0,o.default)(this.groups);e.sort(function(e,t){return e<t?-1:1}),s.resetElements(this.svgElements);var t=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(t.replace("px","")),n=i,r=this.options.iconSize,a=.75*this.options.iconSize,u=i+.5*a+3;this.svg.style.width=r+5+i+"px";for(var l=0;l<e.length;l++){var h=e[l];1!=this.groups[h].visible||void 0!==this.linegraphOptions.visibility[h]&&1!=this.linegraphOptions.visibility[h]||(this.groups[h].getLegend(r,a,this.framework,n,u),u+=a+this.options.iconSpacing)}}},e.exports=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="object",a={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:n},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:n,number:r},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:o,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:s,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:s,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:n,number:r},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:n,number:r,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:n,number:r,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},end:{number:r,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:n,number:r},hiddenDates:{start:{date:"date",number:r,string:n,moment:"moment"},end:{date:"date",number:r,string:n,moment:"moment"},repeat:{string:n},__type__:{object:s,array:"array"}},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:"date",number:r,string:n,moment:"moment"},maxHeight:{number:r,string:n},maxMinorChars:{number:r},min:{date:"date",number:r,string:n,moment:"moment"},minHeight:{number:r,string:n},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:n},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:"date",number:r,string:n,moment:"moment"},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},width:{string:n,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:s}},u={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};t.allOptions=a,t.configureOptions=u},function(e,t,i){function n(e){return T=e,f()}function o(){O=0,B=T.charAt(0)}function r(){O++,B=T.charAt(O)}function s(){return T.charAt(O+1)}function a(e){return N.test(e)}function u(e,t){if(e||(e={}),t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function l(e,t,i){for(var n=t.split("."),o=e;n.length;){var r=n.shift();n.length?(o[r]||(o[r]={}),o=o[r]):o[r]=i}}function h(e,t){for(var i,n,o=null,r=[e],s=e;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(t.id===s.nodes[i].id){o=s.nodes[i];break}for(o||(o={id:t.id},e.node&&(o.attr=u(o.attr,e.node))),i=r.length-1;i>=0;i--){var a=r[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(o)&&a.nodes.push(o)}t.attr&&(o.attr=u(o.attr,t.attr))}function c(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var i=u({},e.edge);t.attr=u(i,t.attr)}}function d(e,t,i,n,o){var r={from:t,to:i,type:n};return e.edge&&(r.attr=u({},e.edge)),r.attr=u(r.attr||{},o),r}function p(){for(P=F.NULL,L="";" "===B||"\t"===B||"\n"===B||"\r"===B;)r();do{var e=!1;if("#"===B){for(var t=O-1;" "===T.charAt(t)||"\t"===T.charAt(t);)t--;if("\n"===T.charAt(t)||""===T.charAt(t)){for(;""!=B&&"\n"!=B;)r();e=!0}}if("/"===B&&"/"===s()){for(;""!=B&&"\n"!=B;)r();e=!0}if("/"===B&&"*"===s()){for(;""!=B;){if("*"===B&&"/"===s()){r(),r();break}r()}e=!0}for(;" "===B||"\t"===B||"\n"===B||"\r"===B;)r()}while(e);if(""!==B){var i=B+s();if(M[i])return P=F.DELIMITER,L=i,r(),void r();if(M[B])return P=F.DELIMITER,L=B,void r();if(a(B)||"-"===B){for(L+=B,r();a(B);)L+=B,r();return"false"===L?L=!1:"true"===L?L=!0:isNaN(Number(L))||(L=Number(L)),void(P=F.IDENTIFIER)}if('"'===B){for(r();""!=B&&('"'!=B||'"'===B&&'"'===s());)'"'===B?(L+=B,r()):"\\"===B&&"n"===s()?(L+="\n",r()):L+=B,r();if('"'!=B)throw D('End of string " expected');return r(),void(P=F.IDENTIFIER)}for(P=F.UNKNOWN;""!=B;)L+=B,r();throw new SyntaxError('Syntax error in part "'+C(L,30)+'"')}P=F.DELIMITER}function f(){var e={};if(o(),p(),"strict"===L&&(e.strict=!0,p()),"graph"!==L&&"digraph"!==L||(e.type=L,p()),P===F.IDENTIFIER&&(e.id=L,p()),"{"!=L)throw D("Angle bracket { expected");if(p(),m(e),"}"!=L)throw D("Angle bracket } expected");if(p(),""!==L)throw D("End of file expected");return p(),delete e.node,delete e.edge,delete e.graph,e}function m(e){for(;""!==L&&"}"!=L;)g(e),";"===L&&p()}function g(e){var t=v(e);if(t)x(e,t);else if(!y(e)){if(P!=F.IDENTIFIER)throw D("Identifier expected");var i=L;if(p(),"="===L){if(p(),P!=F.IDENTIFIER)throw D("Identifier expected");e[i]=L,p()}else b(e,i)}}function v(e){var t=null;if("subgraph"===L&&((t={}).type="subgraph",p(),P===F.IDENTIFIER&&(t.id=L,p())),"{"===L){if(p(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,m(t),"}"!=L)throw D("Angle bracket } expected");p(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function y(e){return"node"===L?(p(),e.node=w(),"node"):"edge"===L?(p(),e.edge=w(),"edge"):"graph"===L?(p(),e.graph=w(),"graph"):null}function b(e,t){var i={id:t},n=w();n&&(i.attr=n),h(e,i),x(e,t)}function x(e,t){for(;"->"===L||"--"===L;){var i,n=L;p();var o=v(e);if(o)i=o;else{if(P!=F.IDENTIFIER)throw D("Identifier or subgraph expected");h(e,{id:i=L}),p()}c(e,d(e,t,i,n,w())),t=i}}function w(){for(var e=null,t={dashed:!0,solid:!1,dotted:[1,5]};"["===L;){for(p(),e={};""!==L&&"]"!=L;){if(P!=F.IDENTIFIER)throw D("Attribute name expected");var i=L;if(p(),"="!=L)throw D("Equal sign = expected");if(p(),P!=F.IDENTIFIER)throw D("Attribute value expected");var n=L;"style"===i&&(n=t[n]),l(e,i,n),p(),","==L&&p()}if("]"!=L)throw D("Bracket ] expected");p()}return e}function D(e){return new SyntaxError(e+', got "'+C(L,30)+'" (char '+O+")")}function C(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function k(e,t,i){Array.isArray(e)?e.forEach(function(e){Array.isArray(t)?t.forEach(function(t){i(e,t)}):i(e,t)}):Array.isArray(t)?t.forEach(function(t){i(e,t)}):i(e,t)}function _(e,t,i){for(var n=t.split("."),o=n.pop(),r=e,s=0;s<n.length;s++){var a=n[s];a in r||(r[a]={}),r=r[a]}return r[o]=i,e}function E(e,t){var i={};for(var n in e)if(e.hasOwnProperty(n)){var o=t[n];Array.isArray(o)?o.forEach(function(t){_(i,t,e[n])}):"string"==typeof o?_(i,o,e[n]):_(i,n,e[n])}return i}var S={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},A=(0,function(e){return e&&e.__esModule?e:{default:e}}(i(29)).default)(S);A.color="color.color",A.style="dashes";var F={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},M={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},T="",O=0,B="",L="",P=F.NULL,N=/[a-zA-Z_0-9.:#]/;t.parseDOT=n,t.DOTToGraph=function(e){var t=n(e),i={nodes:[],edges:[],options:{}};if(t.nodes&&t.nodes.forEach(function(e){var t={id:e.id,label:String(e.label||e.id)};u(t,E(e.attr,S)),t.image&&(t.shape="image"),i.nodes.push(t)}),t.edges){var o=function(e){var t={from:e.from,to:e.to};return u(t,E(e.attr,A)),t.arrows="->"===e.type?"to":void 0,t};t.edges.forEach(function(e){var t,n;t=e.from instanceof Object?e.from.nodes:{id:e.from},n=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&e.from.edges.forEach(function(e){var t=o(e);i.edges.push(t)}),k(t,n,function(t,n){var r=d(i,t.id,n.id,e.type,e.attr),s=o(r);i.edges.push(s)}),e.to instanceof Object&&e.to.edges&&e.to.edges.forEach(function(e){var t=o(e);i.edges.push(t)})})}return t.attr&&(i.options=t.attr),i}},function(e,t,i){t.parseGephi=function(e,t){var i=[],n=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==t&&(void 0!==t.fixed&&(o.nodes.fixed=t.fixed),void 0!==t.parseColor&&(o.nodes.parseColor=t.parseColor),void 0!==t.inheritColor&&(o.edges.inheritColor=t.inheritColor));for(var r=e.edges,s=e.nodes,a=0;a<r.length;a++){var u={},l=r[a];u.id=l.id,u.from=l.source,u.to=l.target,u.attributes=l.attributes,u.label=l.label,u.title=void 0!==l.attributes?l.attributes.title:void 0,"Directed"===l.type&&(u.arrows="to"),l.color&&!1===o.inheritColor&&(u.color=l.color),i.push(u)}for(var h=0;h<s.length;h++){var c={},d=s[h];c.id=d.id,c.attributes=d.attributes,c.x=d.x,c.y=d.y,c.label=d.label,c.title=void 0!==d.attributes?d.attributes.title:d.title,!0===o.nodes.parseColor?c.color=d.color:c.color=void 0!==d.color?{background:d.color,border:d.color,highlight:{background:d.color,border:d.color},hover:{background:d.color,border:d.color}}:void 0,c.size=d.size,c.fixed=o.nodes.fixed&&void 0!==d.x&&void 0!==d.y,n.push(c)}return{nodes:n,edges:i}}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=n(i(185)),a=function(){function e(t){(0,o.default)(this,e),this.images={},this.imageBroken={},this.callback=t}return(0,r.default)(e,[{key:"_tryloadBrokenUrl",value:function(e,t,i){void 0!==e&&void 0!==i&&(void 0!==t?(i.onerror=function(){console.error("Could not load brokenImage:",t)},i.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var i=this,n=this.images[e];if(n)return n;var o=new s.default;return this.images[e]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),i._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}();t.default=a},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(30)),r=n(i(6)),s=n(i(0)),a=n(i(1)),u=i(2),l=i(48).default,h=i(191).default,c=["bold","ital","boldital","mono"],d=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,s.default)(this,e),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return(0,a.default)(e,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),l.isValidLabel(e.label)?this.labelDirty=!0:e.label="",void 0!==e.font&&null!==e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===(0,r.default)(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(t){var i=this;u.forEach(c,function(e){i.fontOptions[e]={}}),e.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:u.forEach(t,function(e,t){void 0!==e&&null!==e&&"object"!==(void 0===e?"undefined":(0,r.default)(e))&&(i.fontOptions[t]=e)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=u.topMost(e,"widthConstraint");if("number"==typeof i)t.maxWdt=Number(i),t.minWdt=Number(i);else if("object"===(void 0===i?"undefined":(0,r.default)(i))){var n=u.topMost(e,["widthConstraint","maximum"]);"number"==typeof n&&(t.maxWdt=Number(n));var o=u.topMost(e,["widthConstraint","minimum"]);"number"==typeof o&&(t.minWdt=Number(o))}var s=u.topMost(e,"heightConstraint");if("number"==typeof s)t.minHgt=Number(s);else if("object"===(void 0===s?"undefined":(0,r.default)(s))){var a=u.topMost(e,["heightConstraint","minimum"]);"number"==typeof a&&(t.minHgt=Number(a));var l=u.topMost(e,["heightConstraint","valign"]);"string"==typeof l&&("top"!==l&&"bottom"!==l||(t.valign=l))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),u.deepExtend(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=l.choosify("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var i=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(e,t){for(var i=0;i<t.length;++i)this.addFontToPile(e,t[i])}},{key:"addFontToPile",value:function(e,t){if(void 0!==t&&void 0!==t.font&&null!==t.font){var i=t.font;e.push(i)}}},{key:"getBasicOptions",value:function(t){for(var i={},n=0;n<t.length;++n){var o=t[n],r={};e.parseFontString(r,o)&&(o=r),u.forEach(o,function(e,t){void 0!==e&&(i.hasOwnProperty(t)||(-1!==c.indexOf(t)?i[t]={}:i[t]=e))})}return i}},{key:"getFontOption",value:function(t,i,n){for(var o=void 0,r=0;r<t.length;++r){var s=t[r];if(s.hasOwnProperty(i)){if(void 0===(o=s[i])||null===o)continue;var a={};if(e.parseFontString(a,o)&&(o=a),o.hasOwnProperty(n))return o[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(e,t){for(var i={},n=["color","size","face","mod","vadjust"],o=0;o<n.length;++o){var r=n[o];i[r]=this.getFontOption(e,t,r)}return i}},{key:"propagateFonts",value:function(e){var t=this,i=[];this.addFontOptionsToPile(i,e),this.fontOptions=this.getBasicOptions(i);for(var n=0;n<c.length;++n)!function(e){var n=c[e],o=t.fontOptions[n],r=t.getFontOptions(i,n);u.forEach(r,function(e,t){o[t]=e}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)}(n)}},{key:"draw",value:function(e,t,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,t,i,r),this._drawBackground(e),this._drawText(e,t,this.size.yLine,r,s))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments[4],s=this._setAlignment(e,t,i,n),a=(0,o.default)(s,2);t=a[0],i=a[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var l=this.lines[u];if(l&&l.blocks){var h=0;this.isEdgeLabel||"center"===this.fontOptions.align?h+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(h+=this.size.width-l.width);for(var c=0;c<l.blocks.length;c++){var d=l.blocks[c];e.font=d.font;var p=this._getColor(d.color,r,d.strokeColor),f=(0,o.default)(p,2),m=f[0],g=f[1];d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=g,e.lineJoin="round"),e.fillStyle=m,d.strokeWidth>0&&e.strokeText(d.text,t+h,i+d.vadjust),e.fillText(d.text,t+h,i+d.vadjust),h+=d.width}i+=l.height}}}},{key:"_setAlignment",value:function(e,t,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,i=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",i+=4):e.textBaseline="middle"):e.textBaseline=n,[t,i]}},{key:"_getColor",value:function(e,t,i){var n=e||"#000000",o=i||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=u.overrideOpacity(n,r),o=u.overrideOpacity(o,r)}return[n,o]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,t,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=i,t=.5*-this.size.height;break;case"top":e=i,t=-(this.size.height+2);break;case"bottom":e=i,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,i,n){var o=function(e,t,i){return"normal"===t?"mod"===i?"":e[i]:void 0!==e[t][i]?e[t][i]:e[i]},r={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,t,i));var s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),s+=r.size+"px "+r.face,e.font=s.replace(/"/g,""),r.font=e.font,r.height=r.size,r}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,i,n){return new h(e,this,t,i).process(n)}},{key:"_processLabel",value:function(e,t,i){if(!1!==this.labelDirty||this.differentState(t,i)){var n=this._processLabelText(e,t,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var i=t.split(" ");return e.size=i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}}]),e}();t.default=d},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(30)),r=n(i(0)),s=n(i(1)),a=i(2),u=i(119).default,l=function(){function e(t,i,n){(0,r.default)(this,e),this.body=i,this.labelModule=n,this.options={},this.setOptions(t),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,s.default)(e,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,i,n,o){e.strokeStyle=this.getColor(e,t,i,n),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,i,n,r){if(this.from!=this.to)this._line(e,t,i,n,r);else{var s=this._getCircleData(e),a=(0,o.default)(s,3),u=a[0],l=a[1],h=a[2];this._circle(e,t,u,l,h)}}},{key:"_drawDashedLine",value:function(e,t,i,n,r){e.lineCap="round";var s=[5,5];if(!0===Array.isArray(t.dashes)&&(s=t.dashes),void 0!==e.setLineDash){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,i);else{var a=this._getCircleData(e),u=(0,o.default)(a,3),l=u[0],h=u[1],c=u[2];this._circle(e,t,l,h,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var d=this._getCircleData(e),p=(0,o.default)(d,3),f=p[0],m=p[1],g=p[2];this._circle(e,t,f,m,g)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,i){return this.from!=this.to?this._findBorderPosition(e,t,i):this._findBorderPositionCircle(e,t,i)}},{key:"findBorderPositions",value:function(e){var t={},i={};if(this.from!=this.to)t=this._findBorderPosition(this.from,e),i=this._findBorderPosition(this.to,e);else{var n=this._getCircleData(e).slice(0,2),r=(0,o.default)(n,2),s=r[0],a=r[1];t=this._findBorderPositionCircle(this.from,e,{x:s,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,e,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:t,to:i}}},{key:"_getCircleData",value:function(e){var t=void 0,i=void 0,n=this.from,o=this.options.selfReferenceSize;return void 0!==e&&void 0===n.shape.width&&n.shape.resize(e),n.shape.width>n.shape.height?(t=n.x+.5*n.shape.width,i=n.y-o):(t=n.x+o,i=n.y-.5*n.shape.height),[t,i,o]}},{key:"_pointOnCircle",value:function(e,t,i,n){var o=2*n*Math.PI;return{x:e+i*Math.cos(o),y:t-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,i){for(var n=i.x,o=i.y,r=i.low,s=i.high,a=i.direction,u=0,l=this.options.selfReferenceSize,h=void 0,c=void 0,d=void 0,p=void 0,f=void 0,m=.5*(r+s);r<=s&&u<10&&(m=.5*(r+s),h=this._pointOnCircle(n,o,l,m),c=Math.atan2(e.y-h.y,e.x-h.x),d=e.distanceToBorder(t,c),p=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),f=d-p,!(Math.abs(f)<.05));)f>0?a>0?r=m:s=m:a>0?s=m:r=m,u++;return h.t=m,h}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(e,t,i,n){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var o=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=void 0,s=void 0;return r=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(r=a.overrideOpacity(this.from.options.color.border,t.opacity),s=a.overrideOpacity(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),o.addColorStop(0,r),o.addColorStop(1,s),o}return"to"===t.inheritsColor?a.overrideOpacity(this.to.options.color.border,t.opacity):a.overrideOpacity(this.from.options.color.border,t.opacity)}return a.overrideOpacity(t.color,t.opacity)}},{key:"_circle",value:function(e,t,i,n,o){this.enableShadow(e,t),e.beginPath(),e.arc(i,n,o,0,2*Math.PI,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,i,n,r,s,a,u){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(e,t,i,n,r,s,a);else{var h=this._getCircleData(void 0),c=(0,o.default)(h,3),d=c[0],p=c[1],f=c[2],m=d-r,g=p-s;l=Math.abs(Math.sqrt(m*m+g*g)-f)}return l}},{key:"_getDistanceToLine",value:function(e,t,i,n,o,r){var s=i-e,a=n-t,u=((o-e)*s+(r-t)*a)/(s*s+a*a);u>1?u=1:u<0&&(u=0);var l=e+u*s-o,h=t+u*a-r;return Math.sqrt(l*l+h*h)}},{key:"getArrowData",value:function(e,t,i,n,r,s){var a=void 0,u=void 0,l=void 0,h=void 0,c=void 0,d=void 0,p=void 0,f=s.width;if("from"===t?(l=this.from,h=this.to,c=.1,d=s.fromArrowScale,p=s.fromArrowType):"to"===t?(l=this.to,h=this.from,c=-.1,d=s.toArrowScale,p=s.toArrowType):(l=this.to,h=this.from,d=s.middleArrowScale,p=s.middleArrowType),l!=h)if("middle"!==t)if(!0===this.options.smooth.enabled){u=this.findBorderPosition(l,e,{via:i});var m=this.getPoint(Math.max(0,Math.min(1,u.t+c)),i);a=Math.atan2(u.y-m.y,u.x-m.x)}else a=Math.atan2(l.y-h.y,l.x-h.x),u=this.findBorderPosition(l,e);else a=Math.atan2(l.y-h.y,l.x-h.x),u=this.getPoint(.5,i);else{var g=this._getCircleData(e),v=(0,o.default)(g,3),y=v[0],b=v[1],x=v[2];"from"===t?a=-2*(u=this.findBorderPosition(this.from,e,{x:y,y:b,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===t?a=-2*(u=this.findBorderPosition(this.from,e,{x:y,y:b,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(u=this._pointOnCircle(y,b,x,.175),a=3.9269908169872414)}"middle"===t&&d<0&&(f*=-1);var w=15*d+3*f;return{point:u,core:{x:u.x-.9*w*Math.cos(a),y:u.y-.9*w*Math.sin(a)},angle:a,length:w,type:p}}},{key:"drawArrowHead",value:function(e,t,i,n,o){e.strokeStyle=this.getColor(e,t,i,n),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,u.draw(e,o),this.enableShadow(e,t),e.fill(),this.disableShadow(e,t)}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}]),e}();t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(4)),s=n(i(5)),a=n(i(0)),u=n(i(1)),l=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,null,[{key:"transform",value:function(e,t){e instanceof Array||(e=[e]);for(var i=t.point.x,n=t.point.y,o=t.angle,r=t.length,s=0;s<e.length;++s){var a=e[s],u=a.x*Math.cos(o)-a.y*Math.sin(o),l=a.x*Math.sin(o)+a.y*Math.cos(o);a.x=i+r*u,a.y=n+r*l}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;++i)e.lineTo(t[i].x,t[i].y);e.closePath()}}]),e}(),h=function(e){function t(){return(0,a.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,u.default)(t,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];l.transform(i,t),l.drawPath(e,i)}}]),t}(l),c=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,null,[{key:"draw",value:function(e,t){var i={x:-.4,y:0};l.transform(i,t),e.circle(i.x,i.y,.4*t.length)}}]),e}(),d=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];l.transform(i,t),l.drawPath(e,i)}}]),e}(),p=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,null,[{key:"draw",value:function(e,t){var i;switch(t.type&&(i=t.type.toLowerCase()),i){case"circle":c.draw(e,t);break;case"bar":d.draw(e,t);break;case"arrow":default:h.draw(e,t)}}}]),e}();t.default=p},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(t,i,n){(0,o.default)(this,e),this.body=t,this.physicsBody=i,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return(0,r.default)(e,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e=void 0,t=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(t,i);this.barnesHutTree=o;for(var r=0;r<n;r++)(e=t[i[r]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var i=void 0,n=void 0,o=void 0;i=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,(o=Math.sqrt(i*i+n*n))*e.calcSize>this.thetaInversed?this._calculateForces(o,i,n,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,i,n,t,e)}}},{key:"_calculateForces",value:function(e,t,i,n,o){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var r=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),s=t*r,a=i*r;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(e,t){for(var i=void 0,n=t.length,o=e[t[0]].x,r=e[t[0]].y,s=e[t[0]].x,a=e[t[0]].y,u=1;u<n;u++){var l=e[t[u]],h=l.x,c=l.y;l.options.mass>0&&(h<o&&(o=h),h>s&&(s=h),c<r&&(r=c),c>a&&(a=c))}var d=Math.abs(s-o)-Math.abs(a-r);d>0?(r-=.5*d,a+=.5*d):(o+=.5*d,s-=.5*d);var p=Math.max(1e-5,Math.abs(s-o)),f=.5*p,m=.5*(o+s),g=.5*(r+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:g-f,maxY:g+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<n;y++)(i=e[t[y]]).options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(e,t){var i=e.centerOfMass,n=e.mass+t.options.mass,o=1/n;i.x=i.x*e.mass+t.x*t.options.mass,i.x*=o,i.y=i.y*e.mass+t.y*t.options.mass,i.y*=o,e.mass=n;var r=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<r?r:e.maxWidth}},{key:"_placeInTree",value:function(e,t,i){1==i&&void 0!==i||this._updateBranchMass(e,t);var n=e.children.NW.range,o=void 0;o=n.maxX>t.x?n.maxY>t.y?"NW":"SW":n.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,o)}},{key:"_placeInRegion",value:function(e,t,i){var n=e.children[i];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this.seededRandom(),t.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var i=void 0,n=void 0,o=void 0,r=void 0,s=.5*e.size;switch(t){case"NW":i=e.range.minX,n=e.range.minX+s,o=e.range.minY,r=e.range.minY+s;break;case"NE":i=e.range.minX+s,n=e.range.maxX,o=e.range.minY,r=e.range.minY+s;break;case"SW":i=e.range.minX,n=e.range.minX+s,o=e.range.minY+s,r=e.range.maxY;break;case"SE":i=e.range.minX+s,n=e.range.maxX,o=e.range.minY+s,r=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:r},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,i){void 0===i&&(i="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=i,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),e}();t.default=s},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(t,i,n){(0,o.default)(this,e),this.body=t,this.physicsBody=i,this.setOptions(n)}return(0,r.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,i=void 0,n=void 0,o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++)e=-(n=o[r[a]]).x,t=-n.y,i=Math.sqrt(e*e+t*t),this._calculateForces(i,e,t,s,n)}},{key:"_calculateForces",value:function(e,t,i,n,o){var r=0===e?0:this.options.centralGravity/e;n[o.id].x=t*r,n[o.id].y=i*r}}]),e}();t.default=s},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="object",a=["arrow","circle","bar"],u={configure:{enabled:{boolean:o},filter:{boolean:o,string:n,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:s,boolean:o,string:n,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:s,boolean:o}},color:{color:{string:n},highlight:{string:n},hover:{string:n},inherit:{string:["from","to","both"],boolean:o},opacity:{number:r},__type__:{object:s,string:n}},dashes:{boolean:o,array:"array"},font:{color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},boldital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},ital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},mono:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},__type__:{object:s,string:n}},hidden:{boolean:o},hoverWidth:{function:"function",number:r},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:r,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:o},color:{string:n},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:s,boolean:o}},title:{string:n,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:s,boolean:o,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:s}},bindToWindow:{boolean:o},__type__:{object:s,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:r},zoomView:{boolean:o},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:o}},__type__:{object:s}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:o}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:n,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:s,boolean:o}},color:{border:{string:n},background:{string:n},highlight:{border:{string:n},background:{string:n},__type__:{object:s,string:n}},hover:{border:{string:n},background:{string:n},__type__:{object:s,string:n}},__type__:{object:s,string:n}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:s,boolean:o}},font:{align:{string:n},color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},vadjust:{number:r},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},boldital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},ital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},mono:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},__type__:{object:s,string:n}},group:{string:n,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:n},__type__:{object:s,boolean:o,number:r}},hidden:{boolean:o},icon:{face:{string:n},code:{string:n},size:{number:r},color:{string:n},__type__:{object:s}},id:{string:n,number:r},image:{selected:{string:n,undefined:"undefined"},unselected:{string:n,undefined:"undefined"},__type__:{object:s,string:n}},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:s,number:r}},mass:{number:r},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:o},color:{string:n},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:o,array:"array"},borderRadius:{number:r},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:s}},size:{number:r},title:{string:n,dom:"dom",undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:s,boolean:o,number:r}},x:{number:r},y:{number:r},__type__:{object:s}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:s,boolean:o}},timestep:{number:r},adaptiveTimestep:{boolean:o},__type__:{object:s,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:n},width:{string:n},__type__:{object:s}};u.groups.__any__=u.nodes,u.manipulation.controlNodeStyle=u.nodes;var l={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};t.allOptions=u,t.configureOptions=l},function(e,t,i){var n=i(2);n.extend(t,i(159)),n.extend(t,i(177)),n.extend(t,i(181))},function(e,t,i){i(49),i(60),e.exports=i(136)},function(e,t,i){var n=i(126),o=i(127),r=i(31),s=i(25);e.exports=i(79)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,i):"values"==t?o(0,e[i]):o(0,[i,e[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(54),o=i(39),r=i(59),s={};i(26)(s,i(13)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(s,{next:o(1,i)}),r(e,t+" Iterator")}},function(e,t,i){var n=i(20),o=i(27),r=i(33);e.exports=i(21)?Object.defineProperties:function(e,t){o(e);for(var i,s=r(t),a=s.length,u=0;a>u;)n.f(e,i=s[u++],t[i]);return e}},function(e,t,i){var n=i(25),o=i(132),r=i(133);e.exports=function(e){return function(t,i,s){var a,u=n(t),l=o(u.length),h=r(s,l);if(e&&i!=i){for(;l>h;)if((a=u[h++])!=a)return!0}else for(;l>h;h++)if((e||h in u)&&u[h]===i)return e||h||0;return!e&&-1}}},function(e,t,i){var n=i(55),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,i){var n=i(55),o=Math.max,r=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):r(e,t)}},function(e,t,i){var n=i(18).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(55),o=i(51);e.exports=function(e){return function(t,i){var r,s,a=String(o(t)),u=n(i),l=a.length;return u<0||u>=l?e?"":void 0:(r=a.charCodeAt(u))<55296||r>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):r:e?a.slice(u,u+2):s-56320+(r-55296<<10)+65536}}},function(e,t,i){var n=i(27),o=i(137);e.exports=i(7).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,i){var n=i(86),o=i(13)("iterator"),r=i(31);e.exports=i(7).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||r[n(e)]}},function(e,t,i){i(139);var n=i(7).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){var n=i(17);n(n.S,"Object",{create:i(54)})},function(e,t,i){i(141),e.exports=i(7).Object.keys},function(e,t,i){var n=i(41),o=i(33);i(87)("keys",function(){return function(e){return o(n(e))}})},function(e,t,i){e.exports={default:i(143),__esModule:!0}},function(e,t,i){i(60),i(49),e.exports=i(61).f("iterator")},function(e,t,i){e.exports={default:i(145),__esModule:!0}},function(e,t,i){i(146),i(151),i(152),i(153),e.exports=i(7).Symbol},function(e,t,i){var n=i(18),o=i(22),r=i(21),s=i(17),a=i(83),u=i(147).KEY,l=i(28),h=i(57),c=i(59),d=i(40),p=i(13),f=i(61),m=i(62),g=i(148),v=i(149),y=i(27),b=i(25),x=i(53),w=i(39),D=i(54),C=i(150),k=i(89),_=i(20),E=i(33),S=k.f,A=_.f,F=C.f,M=n.Symbol,T=n.JSON,O=T&&T.stringify,B=p("_hidden"),L=p("toPrimitive"),P={}.propertyIsEnumerable,N=h("symbol-registry"),I=h("symbols"),R=h("op-symbols"),z=Object.prototype,j="function"==typeof M,V=n.QObject,H=!V||!V.prototype||!V.prototype.findChild,W=r&&l(function(){return 7!=D(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=S(z,t);n&&delete z[t],A(e,t,i),n&&e!==z&&A(z,t,n)}:A,U=function(e){var t=I[e]=D(M.prototype);return t._k=e,t},q=j&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},K=function(e,t,i){return e===z&&K(R,t,i),y(e),t=x(t,!0),y(i),o(I,t)?(i.enumerable?(o(e,B)&&e[B][t]&&(e[B][t]=!1),i=D(i,{enumerable:w(0,!1)})):(o(e,B)||A(e,B,w(1,{})),e[B][t]=!0),W(e,t,i)):A(e,t,i)},G=function(e,t){y(e);for(var i,n=g(t=b(t)),o=0,r=n.length;r>o;)K(e,i=n[o++],t[i]);return e},Y=function(e){var t=P.call(this,e=x(e,!0));return!(this===z&&o(I,e)&&!o(R,e))&&(!(t||!o(this,e)||!o(I,e)||o(this,B)&&this[B][e])||t)},X=function(e,t){if(e=b(e),t=x(t,!0),e!==z||!o(I,t)||o(R,t)){var i=S(e,t);return!i||!o(I,t)||o(e,B)&&e[B][t]||(i.enumerable=!0),i}},J=function(e){for(var t,i=F(b(e)),n=[],r=0;i.length>r;)o(I,t=i[r++])||t==B||t==u||n.push(t);return n},Z=function(e){for(var t,i=e===z,n=F(i?R:b(e)),r=[],s=0;n.length>s;)!o(I,t=n[s++])||i&&!o(z,t)||r.push(I[t]);return r};j||(a((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(i){this===z&&t.call(R,i),o(this,B)&&o(this[B],e)&&(this[B][e]=!1),W(this,e,w(1,i))};return r&&H&&W(z,e,{configurable:!0,set:t}),U(e)}).prototype,"toString",function(){return this._k}),k.f=X,_.f=K,i(88).f=C.f=J,i(42).f=Y,i(63).f=Z,r&&!i(52)&&a(z,"propertyIsEnumerable",Y,!0),f.f=function(e){return U(p(e))}),s(s.G+s.W+s.F*!j,{Symbol:M});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Q=0;$.length>Q;)p($[Q++]);for(var ee=E(p.store),te=0;ee.length>te;)m(ee[te++]);s(s.S+s.F*!j,"Symbol",{for:function(e){return o(N,e+="")?N[e]:N[e]=M(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!j,"Object",{create:function(e,t){return void 0===t?D(e):G(D(e),t)},defineProperty:K,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),T&&s(s.S+s.F*(!j||l(function(){var e=M();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,i,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return"function"==typeof(t=n[1])&&(i=t),!i&&v(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!q(t))return t}),n[1]=t,O.apply(T,n)}}}),M.prototype[L]||i(26)(M.prototype,L,M.prototype.valueOf),c(M,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(e,t,i){var n=i(40)("meta"),o=i(32),r=i(22),s=i(20).f,a=0,u=Object.isExtensible||function(){return!0},l=!i(28)(function(){return u(Object.preventExtensions({}))}),h=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})},c=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,n)){if(!u(e))return"F";if(!t)return"E";h(e)}return e[n].i},getWeak:function(e,t){if(!r(e,n)){if(!u(e))return!0;if(!t)return!1;h(e)}return e[n].w},onFreeze:function(e){return l&&c.NEED&&u(e)&&!r(e,n)&&h(e),e}}},function(e,t,i){var n=i(33),o=i(63),r=i(42);e.exports=function(e){var t=n(e),i=o.f;if(i)for(var s,a=i(e),u=r.f,l=0;a.length>l;)u.call(e,s=a[l++])&&t.push(s);return t}},function(e,t,i){var n=i(50);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(25),o=i(88).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==r.call(e)?a(e):o(n(e))}},function(e,t){},function(e,t,i){i(62)("asyncIterator")},function(e,t,i){i(62)("observable")},function(e,t,i){(function(e){!function(t,i){e.exports=i()}(0,function(){function t(){return Et.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var i in t)l(t,i)&&(e[i]=t[i]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,i,n){return He(e,t,i,n,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function f(e){if(null==e._isValid){var t=p(e),i=St.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function m(e){var t=c(NaN);return null!=e?h(p(t),e):p(t).userInvalidated=!0,t}function g(e,t){var i,n,o;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=p(t)),r(t._locale)||(e._locale=t._locale),At.length>0)for(i=0;i<At.length;i++)r(o=t[n=At[i]])||(e[n]=o);return e}function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ft&&(Ft=!0,t.updateOffset(this),Ft=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=b(t)),i}function w(e,t,i){var n,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(n=0;n<o;n++)(i&&e[n]!==t[n]||!i&&x(e[n])!==x(t[n]))&&s++;return s+r}function D(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,i){var n=!0;return h(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var o,r=[],s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){o+="\n["+s+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];r.push(o)}D(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function k(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),Mt[e]||(D(i),Mt[e]=!0)}function _(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e,t){var i,o=h({},e);for(i in t)l(t,i)&&(n(e[i])&&n(t[i])?(o[i]={},h(o[i],e[i]),h(o[i],t[i])):null!=t[i]?o[i]=t[i]:delete o[i]);for(i in e)l(e,i)&&!l(t,i)&&n(e[i])&&(o[i]=h({},o[i]));return o}function S(e){null!=e&&this.set(e)}function A(e,t){var i=e.toLowerCase();Nt[i]=Nt[i+"s"]=Nt[t]=e}function F(e){return"string"==typeof e?Nt[e]||Nt[e.toLowerCase()]:void 0}function M(e){var t,i,n={};for(i in e)l(e,i)&&(t=F(i))&&(n[t]=e[i]);return n}function T(e,t){It[e]=t}function O(e){var t=[];for(var i in e)t.push({unit:i,priority:It[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(e,t,i){var n=""+Math.abs(e),o=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function L(e,t,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Vt[e]=o),t&&(Vt[t[0]]=function(){return B(o.apply(this,arguments),t[1],t[2])}),i&&(Vt[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,i,n=e.match(Rt);for(t=0,i=n.length;t<i;t++)Vt[n[t]]?n[t]=Vt[n[t]]:n[t]=P(n[t]);return function(t){var o,r="";for(o=0;o<i;o++)r+=_(n[o])?n[o].call(t,e):n[o];return r}}function I(e,t){return e.isValid()?(t=R(t,e.localeData()),jt[t]=jt[t]||N(t),jt[t](e)):e.localeData().invalidDate()}function R(e,t){var i=5;for(zt.lastIndex=0;i>=0&&zt.test(e);)e=e.replace(zt,function(e){return t.longDateFormat(e)||e}),zt.lastIndex=0,i-=1;return e}function z(e,t,i){ri[e]=_(t)?t:function(e,n){return e&&i?i:t}}function j(e,t){return l(ri,e)?ri[e](t._strict,t._locale):new RegExp(V(e))}function V(e){return H(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o}))}function H(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),s(t)&&(n=function(e,i){i[t]=x(e)}),i=0;i<e.length;i++)si[e[i]]=n}function U(e,t){W(e,function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)})}function q(e,t,i){null!=t&&l(si,e)&&si[e](t,i._a,i,e)}function K(e){return G(e)?366:365}function G(e){return e%4==0&&e%100!=0||e%400==0}function Y(e,i){return function(n){return null!=n?(J(this,e,n),t.updateOffset(this,i),this):X(this,e)}}function X(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&G(e.year())?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),$(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function Z(e,t){return(e%t+t)%t}function $(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=Z(t,12);return e+=(t-i)/12,1===i?G(e)?29:28:31-i%7%2}function Q(e,t,i){var n,o,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=c([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(o=gi.call(this._shortMonthsParse,s))?o:null:-1!==(o=gi.call(this._longMonthsParse,s))?o:null:"MMM"===t?-1!==(o=gi.call(this._shortMonthsParse,s))?o:-1!==(o=gi.call(this._longMonthsParse,s))?o:null:-1!==(o=gi.call(this._longMonthsParse,s))?o:-1!==(o=gi.call(this._shortMonthsParse,s))?o:null}function ee(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return i=Math.min(e.date(),$(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function te(e){return null!=e?(ee(this,e),t.updateOffset(this,!0),this):X(this,"Month")}function ie(){function e(e,t){return t.length-e.length}var t,i,n=[],o=[],r=[];for(t=0;t<12;t++)i=c([2e3,t]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),o.sort(e),r.sort(e),t=0;t<12;t++)n[t]=H(n[t]),o[t]=H(o[t]);for(t=0;t<24;t++)r[t]=H(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ne(e,t,i,n,o,r,s){var a=new Date(e,t,i,n,o,r,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function re(e,t,i){var n=7+t-i;return-(7+oe(e,0,n).getUTCDay()-t)%7+n-1}function se(e,t,i,n,o){var r,s,a=1+7*(t-1)+(7+i-n)%7+re(e,n,o);return a<=0?s=K(r=e-1)+a:a>K(e)?(r=e+1,s=a-K(e)):(r=e,s=a),{year:r,dayOfYear:s}}function ae(e,t,i){var n,o,r=re(e.year(),t,i),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return s<1?n=s+ue(o=e.year()-1,t,i):s>ue(e.year(),t,i)?(n=s-ue(e.year(),t,i),o=e.year()+1):(o=e.year(),n=s),{week:n,year:o}}function ue(e,t,i){var n=re(e,t,i),o=re(e+1,t,i);return(K(e)-n+o)/7}function le(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function he(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ce(e,t,i){var n,o,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=c([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(o=gi.call(this._weekdaysParse,s))?o:null:"ddd"===t?-1!==(o=gi.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=gi.call(this._minWeekdaysParse,s))?o:null:"dddd"===t?-1!==(o=gi.call(this._weekdaysParse,s))?o:-1!==(o=gi.call(this._shortWeekdaysParse,s))?o:-1!==(o=gi.call(this._minWeekdaysParse,s))?o:null:"ddd"===t?-1!==(o=gi.call(this._shortWeekdaysParse,s))?o:-1!==(o=gi.call(this._weekdaysParse,s))?o:-1!==(o=gi.call(this._minWeekdaysParse,s))?o:null:-1!==(o=gi.call(this._minWeekdaysParse,s))?o:-1!==(o=gi.call(this._weekdaysParse,s))?o:-1!==(o=gi.call(this._shortWeekdaysParse,s))?o:null}function de(){function e(e,t){return t.length-e.length}var t,i,n,o,r,s=[],a=[],u=[],l=[];for(t=0;t<7;t++)i=c([2e3,1]).day(t),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),s.push(n),a.push(o),u.push(r),l.push(n),l.push(o),l.push(r);for(s.sort(e),a.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)a[t]=H(a[t]),u[t]=H(u[t]),l[t]=H(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function pe(){return this.hours()%12||12}function fe(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function me(e,t){return t._meridiemParse}function ge(e){return e?e.toLowerCase().replace("_","-"):e}function ve(e){for(var t,i,n,o,r=0;r<e.length;){for(t=(o=ge(e[r]).split("-")).length,i=(i=ge(e[r+1]))?i.split("-"):null;t>0;){if(n=ye(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&w(o,i,!0)>=t-1)break;t--}r++}return null}function ye(t){var i=null;if(!Li[t]&&void 0!==e&&e&&e.exports)try{i=Mi._abbr,!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),be(i)}catch(e){}return Li[t]}function be(e,t){var i;return e&&(i=r(t)?we(e):xe(e,t))&&(Mi=i),Mi._abbr}function xe(e,t){if(null!==t){var i=Bi;if(t.abbr=e,null!=Li[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Li[e]._config;else if(null!=t.parentLocale){if(null==Li[t.parentLocale])return Pi[t.parentLocale]||(Pi[t.parentLocale]=[]),Pi[t.parentLocale].push({name:e,config:t}),null;i=Li[t.parentLocale]._config}return Li[e]=new S(E(i,t)),Pi[e]&&Pi[e].forEach(function(e){xe(e.name,e.config)}),be(e),Li[e]}return delete Li[e],null}function we(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Mi;if(!i(e)){if(t=ye(e))return t;e=[e]}return ve(e)}function De(e){var t,i=e._a;return i&&-2===p(e).overflow&&(t=i[ui]<0||i[ui]>11?ui:i[li]<1||i[li]>$(i[ai],i[ui])?li:i[hi]<0||i[hi]>24||24===i[hi]&&(0!==i[ci]||0!==i[di]||0!==i[pi])?hi:i[ci]<0||i[ci]>59?ci:i[di]<0||i[di]>59?di:i[pi]<0||i[pi]>999?pi:-1,p(e)._overflowDayOfYear&&(t<ai||t>li)&&(t=li),p(e)._overflowWeeks&&-1===t&&(t=fi),p(e)._overflowWeekday&&-1===t&&(t=mi),p(e).overflow=t),e}function Ce(e,t,i){return null!=e?e:null!=t?t:i}function ke(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function _e(e){var t,i,n,o,r=[];if(!e._d){for(n=ke(e),e._w&&null==e._a[li]&&null==e._a[ui]&&Ee(e),null!=e._dayOfYear&&(o=Ce(e._a[ai],n[ai]),(e._dayOfYear>K(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),i=oe(o,0,e._dayOfYear),e._a[ui]=i.getUTCMonth(),e._a[li]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[hi]&&0===e._a[ci]&&0===e._a[di]&&0===e._a[pi]&&(e._nextDay=!0,e._a[hi]=0),e._d=(e._useUTC?oe:ne).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[hi]=24),e._w&&void 0!==e._w.d&&e._w.d!==e._d.getDay()&&(p(e).weekdayMismatch=!0)}}function Ee(e){var t,i,n,o,r,s,a,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,s=4,i=Ce(t.GG,e._a[ai],ae(We(),1,4).year),n=Ce(t.W,1),((o=Ce(t.E,1))<1||o>7)&&(u=!0);else{r=e._locale._week.dow,s=e._locale._week.doy;var l=ae(We(),r,s);i=Ce(t.gg,e._a[ai],l.year),n=Ce(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(u=!0):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(u=!0)):o=r}n<1||n>ue(i,r,s)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(a=se(i,n,o,r,s),e._a[ai]=a.year,e._dayOfYear=a.dayOfYear)}function Se(e){var t,i,n,o,r,s,a=e._i,u=Ni.exec(a)||Ii.exec(a);if(u){for(p(e).iso=!0,t=0,i=zi.length;t<i;t++)if(zi[t][1].exec(u[1])){o=zi[t][0],n=!1!==zi[t][2];break}if(null==o)return void(e._isValid=!1);if(u[3]){for(t=0,i=ji.length;t<i;t++)if(ji[t][1].exec(u[3])){r=(u[2]||" ")+ji[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Ri.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=o+(r||"")+(s||""),Pe(e)}else e._isValid=!1}function Ae(e,t,i,n,o,r){var s=[Fe(e),xi.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&s.push(parseInt(r,10)),s}function Fe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Me(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Te(e,t,i){return!e||_i.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(i).weekdayMismatch=!0,i._isValid=!1,!1)}function Oe(e,t,i){if(e)return Wi[e];if(t)return 0;var n=parseInt(i,10),o=n%100;return(n-o)/100*60+o}function Be(e){var t=Hi.exec(Me(e._i));if(t){var i=Ae(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Te(t[1],i,e))return;e._a=i,e._tzm=Oe(t[8],t[9],t[10]),e._d=oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Le(e){var i=Vi.exec(e._i);null===i?(Se(e),!1===e._isValid&&(delete e._isValid,Be(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+i[1])}function Pe(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],p(e).empty=!0;var i,n,o,r,s,a=""+e._i,u=a.length,l=0;for(o=R(e._f,e._locale).match(Rt)||[],i=0;i<o.length;i++)r=o[i],(n=(a.match(j(r,e))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&p(e).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),l+=n.length),Vt[r]?(n?p(e).empty=!1:p(e).unusedTokens.push(r),q(r,n,e)):e._strict&&!n&&p(e).unusedTokens.push(r);p(e).charsLeftOver=u-l,a.length>0&&p(e).unusedInput.push(a),e._a[hi]<=12&&!0===p(e).bigHour&&e._a[hi]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[hi]=Ne(e._locale,e._a[hi],e._meridiem),_e(e),De(e)}else Be(e);else Se(e)}function Ne(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function Ie(e){var t,i,n,o,r;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Pe(t),f(t)&&(r+=p(t).charsLeftOver,r+=10*p(t).unusedTokens.length,p(t).score=r,(null==n||r<n)&&(n=r,i=t));h(e,i||t)}function Re(e){if(!e._d){var t=M(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),_e(e)}}function ze(e){var t=new v(De(je(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function je(e){var t=e._i,n=e._f;return e._locale=e._locale||we(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(De(t)):(a(t)?e._d=t:i(n)?Ie(e):n?Pe(e):Ve(e),f(e)||(e._d=null),e))}function Ve(e){var o=e._i;r(o)?e._d=new Date(t.now()):a(o)?e._d=new Date(o.valueOf()):"string"==typeof o?Le(e):i(o)?(e._a=u(o.slice(0),function(e){return parseInt(e,10)}),_e(e)):n(o)?Re(e):s(o)?e._d=new Date(o):t.createFromInputFallback(e)}function He(e,t,r,s,a){var u={};return!0!==r&&!1!==r||(s=r,r=void 0),(n(e)&&o(e)||i(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=r,u._i=e,u._f=t,u._strict=s,ze(u)}function We(e,t,i,n){return He(e,t,i,n,!1)}function Ue(e,t){var n,o;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return We();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function qe(e){for(var t in e)if(-1===gi.call(Ki,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<Ki.length;++n)if(e[Ki[n]]){if(i)return!1;parseFloat(e[Ki[n]])!==x(e[Ki[n]])&&(i=!0)}return!0}function Ke(e){var t=M(e),i=t.year||0,n=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=qe(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=we(),this._bubble()}function Ge(e){return e instanceof Ke}function Ye(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Xe(e,t){L(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+B(~~(e/60),2)+t+B(~~e%60,2)})}function Je(e,t){var i=(t||"").match(e);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Gi)||["-",0,0],o=60*n[1]+x(n[2]);return 0===o?0:"+"===n[0]?o:-o}function Ze(e,i){var n,o;return i._isUTC?(n=i.clone(),o=(y(e)||a(e)?e.valueOf():We(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),t.updateOffset(n,!1),n):We(e).local()}function $e(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Qe(){return!!this.isValid()&&this._isUTC&&0===this._offset}function et(e,t){var i,n,o,r=e,a=null;return Ge(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=Yi.exec(e))?(i="-"===a[1]?-1:1,r={y:0,d:x(a[li])*i,h:x(a[hi])*i,m:x(a[ci])*i,s:x(a[di])*i,ms:x(Ye(1e3*a[pi]))*i}):(a=Xi.exec(e))?(i="-"===a[1]?-1:(a[1],1),r={y:tt(a[2],i),M:tt(a[3],i),w:tt(a[4],i),d:tt(a[5],i),h:tt(a[6],i),m:tt(a[7],i),s:tt(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=nt(We(r.from),We(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),n=new Ke(r),Ge(e)&&l(e,"_locale")&&(n._locale=e._locale),n}function tt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function it(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function nt(e,t){var i;return e.isValid()&&t.isValid()?(t=Ze(t,e),e.isBefore(t)?i=it(e,t):((i=it(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ot(e,t){return function(i,n){var o,r;return null===n||isNaN(+n)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=et(i,n),rt(this,o,e),this}}function rt(e,i,n,o){var r=i._milliseconds,s=Ye(i._days),a=Ye(i._months);e.isValid()&&(o=null==o||o,a&&ee(e,X(e,"Month")+a*n),s&&J(e,"Date",X(e,"Date")+s*n),r&&e._d.setTime(e._d.valueOf()+r*n),o&&t.updateOffset(e,s||a))}function st(e,t){var i,n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months");return i=t-o<0?(t-o)/(o-e.clone().add(n-1,"months")):(t-o)/(e.clone().add(n+1,"months")-o),-(n+i)||0}function at(e){var t;return void 0===e?this._locale._abbr:(null!=(t=we(e))&&(this._locale=t),this)}function ut(){return this._locale}function lt(e,t){L(0,[e,e.length],0,t)}function ht(e,t,i,n,o){var r;return null==e?ae(this,n,o).year:(r=ue(e,n,o),t>r&&(t=r),ct.call(this,e,t,i,n,o))}function ct(e,t,i,n,o){var r=se(e,t,i,n,o),s=oe(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function dt(e){return e}function pt(e,t,i,n){var o=we(),r=c().set(n,t);return o[i](r,e)}function ft(e,t,i){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return pt(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=pt(e,n,i,"month");return o}function mt(e,t,i,n){"boolean"==typeof e?(s(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,s(t)&&(i=t,t=void 0),t=t||"");var o=we(),r=e?o._week.dow:0;if(null!=i)return pt(t,(i+r)%7,n,"day");var a,u=[];for(a=0;a<7;a++)u[a]=pt(t,(a+r)%7,n,"day");return u}function gt(e,t,i,n){var o=et(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function vt(e){return e<0?Math.floor(e):Math.ceil(e)}function yt(e){return 4800*e/146097}function bt(e){return 146097*e/4800}function xt(e){return function(){return this.as(e)}}function wt(e){return function(){return this.isValid()?this._data[e]:NaN}}function Dt(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function Ct(e,t,i){var n=et(e).abs(),o=Cn(n.as("s")),r=Cn(n.as("m")),s=Cn(n.as("h")),a=Cn(n.as("d")),u=Cn(n.as("M")),l=Cn(n.as("y")),h=o<=kn.ss&&["s",o]||o<kn.s&&["ss",o]||r<=1&&["m"]||r<kn.m&&["mm",r]||s<=1&&["h"]||s<kn.h&&["hh",s]||a<=1&&["d"]||a<kn.d&&["dd",a]||u<=1&&["M"]||u<kn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return h[2]=t,h[3]=+e>0,h[4]=i,Dt.apply(null,h)}function kt(e){return(e>0)-(e<0)||+e}function _t(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n=_n(this._milliseconds)/1e3,o=_n(this._days),r=_n(this._months);t=b((e=b(n/60))/60),n%=60,e%=60;var s=i=b(r/12),a=r%=12,u=o,l=t,h=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",f=kt(this._months)!==kt(d)?"-":"",m=kt(this._days)!==kt(d)?"-":"",g=kt(this._milliseconds)!==kt(d)?"-":"";return p+"P"+(s?f+s+"Y":"")+(a?f+a+"M":"")+(u?m+u+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Et,St;St=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var At=t.momentProperties=[],Ft=!1,Mt={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Tt;Tt=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)l(e,t)&&i.push(t);return i};var Ot={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Bt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Lt=/\d{1,2}/,Pt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Nt={},It={},Rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jt={},Vt={},Ht=/\d/,Wt=/\d\d/,Ut=/\d{3}/,qt=/\d{4}/,Kt=/[+-]?\d{6}/,Gt=/\d\d?/,Yt=/\d\d\d\d?/,Xt=/\d\d\d\d\d\d?/,Jt=/\d{1,3}/,Zt=/\d{1,4}/,$t=/[+-]?\d{1,6}/,Qt=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ii=/Z|[+-]\d\d(?::?\d\d)?/gi,ni=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},si={},ai=0,ui=1,li=2,hi=3,ci=4,di=5,pi=6,fi=7,mi=8;L("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),A("year","y"),T("year",1),z("Y",ei),z("YY",Gt,Wt),z("YYYY",Zt,qt),z("YYYYY",$t,Kt),z("YYYYYY",$t,Kt),W(["YYYYY","YYYYYY"],ai),W("YYYY",function(e,i){i[ai]=2===e.length?t.parseTwoDigitYear(e):x(e)}),W("YY",function(e,i){i[ai]=t.parseTwoDigitYear(e)}),W("Y",function(e,t){t[ai]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var gi,vi=Y("FullYear",!0);gi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),T("month",8),z("M",Gt),z("MM",Gt,Wt),z("MMM",function(e,t){return t.monthsShortRegex(e)}),z("MMMM",function(e,t){return t.monthsRegex(e)}),W(["M","MM"],function(e,t){t[ui]=x(e)-1}),W(["MMM","MMMM"],function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[ui]=o:p(i).invalidMonth=e});var yi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,bi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wi=oi,Di=oi;L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),T("week",5),T("isoWeek",5),z("w",Gt),z("ww",Gt,Wt),z("W",Gt),z("WW",Gt,Wt),U(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=x(e)});var Ci={dow:0,doy:6};L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),T("day",11),T("weekday",11),T("isoWeekday",11),z("d",Gt),z("e",Gt),z("E",Gt),z("dd",function(e,t){return t.weekdaysMinRegex(e)}),z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),z("dddd",function(e,t){return t.weekdaysRegex(e)}),U(["dd","ddd","dddd"],function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:p(i).invalidWeekday=e}),U(["d","e","E"],function(e,t,i,n){t[n]=x(e)});var ki="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_i="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ei="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Si=oi,Ai=oi,Fi=oi;L("H",["HH",2],0,"hour"),L("h",["hh",2],0,pe),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+pe.apply(this)+B(this.minutes(),2)}),L("hmmss",0,0,function(){return""+pe.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),fe("a",!0),fe("A",!1),A("hour","h"),T("hour",13),z("a",me),z("A",me),z("H",Gt),z("h",Gt),z("k",Gt),z("HH",Gt,Wt),z("hh",Gt,Wt),z("kk",Gt,Wt),z("hmm",Yt),z("hmmss",Xt),z("Hmm",Yt),z("Hmmss",Xt),W(["H","HH"],hi),W(["k","kk"],function(e,t,i){var n=x(e);t[hi]=24===n?0:n}),W(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),W(["h","hh"],function(e,t,i){t[hi]=x(e),p(i).bigHour=!0}),W("hmm",function(e,t,i){var n=e.length-2;t[hi]=x(e.substr(0,n)),t[ci]=x(e.substr(n)),p(i).bigHour=!0}),W("hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[hi]=x(e.substr(0,n)),t[ci]=x(e.substr(n,2)),t[di]=x(e.substr(o)),p(i).bigHour=!0}),W("Hmm",function(e,t,i){var n=e.length-2;t[hi]=x(e.substr(0,n)),t[ci]=x(e.substr(n))}),W("Hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[hi]=x(e.substr(0,n)),t[ci]=x(e.substr(n,2)),t[di]=x(e.substr(o))});var Mi,Ti=/[ap]\.?m?\.?/i,Oi=Y("Hours",!0),Bi={calendar:Ot,longDateFormat:Bt,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Lt,relativeTime:Pt,months:bi,monthsShort:xi,week:Ci,weekdays:ki,weekdaysMin:Ei,weekdaysShort:_i,meridiemParse:Ti},Li={},Pi={},Ni=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ii=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ri=/Z|[+-]\d\d(?::?\d\d)?/,zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ji=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Vi=/^\/?Date\((\-?\d+)/i,Hi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Ui=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=We.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),qi=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=We.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Ki=["year","quarter","month","week","day","hour","minute","second","millisecond"];Xe("Z",":"),Xe("ZZ",""),z("Z",ii),z("ZZ",ii),W(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Je(ii,e)});var Gi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Yi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Xi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;et.fn=Ke.prototype,et.invalid=function(){return et(NaN)};var Ji=ot(1,"add"),Zi=ot(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $i=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),lt("gggg","weekYear"),lt("ggggg","weekYear"),lt("GGGG","isoWeekYear"),lt("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),T("weekYear",1),T("isoWeekYear",1),z("G",ei),z("g",ei),z("GG",Gt,Wt),z("gg",Gt,Wt),z("GGGG",Zt,qt),z("gggg",Zt,qt),z("GGGGG",$t,Kt),z("ggggg",$t,Kt),U(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=x(e)}),U(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),L("Q",0,"Qo","quarter"),A("quarter","Q"),T("quarter",7),z("Q",Ht),W("Q",function(e,t){t[ui]=3*(x(e)-1)}),L("D",["DD",2],"Do","date"),A("date","D"),T("date",9),z("D",Gt),z("DD",Gt,Wt),z("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),W(["D","DD"],li),W("Do",function(e,t){t[li]=x(e.match(Gt)[0],10)});var Qi=Y("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),T("dayOfYear",4),z("DDD",Jt),z("DDDD",Ut),W(["DDD","DDDD"],function(e,t,i){i._dayOfYear=x(e)}),L("m",["mm",2],0,"minute"),A("minute","m"),T("minute",14),z("m",Gt),z("mm",Gt,Wt),W(["m","mm"],ci);var en=Y("Minutes",!1);L("s",["ss",2],0,"second"),A("second","s"),T("second",15),z("s",Gt),z("ss",Gt,Wt),W(["s","ss"],di);var tn=Y("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),T("millisecond",16),z("S",Jt,Ht),z("SS",Jt,Wt),z("SSS",Jt,Ut);var nn;for(nn="SSSS";nn.length<=9;nn+="S")z(nn,Qt);for(nn="S";nn.length<=9;nn+="S")W(nn,function(e,t){t[pi]=x(1e3*("0."+e))});var on=Y("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var rn=v.prototype;rn.add=Ji,rn.calendar=function(e,i){var n=e||We(),o=Ze(n,this).startOf("day"),r=t.calendarFormat(this,o)||"sameElse",s=i&&(_(i[r])?i[r].call(this,n):i[r]);return this.format(s||this.localeData().calendar(r,this,We(n)))},rn.clone=function(){return new v(this)},rn.diff=function(e,t,i){var n,o,r;if(!this.isValid())return NaN;if(!(n=Ze(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=F(t)){case"year":r=st(this,n)/12;break;case"month":r=st(this,n);break;case"quarter":r=st(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:b(r)},rn.endOf=function(e){return void 0===(e=F(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},rn.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=I(this,e);return this.localeData().postformat(i)},rn.from=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||We(e).isValid())?et({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},rn.fromNow=function(e){return this.from(We(),e)},rn.to=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||We(e).isValid())?et({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},rn.toNow=function(e){return this.to(We(),e)},rn.get=function(e){return e=F(e),_(this[e])?this[e]():this},rn.invalidAt=function(){return p(this).overflow},rn.isAfter=function(e,t){var i=y(e)?e:We(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=F(r(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},rn.isBefore=function(e,t){var i=y(e)?e:We(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=F(r(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},rn.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},rn.isSame=function(e,t){var i,n=y(e)?e:We(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},rn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},rn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},rn.isValid=function(){return f(this)},rn.lang=$i,rn.locale=at,rn.localeData=ut,rn.max=qi,rn.min=Ui,rn.parsingFlags=function(){return h({},p(this))},rn.set=function(e,t){if("object"==typeof e)for(var i=O(e=M(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(e=F(e),_(this[e]))return this[e](t);return this},rn.startOf=function(e){switch(e=F(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},rn.subtract=Zi,rn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},rn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},rn.toDate=function(){return new Date(this.valueOf())},rn.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?I(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):_(Date.prototype.toISOString)?this.toDate().toISOString():I(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},rn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+o)},rn.toJSON=function(){return this.isValid()?this.toISOString():null},rn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},rn.unix=function(){return Math.floor(this.valueOf()/1e3)},rn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},rn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},rn.year=vi,rn.isLeapYear=function(){return G(this.year())},rn.weekYear=function(e){return ht.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},rn.isoWeekYear=function(e){return ht.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},rn.quarter=rn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},rn.month=te,rn.daysInMonth=function(){return $(this.year(),this.month())},rn.week=rn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},rn.isoWeek=rn.isoWeeks=function(e){var t=ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},rn.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},rn.isoWeeksInYear=function(){return ue(this.year(),1,4)},rn.date=Qi,rn.day=rn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=le(e,this.localeData()),this.add(e-t,"d")):t},rn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},rn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=he(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},rn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},rn.hour=rn.hours=Oi,rn.minute=rn.minutes=en,rn.second=rn.seconds=tn,rn.millisecond=rn.milliseconds=on,rn.utcOffset=function(e,i,n){var o,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Je(ii,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&i&&(o=$e(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==e&&(!i||this._changeInProgress?rt(this,et(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:$e(this)},rn.utc=function(e){return this.utcOffset(0,e)},rn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($e(this),"m")),this},rn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Je(ti,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},rn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?We(e).utcOffset():0,(this.utcOffset()-e)%60==0)},rn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},rn.isLocal=function(){return!!this.isValid()&&!this._isUTC},rn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},rn.isUtc=Qe,rn.isUTC=Qe,rn.zoneAbbr=function(){return this._isUTC?"UTC":""},rn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},rn.dates=C("dates accessor is deprecated. Use date instead.",Qi),rn.months=C("months accessor is deprecated. Use month instead",te),rn.years=C("years accessor is deprecated. Use year instead",vi),rn.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),rn.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=je(e))._a){var t=e._isUTC?c(e._a):We(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var sn=S.prototype;sn.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return _(n)?n.call(t,i):n},sn.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},sn.invalidDate=function(){return this._invalidDate},sn.ordinal=function(e){return this._ordinal.replace("%d",e)},sn.preparse=dt,sn.postformat=dt,sn.relativeTime=function(e,t,i,n){var o=this._relativeTime[i];return _(o)?o(e,t,i,n):o.replace(/%d/i,e)},sn.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return _(i)?i(t):i.replace(/%s/i,t)},sn.set=function(e){var t,i;for(i in e)_(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},sn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||yi).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},sn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[yi.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},sn.monthsParse=function(e,t,i){var n,o,r;if(this._monthsParseExact)return Q.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=c([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},sn.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Di),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},sn.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=wi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},sn.week=function(e){return ae(e,this._week.dow,this._week.doy).week},sn.firstDayOfYear=function(){return this._week.doy},sn.firstDayOfWeek=function(){return this._week.dow},sn.weekdays=function(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},sn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},sn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},sn.weekdaysParse=function(e,t,i){var n,o,r;if(this._weekdaysParseExact)return ce.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=c([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},sn.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Si),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},sn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ai),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},sn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},sn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},sn.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},be("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",be),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",we);var an=Math.abs,un=xt("ms"),ln=xt("s"),hn=xt("m"),cn=xt("h"),dn=xt("d"),pn=xt("w"),fn=xt("M"),mn=xt("y"),gn=wt("milliseconds"),vn=wt("seconds"),yn=wt("minutes"),bn=wt("hours"),xn=wt("days"),wn=wt("months"),Dn=wt("years"),Cn=Math.round,kn={ss:44,s:45,m:45,h:22,d:26,M:11},_n=Math.abs,En=Ke.prototype;return En.isValid=function(){return this._isValid},En.abs=function(){var e=this._data;return this._milliseconds=an(this._milliseconds),this._days=an(this._days),this._months=an(this._months),e.milliseconds=an(e.milliseconds),e.seconds=an(e.seconds),e.minutes=an(e.minutes),e.hours=an(e.hours),e.months=an(e.months),e.years=an(e.years),this},En.add=function(e,t){return gt(this,e,t,1)},En.subtract=function(e,t){return gt(this,e,t,-1)},En.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=F(e))||"year"===e)return t=this._days+n/864e5,i=this._months+yt(t),"month"===e?i:i/12;switch(t=this._days+Math.round(bt(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},En.asMilliseconds=un,En.asSeconds=ln,En.asMinutes=hn,En.asHours=cn,En.asDays=dn,En.asWeeks=pn,En.asMonths=fn,En.asYears=mn,En.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},En._bubble=function(){var e,t,i,n,o,r=this._milliseconds,s=this._days,a=this._months,u=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*vt(bt(a)+s),s=0,a=0),u.milliseconds=r%1e3,e=b(r/1e3),u.seconds=e%60,t=b(e/60),u.minutes=t%60,i=b(t/60),u.hours=i%24,s+=b(i/24),o=b(yt(s)),a+=o,s-=vt(bt(o)),n=b(a/12),a%=12,u.days=s,u.months=a,u.years=n,this},En.clone=function(){return et(this)},En.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},En.milliseconds=gn,En.seconds=vn,En.minutes=yn,En.hours=bn,En.days=xn,En.weeks=function(){return b(this.days()/7)},En.months=wn,En.years=Dn,En.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=Ct(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)},En.toISOString=_t,En.toString=_t,En.toJSON=_t,En.locale=at,En.localeData=ut,En.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_t),En.lang=$i,L("X",0,0,"unix"),L("x",0,0,"valueOf"),z("x",ei),z("X",ni),W("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,i){i._d=new Date(x(e))}),t.version="2.19.1",Et=We,t.fn=rn,t.min=function(){return Ue("isBefore",[].slice.call(arguments,0))},t.max=function(){return Ue("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=c,t.unix=function(e){return We(1e3*e)},t.months=function(e,t){return ft(e,t,"months")},t.isDate=a,t.locale=be,t.invalid=m,t.duration=et,t.isMoment=y,t.weekdays=function(e,t,i){return mt(e,t,i,"weekdays")},t.parseZone=function(){return We.apply(null,arguments).parseZone()},t.localeData=we,t.isDuration=Ge,t.monthsShort=function(e,t){return ft(e,t,"monthsShort")},t.weekdaysMin=function(e,t,i){return mt(e,t,i,"weekdaysMin")},t.defineLocale=xe,t.updateLocale=function(e,t){if(null!=t){var i,n=Bi;null!=Li[e]&&(n=Li[e]._config),(i=new S(t=E(n,t))).parentLocale=Li[e],Li[e]=i,be(e)}else null!=Li[e]&&(null!=Li[e].parentLocale?Li[e]=Li[e].parentLocale:null!=Li[e]&&delete Li[e]);return Li[e]},t.locales=function(){return Tt(Li)},t.weekdaysShort=function(e,t,i){return mt(e,t,i,"weekdaysShort")},t.normalizeUnits=F,t.relativeTimeRounding=function(e){return void 0===e?Cn:"function"==typeof e&&(Cn=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==kn[e]&&(void 0===t?kn[e]:(kn[e]=t,"s"===e&&(kn.ss=t-1),!0))},t.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},t.prototype=rn,t})}).call(t,i(155)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function i(e){throw new Error("Cannot find module '"+e+"'.")}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=156},function(e,t,i){(function(t){function i(e,t){var i=t||0,n=u;return n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]}function n(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;a++)t[r+a]=s[a];return t||i(s)}var o,r="undefined"!=typeof window?window:void 0!==t?t:null;if(r&&r.crypto&&crypto.getRandomValues){var s=new Uint8Array(16);o=function(){return crypto.getRandomValues(s),s}}if(!o){var a=new Array(16);o=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}for(var u=[],l={},h=0;h<256;h++)u[h]=(h+256).toString(16).substr(1),l[u[h]]=h;var c=o(),d=[1|c[0],c[1],c[2],c[3],c[4],c[5]],p=16383&(c[6]<<8|c[7]),f=0,m=0,g=n;g.v1=function(e,t,n){var o=t&&n||0,r=t||[],s=void 0!==(e=e||{}).clockseq?e.clockseq:p,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:m+1,l=a-f+(u-m)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||a>f)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,m=u,p=s;var h=(1e4*(268435455&(a+=122192928e5))+u)%4294967296;r[o++]=h>>>24&255,r[o++]=h>>>16&255,r[o++]=h>>>8&255,r[o++]=255&h;var c=a/4294967296*1e4&268435455;r[o++]=c>>>8&255,r[o++]=255&c,r[o++]=c>>>24&15|16,r[o++]=c>>>16&255,r[o++]=s>>>8|128,r[o++]=255&s;for(var g=e.node||d,v=0;v<6;v++)r[o+v]=g[v];return t||i(r)},g.v4=n,g.parse=function(e,t,i){var n=t&&i||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){o<16&&(t[n+o++]=l[e])});o<16;)t[n+o++]=0;return t},g.unparse=i,e.exports=g}).call(t,i(158))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){t.util=i(2),t.DOMutil=i(14),t.DataSet=i(11),t.DataView=i(12),t.Queue=i(43),t.Graph3d=i(161),t.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)},t.moment=i(9),t.Hammer=i(10),t.keycharm=i(35)},function(e,t,i){var n=i(7),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,i){function n(e,t,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=e,this.dataGroup=new v,this.dataPoints=null,this.create(),p.setDefaults(n.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(i),this.setData(t)}function o(e){return"clientX"in e?e.clientX:e.targetTouches[0]&&e.targetTouches[0].clientX||0}function r(e){return"clientY"in e?e.clientY:e.targetTouches[0]&&e.targetTouches[0].clientY||0}var s=function(e){return e&&e.__esModule?e:{default:e}}(i(90)),a=i(44),u=i(2),l=i(34),h=i(91),c=i(92),d=i(93),p=i(94),f=i(15).default,m=i(15).printStyle,g=i(172).allOptions,v=i(173);n.STYLE=p.STYLE,n.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(e){return e},yValueLabel:function(e){return e},zValueLabel:function(e){return e},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:n.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},a(n.prototype),n.prototype._setScale=function(){this.scale=new l(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var e=this.xRange.center()*this.scale.x,t=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(e,t,i)},n.prototype._convert3Dto2D=function(e){var t=this._convertPointToTranslation(e);return this._convertTranslationToScreen(t)},n.prototype._convertPointToTranslation=function(e){var t=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),n=e.x*this.scale.x,o=e.y*this.scale.y,r=e.z*this.scale.z,s=t.x,a=t.y,u=t.z,h=Math.sin(i.x),c=Math.cos(i.x),d=Math.sin(i.y),p=Math.cos(i.y),f=Math.sin(i.z),m=Math.cos(i.z);return new l(p*(f*(o-a)+m*(n-s))-d*(r-u),h*(p*(r-u)+d*(f*(o-a)+m*(n-s)))+c*(m*(o-a)-f*(n-s)),c*(p*(r-u)+d*(f*(o-a)+m*(n-s)))-h*(m*(o-a)-f*(n-s)))},n.prototype._convertTranslationToScreen=function(e){var t,i,n=this.eye.x,o=this.eye.y,r=this.eye.z,s=e.x,a=e.y,u=e.z;return this.showPerspective?(t=r/u*(s-n),i=r/u*(a-o)):(t=s*(-r/this.camera.getArmLength()),i=a*(-r/this.camera.getArmLength())),new h(this.currentXCenter+t*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},n.prototype._calcTranslations=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var n=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?n.length():-n.z}e.sort(function(e,t){return t.dist-e.dist})},n.prototype._initializeRanges=function(){var e=this.dataGroup;this.xRange=e.xRange,this.yRange=e.yRange,this.zRange=e.zRange,this.valueRange=e.valueRange,this.xStep=e.xStep,this.yStep=e.yStep,this.zStep=e.zStep,this.xBarWidth=e.xBarWidth,this.yBarWidth=e.yBarWidth,this.colX=e.colX,this.colY=e.colY,this.colZ=e.colZ,this.colValue=e.colValue,this._setScale()},n.prototype.getDataPoints=function(e){for(var t=[],i=0;i<e.length;i++){var n=new l;n.x=e[i][this.colX]||0,n.y=e[i][this.colY]||0,n.z=e[i][this.colZ]||0,n.data=e[i],void 0!==this.colValue&&(n.value=e[i][this.colValue]||0);var o={};o.point=n,o.bottom=new l(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,t.push(o)}return t},n.prototype._getDataPoints=function(e){var t,i,o,r,s=[];if(this.style===n.STYLE.GRID||this.style===n.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,e),u=this.dataGroup.getDistinctValues(this.colY,e);s=this.getDataPoints(e);var l=[];for(o=0;o<s.length;o++){r=s[o];var h=a.indexOf(r.point.x),c=u.indexOf(r.point.y);void 0===l[h]&&(l[h]=[]),l[h][c]=r}for(t=0;t<l.length;t++)for(i=0;i<l[t].length;i++)l[t][i]&&(l[t][i].pointRight=t<l.length-1?l[t+1][i]:void 0,l[t][i].pointTop=i<l[t].length-1?l[t][i+1]:void 0,l[t][i].pointCross=t<l.length-1&&i<l[t].length-1?l[t+1][i+1]:void 0)}else if(this._checkValueField(e),s=this.getDataPoints(e),this.style===n.STYLE.LINE)for(o=0;o<s.length;o++)o>0&&(s[o-1].pointNext=s[o]);return s},n.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var t=this;u.addEventListener(this.frame.canvas,"mousedown",function(e){t._onMouseDown(e)}),u.addEventListener(this.frame.canvas,"touchstart",function(e){t._onTouchStart(e)}),u.addEventListener(this.frame.canvas,"mousewheel",function(e){t._onWheel(e)}),u.addEventListener(this.frame.canvas,"mousemove",function(e){t._onTooltip(e)}),u.addEventListener(this.frame.canvas,"click",function(e){t._onClick(e)}),this.containerElement.appendChild(this.frame)},n.prototype._setSize=function(e,t){this.frame.style.width=e,this.frame.style.height=t,this._resizeCanvas()},n.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},n.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},n.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},n.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},n.prototype.getCameraPosition=function(){var e=this.camera.getArmRotation();return e.distance=this.camera.getArmLength(),e},n.prototype._readData=function(e){this.dataPoints=this.dataGroup.initializeData(this,e,this.style),this._initializeRanges(),this._redrawFilter()},n.prototype.setData=function(e){void 0!==e&&null!==e&&(this._readData(e),this.redraw(),this.animationStart())},n.prototype.setOptions=function(e){void 0!==e&&(!0===f.validate(e,g)&&console.log("%cErrors have been found in the supplied options object.",m),this.animationStop(),p.setOptions(e,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},n.prototype.setPointDrawingMethod=function(){var e=void 0;switch(this.style){case n.STYLE.BAR:e=n.prototype._redrawBarGraphPoint;break;case n.STYLE.BARCOLOR:e=n.prototype._redrawBarColorGraphPoint;break;case n.STYLE.BARSIZE:e=n.prototype._redrawBarSizeGraphPoint;break;case n.STYLE.DOT:e=n.prototype._redrawDotGraphPoint;break;case n.STYLE.DOTLINE:e=n.prototype._redrawDotLineGraphPoint;break;case n.STYLE.DOTCOLOR:e=n.prototype._redrawDotColorGraphPoint;break;case n.STYLE.DOTSIZE:e=n.prototype._redrawDotSizeGraphPoint;break;case n.STYLE.SURFACE:e=n.prototype._redrawSurfaceGraphPoint;break;case n.STYLE.GRID:e=n.prototype._redrawGridGraphPoint;break;case n.STYLE.LINE:e=n.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=e},n.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},n.prototype._getContext=function(){var e=this.frame.canvas.getContext("2d");return e.lineJoin="round",e.lineCap="round",e},n.prototype._redrawClear=function(){var e=this.frame.canvas;e.getContext("2d").clearRect(0,0,e.width,e.height)},n.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},n.prototype._getLegendWidth=function(){return this.style===n.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===n.STYLE.BARSIZE?this.xBarWidth:20},n.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==n.STYLE.LINE&&this.style!==n.STYLE.BARSIZE){var e=this.style===n.STYLE.BARSIZE||this.style===n.STYLE.DOTSIZE,t=this.style===n.STYLE.DOTSIZE||this.style===n.STYLE.DOTCOLOR||this.style===n.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),o=this.margin,r=this._getLegendWidth(),s=this.frame.clientWidth-this.margin,a=s-r,u=o+i,l=this._getContext();if(l.lineWidth=1,l.font="14px arial",!1===e){var c,p=i;for(c=0;c<p;c++){var f=(c-0)/(p-0)*240,m=this._hsv2rgb(f,1,1);l.strokeStyle=m,l.beginPath(),l.moveTo(a,o+c),l.lineTo(s,o+c),l.stroke()}l.strokeStyle=this.axisColor,l.strokeRect(a,o,r,i)}else{var g;this.style===n.STYLE.DOTSIZE?g=r*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,n.STYLE.BARSIZE),l.strokeStyle=this.axisColor,l.fillStyle=this.dataColor.fill,l.beginPath(),l.moveTo(a,o),l.lineTo(s,o),l.lineTo(a+g,u),l.lineTo(a,u),l.closePath(),l.fill(),l.stroke()}var v=t?this.valueRange.min:this.zRange.min,y=t?this.valueRange.max:this.zRange.max,b=new d(v,y,(y-v)/5,!0);b.start(!0);for(var x,w;!b.end();)c=u-(b.getCurrent()-v)/(y-v)*i,x=new h(a-5,c),w=new h(a,c),this._line(l,x,w),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.axisColor,l.fillText(b.getCurrent(),a-10,c),b.next();l.textAlign="right",l.textBaseline="top";var D=this.legendLabel;l.fillText(D,s,u+this.margin)}},n.prototype._redrawFilter=function(){var e=this.dataGroup.dataFilter,t=this.frame.filter;if(t.innerHTML="",e){var i={visible:this.showAnimationControls},n=new c(t,i);t.slider=n,t.style.padding="10px",n.setValues(e.values),n.setPlayInterval(this.animationInterval);var o=this;n.setOnChangeCallback(function(){var e=o.dataGroup.dataFilter,t=n.getIndex();e.selectValue(t),o.dataPoints=e._getDataPoints(),o.redraw()})}else t.slider=void 0},n.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},n.prototype._redrawInfo=function(){var e=this.dataGroup.getInfo();if(void 0!==e){var t=this._getContext();t.font="14px arial",t.lineStyle="gray",t.fillStyle="gray",t.textAlign="left",t.textBaseline="top";var i=this.margin,n=this.margin;t.fillText(e,i,n)}},n.prototype._line=function(e,t,i,n){void 0!==n&&(e.strokeStyle=n),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.stroke()},n.prototype.drawAxisLabelX=function(e,t,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(t);Math.cos(2*n)>0?(e.textAlign="center",e.textBaseline="top",r.y+=o):Math.sin(2*n)<0?(e.textAlign="right",e.textBaseline="middle"):(e.textAlign="left",e.textBaseline="middle"),e.fillStyle=this.axisColor,e.fillText(i,r.x,r.y)},n.prototype.drawAxisLabelY=function(e,t,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(t);Math.cos(2*n)<0?(e.textAlign="center",e.textBaseline="top",r.y+=o):Math.sin(2*n)>0?(e.textAlign="right",e.textBaseline="middle"):(e.textAlign="left",e.textBaseline="middle"),e.fillStyle=this.axisColor,e.fillText(i,r.x,r.y)},n.prototype.drawAxisLabelZ=function(e,t,i,n){void 0===n&&(n=0);var o=this._convert3Dto2D(t);e.textAlign="right",e.textBaseline="middle",e.fillStyle=this.axisColor,e.fillText(i,o.x-n,o.y)},n.prototype._line3d=function(e,t,i,n){var o=this._convert3Dto2D(t),r=this._convert3Dto2D(i);this._line(e,o,r,n)},n.prototype._redrawAxis=function(){var e,t,i,n,o,r,s,a,u,c,p,f=this._getContext();f.font=24/this.camera.getArmLength()+"px arial";var m,g=.025/this.scale.x,v=.025/this.scale.y,y=5/this.camera.getArmLength(),b=this.camera.getArmRotation().horizontal,x=new h(Math.cos(b),Math.sin(b)),w=this.xRange,D=this.yRange,C=this.zRange;for(f.lineWidth=1,n=void 0===this.defaultXStep,(i=new d(w.min,w.max,this.xStep,n)).start(!0);!i.end();){var k=i.getCurrent();if(this.showGrid?(e=new l(k,D.min,C.min),t=new l(k,D.max,C.min),this._line3d(f,e,t,this.gridColor)):this.showXAxis&&(e=new l(k,D.min,C.min),t=new l(k,D.min+g,C.min),this._line3d(f,e,t,this.axisColor),e=new l(k,D.max,C.min),t=new l(k,D.max-g,C.min),this._line3d(f,e,t,this.axisColor)),this.showXAxis){s=x.x>0?D.min:D.max,m=new l(k,s,C.min);var _="  "+this.xValueLabel(k)+"  ";this.drawAxisLabelX(f,m,_,b,y)}i.next()}for(f.lineWidth=1,n=void 0===this.defaultYStep,(i=new d(D.min,D.max,this.yStep,n)).start(!0);!i.end();){var E=i.getCurrent();if(this.showGrid?(e=new l(w.min,E,C.min),t=new l(w.max,E,C.min),this._line3d(f,e,t,this.gridColor)):this.showYAxis&&(e=new l(w.min,E,C.min),t=new l(w.min+v,E,C.min),this._line3d(f,e,t,this.axisColor),e=new l(w.max,E,C.min),t=new l(w.max-v,E,C.min),this._line3d(f,e,t,this.axisColor)),this.showYAxis){r=x.y>0?w.min:w.max,m=new l(r,E,C.min);var S="  "+this.yValueLabel(E)+"  ";this.drawAxisLabelY(f,m,S,b,y)}i.next()}if(this.showZAxis){for(f.lineWidth=1,n=void 0===this.defaultZStep,(i=new d(C.min,C.max,this.zStep,n)).start(!0),r=x.x>0?w.min:w.max,s=x.y<0?D.min:D.max;!i.end();){var A=i.getCurrent(),F=new l(r,s,A),M=this._convert3Dto2D(F);t=new h(M.x-y,M.y),this._line(f,M,t,this.axisColor);var T=this.zValueLabel(A)+" ";this.drawAxisLabelZ(f,F,T,5),i.next()}f.lineWidth=1,e=new l(r,s,C.min),t=new l(r,s,C.max),this._line3d(f,e,t,this.axisColor)}if(this.showXAxis){var O,B;f.lineWidth=1,O=new l(w.min,D.min,C.min),B=new l(w.max,D.min,C.min),this._line3d(f,O,B,this.axisColor),O=new l(w.min,D.max,C.min),B=new l(w.max,D.max,C.min),this._line3d(f,O,B,this.axisColor)}this.showYAxis&&(f.lineWidth=1,e=new l(w.min,D.min,C.min),t=new l(w.min,D.max,C.min),this._line3d(f,e,t,this.axisColor),e=new l(w.max,D.min,C.min),t=new l(w.max,D.max,C.min),this._line3d(f,e,t,this.axisColor));var L=this.xLabel;L.length>0&&this.showXAxis&&(p=.1/this.scale.y,r=(w.max+3*w.min)/4,s=x.x>0?D.min-p:D.max+p,o=new l(r,s,C.min),this.drawAxisLabelX(f,o,L,b));var P=this.yLabel;P.length>0&&this.showYAxis&&(c=.1/this.scale.x,r=x.y>0?w.min-c:w.max+c,s=(D.max+3*D.min)/4,o=new l(r,s,C.min),this.drawAxisLabelY(f,o,P,b));var N=this.zLabel;N.length>0&&this.showZAxis&&(u=30,r=x.x>0?w.min:w.max,s=x.y<0?D.min:D.max,a=(C.max+3*C.min)/4,o=new l(r,s,a),this.drawAxisLabelZ(f,o,N,u))},n.prototype._hsv2rgb=function(e,t,i){var n,o,r,s,a,u;switch(s=i*t,a=Math.floor(e/60),u=s*(1-Math.abs(e/60%2-1)),a){case 0:n=s,o=u,r=0;break;case 1:n=u,o=s,r=0;break;case 2:n=0,o=s,r=u;break;case 3:n=0,o=u,r=s;break;case 4:n=u,o=0,r=s;break;case 5:n=s,o=0,r=u;break;default:n=0,o=0,r=0}return"RGB("+parseInt(255*n)+","+parseInt(255*o)+","+parseInt(255*r)+")"},n.prototype._getStrokeWidth=function(e){return void 0!==e?this.showPerspective?1/-e.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},n.prototype._redrawBar=function(e,t,i,n,o,r){var s,a=this,u=t.point,h=this.zRange.min,c=[{point:new l(u.x-i,u.y-n,u.z)},{point:new l(u.x+i,u.y-n,u.z)},{point:new l(u.x+i,u.y+n,u.z)},{point:new l(u.x-i,u.y+n,u.z)}],d=[{point:new l(u.x-i,u.y-n,h)},{point:new l(u.x+i,u.y-n,h)},{point:new l(u.x+i,u.y+n,h)},{point:new l(u.x-i,u.y+n,h)}];c.forEach(function(e){e.screen=a._convert3Dto2D(e.point)}),d.forEach(function(e){e.screen=a._convert3Dto2D(e.point)});var p=[{corners:c,center:l.avg(d[0].point,d[2].point)},{corners:[c[0],c[1],d[1],d[0]],center:l.avg(d[1].point,d[0].point)},{corners:[c[1],c[2],d[2],d[1]],center:l.avg(d[2].point,d[1].point)},{corners:[c[2],c[3],d[3],d[2]],center:l.avg(d[3].point,d[2].point)},{corners:[c[3],c[0],d[0],d[3]],center:l.avg(d[0].point,d[3].point)}];t.surfaces=p;for(var f=0;f<p.length;f++){s=p[f];var m=this._convertPointToTranslation(s.center);s.dist=this.showPerspective?m.length():-m.z}p.sort(function(e,t){return t.dist-e.dist||(e.corners===c?1:t.corners===c?-1:0)}),e.lineWidth=this._getStrokeWidth(t),e.strokeStyle=r,e.fillStyle=o;for(var g=2;g<p.length;g++)s=p[g],this._polygon(e,s.corners)},n.prototype._polygon=function(e,t,i,n){if(!(t.length<2)){void 0!==i&&(e.fillStyle=i),void 0!==n&&(e.strokeStyle=n),e.beginPath(),e.moveTo(t[0].screen.x,t[0].screen.y);for(var o=1;o<t.length;++o){var r=t[o];e.lineTo(r.screen.x,r.screen.y)}e.closePath(),e.fill(),e.stroke()}},n.prototype._drawCircle=function(e,t,i,n,o){var r=this._calcRadius(t,o);e.lineWidth=this._getStrokeWidth(t),e.strokeStyle=n,e.fillStyle=i,e.beginPath(),e.arc(t.screen.x,t.screen.y,r,0,2*Math.PI,!0),e.fill(),e.stroke()},n.prototype._getColorsRegular=function(e){var t=240*(1-(e.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(t,1,1),border:this._hsv2rgb(t,1,.8)}},n.prototype._getColorsColor=function(e){var t,i;if("string"==typeof e.point.value)t=e.point.value,i=e.point.value;else{var n=240*(1-(e.point.value-this.valueRange.min)*this.scale.value);t=this._hsv2rgb(n,1,1),i=this._hsv2rgb(n,1,.8)}return{fill:t,border:i}},n.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},n.prototype._calcRadius=function(e,t){void 0===t&&(t=this._dotSize());var i;return(i=this.showPerspective?t/-e.trans.z:t*(-this.eye.z/this.camera.getArmLength()))<0&&(i=0),i},n.prototype._redrawBarGraphPoint=function(e,t){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsRegular(t);this._redrawBar(e,t,i,n,o.fill,o.border)},n.prototype._redrawBarColorGraphPoint=function(e,t){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsColor(t);this._redrawBar(e,t,i,n,o.fill,o.border)},n.prototype._redrawBarSizeGraphPoint=function(e,t){var i=(t.point.value-this.valueRange.min)/this.valueRange.range(),n=this.xBarWidth/2*(.8*i+.2),o=this.yBarWidth/2*(.8*i+.2),r=this._getColorsSize();this._redrawBar(e,t,n,o,r.fill,r.border)},n.prototype._redrawDotGraphPoint=function(e,t){var i=this._getColorsRegular(t);this._drawCircle(e,t,i.fill,i.border)},n.prototype._redrawDotLineGraphPoint=function(e,t){var i=this._convert3Dto2D(t.bottom);e.lineWidth=1,this._line(e,i,t.screen,this.gridColor),this._redrawDotGraphPoint(e,t)},n.prototype._redrawDotColorGraphPoint=function(e,t){var i=this._getColorsColor(t);this._drawCircle(e,t,i.fill,i.border)},n.prototype._redrawDotSizeGraphPoint=function(e,t){var i=this._dotSize(),n=(t.point.value-this.valueRange.min)/this.valueRange.range(),o=i*this.dotSizeMinFraction,r=o+(i*this.dotSizeMaxFraction-o)*n,s=this._getColorsSize();this._drawCircle(e,t,s.fill,s.border,r)},n.prototype._redrawSurfaceGraphPoint=function(e,t){var i=t.pointRight,n=t.pointTop,o=t.pointCross;if(void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o){var r,s,a=!0;if(this.showGrayBottom||this.showShadow){var u=l.subtract(o.trans,t.trans),h=l.subtract(n.trans,i.trans),c=l.crossProduct(u,h),d=c.length();a=c.z>0}if(a){var p,f=240*(1-((t.point.z+i.point.z+n.point.z+o.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(p=Math.min(1+c.x/d/2,1),s=r=this._hsv2rgb(f,1,p)):(p=1,r=this._hsv2rgb(f,1,p),s=this.axisColor)}else r="gray",s=this.axisColor;e.lineWidth=this._getStrokeWidth(t);var m=[t,i,o,n];this._polygon(e,m,r,s)}},n.prototype._drawGridLine=function(e,t,i){if(void 0!==t&&void 0!==i){var n=240*(1-((t.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);e.lineWidth=2*this._getStrokeWidth(t),e.strokeStyle=this._hsv2rgb(n,1,1),this._line(e,t.screen,i.screen)}},n.prototype._redrawGridGraphPoint=function(e,t){this._drawGridLine(e,t,t.pointRight),this._drawGridLine(e,t,t.pointTop)},n.prototype._redrawLineGraphPoint=function(e,t){void 0!==t.pointNext&&(e.lineWidth=this._getStrokeWidth(t),e.strokeStyle=this.dataColor.stroke,this._line(e,t.screen,t.pointNext.screen))},n.prototype._redrawDataGraph=function(){var e,t=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),e=0;e<this.dataPoints.length;e++){var i=this.dataPoints[e];this._pointDrawingMethod.call(this,t,i)}},n.prototype._storeMousePosition=function(e){this.startMouseX=o(e),this.startMouseY=r(e),this._startCameraOffset=this.camera.getOffset()},n.prototype._onMouseDown=function(e){if(e=e||window.event,this.leftButtonDown&&this._onMouseUp(e),this.leftButtonDown=e.which?1===e.which:1===e.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(e),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var t=this;this.onmousemove=function(e){t._onMouseMove(e)},this.onmouseup=function(e){t._onMouseUp(e)},u.addEventListener(document,"mousemove",t.onmousemove),u.addEventListener(document,"mouseup",t.onmouseup),u.preventDefault(e)}},n.prototype._onMouseMove=function(e){this.moving=!0,e=e||window.event;var t=parseFloat(o(e))-this.startMouseX,i=parseFloat(r(e))-this.startMouseY;if(e&&!0===e.ctrlKey){var n=.5*this.frame.clientWidth,s=.5*this.frame.clientHeight,a=(this._startCameraOffset.x||0)-t/n*this.camera.armLength*.8,l=(this._startCameraOffset.y||0)+i/s*this.camera.armLength*.8;this.camera.setOffset(a,l),this._storeMousePosition(e)}else{var h=this.startArmRotation.horizontal+t/200,c=this.startArmRotation.vertical+i/200,d=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(h))<d&&(h=Math.round(h/Math.PI)*Math.PI-.001),Math.abs(Math.cos(h))<d&&(h=(Math.round(h/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(c))<d&&(c=Math.round(c/Math.PI)*Math.PI),Math.abs(Math.cos(c))<d&&(c=(Math.round(c/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(h,c)}this.redraw();var p=this.getCameraPosition();this.emit("cameraPositionChange",p),u.preventDefault(e)},n.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",this.leftButtonDown=!1,u.removeEventListener(document,"mousemove",this.onmousemove),u.removeEventListener(document,"mouseup",this.onmouseup),u.preventDefault(e)},n.prototype._onClick=function(e){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var t=this.frame.getBoundingClientRect(),i=o(e)-t.left,n=r(e)-t.top,s=this._dataPointFromXY(i,n);s&&this.onclick_callback(s.point.data)}u.preventDefault(e)}},n.prototype._onTooltip=function(e){var t=this.frame.getBoundingClientRect(),i=o(e)-t.left,n=r(e)-t.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var s=this._dataPointFromXY(i,n);s!==this.tooltip.dataPoint&&(s?this._showTooltip(s):this._hideTooltip())}else{var a=this;this.tooltipTimeout=setTimeout(function(){a.tooltipTimeout=null;var e=a._dataPointFromXY(i,n);e&&a._showTooltip(e)},300)}},n.prototype._onTouchStart=function(e){this.touchDown=!0;var t=this;this.ontouchmove=function(e){t._onTouchMove(e)},this.ontouchend=function(e){t._onTouchEnd(e)},u.addEventListener(document,"touchmove",t.ontouchmove),u.addEventListener(document,"touchend",t.ontouchend),this._onMouseDown(e)},n.prototype._onTouchMove=function(e){this._onMouseMove(e)},n.prototype._onTouchEnd=function(e){this.touchDown=!1,u.removeEventListener(document,"touchmove",this.ontouchmove),u.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(e)},n.prototype._onWheel=function(e){e||(e=window.event);var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){var i=this.camera.getArmLength()*(1-t/10);this.camera.setArmLength(i),this.redraw(),this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n),u.preventDefault(e)},n.prototype._insideTriangle=function(e,t){function i(e){return e>0?1:e<0?-1:0}var n=t[0],o=t[1],r=t[2],s=i((o.x-n.x)*(e.y-n.y)-(o.y-n.y)*(e.x-n.x)),a=i((r.x-o.x)*(e.y-o.y)-(r.y-o.y)*(e.x-o.x)),u=i((n.x-r.x)*(e.y-r.y)-(n.y-r.y)*(e.x-r.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=u&&a!=u||0!=s&&0!=u&&s!=u)},n.prototype._dataPointFromXY=function(e,t){var i,o=null,r=null,s=null,a=new h(e,t);if(this.style===n.STYLE.BAR||this.style===n.STYLE.BARCOLOR||this.style===n.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){var u=(o=this.dataPoints[i]).surfaces;if(u)for(var l=u.length-1;l>=0;l--){var c=u[l].corners,d=[c[0].screen,c[1].screen,c[2].screen],p=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,d)||this._insideTriangle(a,p))return o}}else for(i=0;i<this.dataPoints.length;i++){var f=(o=this.dataPoints[i]).screen;if(f){var m=Math.abs(e-f.x),g=Math.abs(t-f.y),v=Math.sqrt(m*m+g*g);(null===s||v<s)&&v<100&&(s=v,r=o)}}return r},n.prototype.hasBars=function(e){return e==n.STYLE.BAR||e==n.STYLE.BARCOLOR||e==n.STYLE.BARSIZE},n.prototype._showTooltip=function(e){var t,i,n;this.tooltip?(t=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(t=document.createElement("div"),(0,s.default)(t.style,{},this.tooltipStyle.content),t.style.position="absolute",i=document.createElement("div"),(0,s.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",n=document.createElement("div"),(0,s.default)(n.style,{},this.tooltipStyle.dot),n.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:t,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=e,"function"==typeof this.showTooltip?t.innerHTML=this.showTooltip(e.point):t.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+e.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+e.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+e.point.z+"</td></tr></table>",t.style.left="0",t.style.top="0",this.frame.appendChild(t),this.frame.appendChild(i),this.frame.appendChild(n);var o=t.offsetWidth,r=t.offsetHeight,a=i.offsetHeight,u=n.offsetWidth,l=n.offsetHeight,h=e.screen.x-o/2;h=Math.min(Math.max(h,10),this.frame.clientWidth-10-o),i.style.left=e.screen.x+"px",i.style.top=e.screen.y-a+"px",t.style.left=h+"px",t.style.top=e.screen.y-a-r+"px",n.style.left=e.screen.x-u/2+"px",n.style.top=e.screen.y-l/2+"px"},n.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var e in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(e)){var t=this.tooltip.dom[e];t&&t.parentNode&&t.parentNode.removeChild(t)}}},n.prototype.setCameraPosition=function(e){p.setCameraPosition(e,this),this.redraw()},n.prototype.setSize=function(e,t){this._setSize(e,t),this.redraw()},e.exports=n},function(e,t,i){i(163),e.exports=i(7).Object.assign},function(e,t,i){var n=i(17);n(n.S+n.F,"Object",{assign:i(164)})},function(e,t,i){var n=i(33),o=i(63),r=i(42),s=i(41),a=i(78),u=Object.assign;e.exports=!u||i(28)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[i]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var i=s(e),u=arguments.length,l=1,h=o.f,c=r.f;u>l;)for(var d,p=a(arguments[l++]),f=h?n(p).concat(h(p)):n(p),m=f.length,g=0;m>g;)c.call(p,d=f[g++])&&(i[d]=p[d]);return i}:u},function(e,t,i){e.exports={default:i(166),__esModule:!0}},function(e,t,i){i(167),e.exports=i(7).Math.sign},function(e,t,i){var n=i(17);n(n.S,"Math",{sign:i(168)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,i){e.exports={default:i(170),__esModule:!0}},function(e,t,i){i(171);var n=i(7).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(17);n(n.S+n.F*!i(21),"Object",{defineProperty:i(20).f})},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n="string",o="boolean",r="number",s={fill:{string:n},stroke:{string:n},strokeWidth:{number:r},__type__:{string:n,object:"object",undefined:"undefined"}},a={animationAutoStart:{boolean:o,undefined:"undefined"},animationInterval:{number:r},animationPreload:{boolean:o},axisColor:{string:n},backgroundColor:s,xBarWidth:{number:r,undefined:"undefined"},yBarWidth:{number:r,undefined:"undefined"},cameraPosition:{distance:{number:r},horizontal:{number:r},vertical:{number:r},__type__:{object:"object"}},xCenter:{string:n},yCenter:{string:n},dataColor:s,dotSizeMinFraction:{number:r},dotSizeMaxFraction:{number:r},dotSizeRatio:{number:r},filterLabel:{string:n},gridColor:{string:n},onclick:{function:"function"},keepAspectRatio:{boolean:o},xLabel:{string:n},yLabel:{string:n},zLabel:{string:n},legendLabel:{string:n},xMin:{number:r,undefined:"undefined"},yMin:{number:r,undefined:"undefined"},zMin:{number:r,undefined:"undefined"},xMax:{number:r,undefined:"undefined"},yMax:{number:r,undefined:"undefined"},zMax:{number:r,undefined:"undefined"},showAnimationControls:{boolean:o,undefined:"undefined"},showGrid:{boolean:o},showLegend:{boolean:o,undefined:"undefined"},showPerspective:{boolean:o},showShadow:{boolean:o},showXAxis:{boolean:o},showYAxis:{boolean:o},showZAxis:{boolean:o},xStep:{number:r,undefined:"undefined"},yStep:{number:r,undefined:"undefined"},zStep:{number:r,undefined:"undefined"},style:{number:r,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:o,function:"function"},tooltipStyle:{content:{color:{string:n},background:{string:n},border:{string:n},borderRadius:{string:n},boxShadow:{string:n},padding:{string:n},__type__:{object:"object"}},line:{borderLeft:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},dot:{border:{string:n},borderRadius:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:r,undefined:"undefined"},valueMin:{number:r,undefined:"undefined"},verticalRatio:{number:r},height:{string:n},width:{string:n},__type__:{object:"object"}};t.allOptions=a},function(e,t,i){function n(){this.dataTable=null}var o=i(11),r=i(12),s=i(174),a=i(96),u=i(94),l=i(34);n.prototype.initializeData=function(e,t,i){if(void 0!==t){Array.isArray(t)&&(t=new o(t));var n;if(!(t instanceof o||t instanceof r))throw new Error("Array, DataSet, or DataView expected");if(0!=(n=t.get()).length){this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=t,this.dataTable=n;var s=this;this._onChange=function(){e.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var u=e.hasBars(i);if(u&&(void 0!==e.defaultXBarWidth?this.xBarWidth=e.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(n,this.colX)||1,void 0!==e.defaultYBarWidth?this.yBarWidth=e.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(n,this.colY)||1),this._initializeRange(n,this.colX,e,u),this._initializeRange(n,this.colY,e,u),this._initializeRange(n,this.colZ,e,!1),n[0].hasOwnProperty("style")){this.colValue="style";var l=this.getColumnRange(n,this.colValue);this._setRangeDefaults(l,e.defaultValueMin,e.defaultValueMax),this.valueRange=l}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new a(this,"filter",e),this.dataFilter.setOnLoadCallback(function(){e.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},n.prototype._collectRangeSettings=function(e,t){if(-1==["x","y","z"].indexOf(e))throw new Error("Column '"+e+"' invalid");var i=e.toUpperCase();return{barWidth:this[e+"BarWidth"],min:t["default"+i+"Min"],max:t["default"+i+"Max"],step:t["default"+i+"Step"],range_label:e+"Range",step_label:e+"Step"}},n.prototype._initializeRange=function(e,t,i,n){var o=this._collectRangeSettings(t,i),r=this.getColumnRange(e,t);n&&"z"!=t&&r.expand(o.barWidth/2),this._setRangeDefaults(r,o.min,o.max),this[o.range_label]=r,this[o.step_label]=void 0!==o.step?o.step:r.range()/5},n.prototype.getDistinctValues=function(e,t){void 0===t&&(t=this.dataTable);for(var i=[],n=0;n<t.length;n++){var o=t[n][e]||0;-1===i.indexOf(o)&&i.push(o)}return i.sort(function(e,t){return e-t})},n.prototype.getSmallestDifference=function(e,t){for(var i=this.getDistinctValues(e,t),n=null,o=1;o<i.length;o++){var r=i[o]-i[o-1];(null==n||n>r)&&(n=r)}return n},n.prototype.getColumnRange=function(e,t){for(var i=new s,n=0;n<e.length;n++){var o=e[n][t];i.adjust(o)}return i},n.prototype.getNumberOfRows=function(){return this.dataTable.length},n.prototype._setRangeDefaults=function(e,t,i){void 0!==t&&(e.min=t),void 0!==i&&(e.max=i),e.max<=e.min&&(e.max=e.min+1)},n.prototype.getDataTable=function(){return this.dataTable},n.prototype.getDataSet=function(){return this.dataSet},n.prototype.getDataPoints=function(e){for(var t=[],i=0;i<e.length;i++){var n=new l;n.x=e[i][this.colX]||0,n.y=e[i][this.colY]||0,n.z=e[i][this.colZ]||0,n.data=e[i],void 0!==this.colValue&&(n.value=e[i][this.colValue]||0);var o={};o.point=n,o.bottom=new l(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,t.push(o)}return t},n.prototype.initDataAsMatrix=function(e){var t,i,n,o,r=this.getDistinctValues(this.colX,e),s=this.getDistinctValues(this.colY,e),a=this.getDataPoints(e),u=[];for(n=0;n<a.length;n++){o=a[n];var l=r.indexOf(o.point.x),h=s.indexOf(o.point.y);void 0===u[l]&&(u[l]=[]),u[l][h]=o}for(t=0;t<u.length;t++)for(i=0;i<u[t].length;i++)u[t][i]&&(u[t][i].pointRight=t<u.length-1?u[t+1][i]:void 0,u[t][i].pointTop=i<u[t].length-1?u[t][i+1]:void 0,u[t][i].pointCross=t<u.length-1&&i<u[t].length-1?u[t+1][i+1]:void 0);return a},n.prototype.getInfo=function(){var e=this.dataFilter;if(e)return e.getLabel()+": "+e.getSelectedValue()},n.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},n.prototype._getDataPoints=function(e){var t=[];if(this.style===u.STYLE.GRID||this.style===u.STYLE.SURFACE)t=this.initDataAsMatrix(e);else if(this._checkValueField(e),t=this.getDataPoints(e),this.style===u.STYLE.LINE)for(var i=0;i<t.length;i++)i>0&&(t[i-1].pointNext=t[i]);return t},n.prototype._checkValueField=function(e){if(this.style===u.STYLE.BARCOLOR||this.style===u.STYLE.BARSIZE||this.style===u.STYLE.DOTCOLOR||this.style===u.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===e[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},e.exports=n},function(e,t,i){function n(){this.min=void 0,this.max=void 0}n.prototype.adjust=function(e){void 0!==e&&((void 0===this.min||this.min>e)&&(this.min=e),(void 0===this.max||this.max<e)&&(this.max=e))},n.prototype.combine=function(e){this.add(e.min),this.add(e.max)},n.prototype.expand=function(e){if(void 0!==e){var t=this.min-e,i=this.max+e;if(t>i)throw new Error("Passed expansion value makes range invalid");this.min=t,this.max=i}},n.prototype.range=function(){return this.max-this.min},n.prototype.center=function(){return(this.min+this.max)/2},e.exports=n},function(e,t,i){var n,o,r;!function(i){o=[],void 0!==(r="function"==typeof(n=i)?n.apply(t,o):n)&&(e.exports=r)}(function(){var e=null;return function t(i,n){function o(e){return e.match(/[^ ]+/g)}function r(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var i=!1;t.stopPropagation=function(){i=!0};var n=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof n&&(t.srcEvent.stopPropagation=function(){n(),t.stopPropagation()}),t.firstTarget=e;for(var o=e;o&&!i;){var r=o.hammer;if(r)for(var s,a=0;a<r.length;a++)if(s=r[a]._handlers[t.type])for(var u=0;u<s.length&&!i;u++)s[u](t);o=o.parentNode}}var s=n||{preventDefault:!1};if(i.Manager){var a=i,u=function(e,i){var n=Object.create(s);return i&&a.assign(n,i),t(new a(e,n),n)};return a.assign(u,a),u.Manager=function(e,i){var n=Object.create(s);return i&&a.assign(n,i),t(new a.Manager(e,n),n)},u}var l=Object.create(i),h=i.element;return h.hammer||(h.hammer=[]),h.hammer.push(l),i.on("hammer.input",function(t){!0!==s.preventDefault&&s.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(e=t.target)}),l._handlers={},l.on=function(e,t){return o(e).forEach(function(e){var n=l._handlers[e];n||(l._handlers[e]=n=[],i.on(e,r)),n.push(t)}),l},l.off=function(e,t){return o(e).forEach(function(e){var n=l._handlers[e];n&&((n=t?n.filter(function(e){return e!==t}):[]).length>0?l._handlers[e]=n:(i.off(e,r),delete l._handlers[e]))}),l},l.emit=function(t,n){e=n.target,i.emit(t,n)},l.destroy=function(){var e=i.element.hammer,t=e.indexOf(l);-1!==t&&e.splice(t,1),e.length||delete i.element.hammer,l._handlers={},i.destroy()},l}})},function(e,t,i){var n;!function(o,r,s,a){function u(e,t,i){return setTimeout(p(e,i),t)}function l(e,t,i){return!!Array.isArray(e)&&(h(e,i[t],i),!0)}function h(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==a)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function c(e,t,i){var n="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace"),i=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=o.console&&(o.console.warn||o.console.log);return r&&r.call(o.console,n,i),e.apply(this,arguments)}}function d(e,t,i){var n,o=t.prototype;(n=e.prototype=Object.create(o)).constructor=e,n._super=o,i&&fe(n,i)}function p(e,t){return function(){return e.apply(t,arguments)}}function f(e,t){return typeof e==ve?e.apply(t?t[0]||a:a,t):e}function m(e,t){return e===a?t:e}function g(e,t,i){h(x(t),function(t){e.addEventListener(t,i,!1)})}function v(e,t,i){h(x(t),function(t){e.removeEventListener(t,i,!1)})}function y(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function b(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function w(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function D(e){return Array.prototype.slice.call(e,0)}function C(e,t,i){for(var n=[],o=[],r=0;r<e.length;){var s=t?e[r][t]:e[r];w(o,s)<0&&n.push(e[r]),o[r]=s,r++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function k(e,t){for(var i,n,o=t[0].toUpperCase()+t.slice(1),r=0;r<me.length;){if(i=me[r],(n=i?i+o:t)in e)return n;r++}return a}function _(){return Ce++}function E(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}function S(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){f(e.options.enable,[e])&&i.handler(t)},this.init()}function A(e){return new(e.options.inputClass||(Ee?H:Se?q:_e?G:V))(e,F)}function F(e,t,i){var n=i.pointers.length,o=i.changedPointers.length,r=t&Fe&&n-o==0,s=t&(Te|Oe)&&n-o==0;i.isFirst=!!r,i.isFinal=!!s,r&&(e.session={}),i.eventType=t,M(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function M(e,t){var i=e.session,n=t.pointers,o=n.length;i.firstInput||(i.firstInput=B(t)),o>1&&!i.firstMultiple?i.firstMultiple=B(t):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,u=t.center=L(n);t.timeStamp=xe(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=R(a,u),t.distance=I(a,u),T(i,t),t.offsetDirection=N(t.deltaX,t.deltaY);var l=P(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=be(l.x)>be(l.y)?l.x:l.y,t.scale=s?j(s.pointers,n):1,t.rotation=s?z(s.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,O(i,t);var h=e.element;y(t.srcEvent.target,h)&&(h=t.srcEvent.target),t.target=h}function T(e,t){var i=t.center,n=e.offsetDelta||{},o=e.prevDelta||{},r=e.prevInput||{};t.eventType!==Fe&&r.eventType!==Te||(o=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=o.x+(i.x-n.x),t.deltaY=o.y+(i.y-n.y)}function O(e,t){var i,n,o,r,s=e.lastInterval||t,u=t.timeStamp-s.timeStamp;if(t.eventType!=Oe&&(u>Ae||s.velocity===a)){var l=t.deltaX-s.deltaX,h=t.deltaY-s.deltaY,c=P(u,l,h);n=c.x,o=c.y,i=be(c.x)>be(c.y)?c.x:c.y,r=N(l,h),e.lastInterval=t}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;t.velocity=i,t.velocityX=n,t.velocityY=o,t.direction=r}function B(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:ye(e.pointers[i].clientX),clientY:ye(e.pointers[i].clientY)},i++;return{timeStamp:xe(),pointers:t,center:L(t),deltaX:e.deltaX,deltaY:e.deltaY}}function L(e){var t=e.length;if(1===t)return{x:ye(e[0].clientX),y:ye(e[0].clientY)};for(var i=0,n=0,o=0;o<t;)i+=e[o].clientX,n+=e[o].clientY,o++;return{x:ye(i/t),y:ye(n/t)}}function P(e,t,i){return{x:t/e||0,y:i/e||0}}function N(e,t){return e===t?Be:be(e)>=be(t)?e<0?Le:Pe:t<0?Ne:Ie}function I(e,t,i){i||(i=Ve);var n=t[i[0]]-e[i[0]],o=t[i[1]]-e[i[1]];return Math.sqrt(n*n+o*o)}function R(e,t,i){i||(i=Ve);var n=t[i[0]]-e[i[0]],o=t[i[1]]-e[i[1]];return 180*Math.atan2(o,n)/Math.PI}function z(e,t){return R(t[1],t[0],He)+R(e[1],e[0],He)}function j(e,t){return I(t[0],t[1],He)/I(e[0],e[1],He)}function V(){this.evEl=Ue,this.evWin=qe,this.pressed=!1,S.apply(this,arguments)}function H(){this.evEl=Ye,this.evWin=Xe,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=Ze,this.evWin=$e,this.started=!1,S.apply(this,arguments)}function U(e,t){var i=D(e.touches),n=D(e.changedTouches);return t&(Te|Oe)&&(i=C(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=et,this.targetIds={},S.apply(this,arguments)}function K(e,t){var i=D(e.touches),n=this.targetIds;if(t&(Fe|Me)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,r,s=D(e.changedTouches),a=[],u=this.target;if(r=i.filter(function(e){return y(e.target,u)}),t===Fe)for(o=0;o<r.length;)n[r[o].identifier]=!0,o++;for(o=0;o<s.length;)n[s[o].identifier]&&a.push(s[o]),t&(Te|Oe)&&delete n[s[o].identifier],o++;return a.length?[C(r.concat(a),"identifier",!0),a]:void 0}function G(){S.apply(this,arguments);var e=p(this.handler,this);this.touch=new q(this.manager,e),this.mouse=new V(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Y(e,t){e&Fe?(this.primaryTouch=t.changedPointers[0].identifier,X.call(this,t)):e&(Te|Oe)&&X.call(this,t)}function X(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches,o=function(){var e=n.indexOf(i);e>-1&&n.splice(e,1)};setTimeout(o,tt)}}function J(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(t-o.x),s=Math.abs(i-o.y);if(r<=it&&s<=it)return!0}return!1}function Z(e,t){this.manager=e,this.set(t)}function $(e){if(b(e,at))return at;var t=b(e,ut),i=b(e,lt);return t&&i?at:t||i?t?ut:lt:b(e,st)?st:rt}function Q(e){this.options=fe({},this.defaults,e||{}),this.id=_(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=ct,this.simultaneous={},this.requireFail=[]}function ee(e){return e&gt?"cancel":e&ft?"end":e&pt?"move":e&dt?"start":""}function te(e){return e==Ie?"down":e==Ne?"up":e==Le?"left":e==Pe?"right":""}function ie(e,t){var i=t.manager;return i?i.get(e):e}function ne(){Q.apply(this,arguments)}function oe(){ne.apply(this,arguments),this.pX=null,this.pY=null}function re(){ne.apply(this,arguments)}function se(){Q.apply(this,arguments),this._timer=null,this._input=null}function ae(){ne.apply(this,arguments)}function ue(){ne.apply(this,arguments)}function le(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function he(e,t){return t=t||{},t.recognizers=m(t.recognizers,he.defaults.preset),new ce(e,t)}function ce(e,t){this.options=fe({},he.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=A(this),this.touchAction=new Z(this,this.options.touchAction),de(this,!0),h(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function de(e,t){var i=e.element;if(i.style){var n;h(e.options.cssProps,function(o,r){n=k(i.style,r),t?(e.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={})}}function pe(e,t){var i=r.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}var fe,me=["","webkit","Moz","MS","ms","o"],ge=r.createElement("div"),ve="function",ye=Math.round,be=Math.abs,xe=Date.now;fe="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==a&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}:Object.assign;var we=c(function(e,t,i){for(var n=Object.keys(t),o=0;o<n.length;)(!i||i&&e[n[o]]===a)&&(e[n[o]]=t[n[o]]),o++;return e},"extend","Use `assign`."),De=c(function(e,t){return we(e,t,!0)},"merge","Use `assign`."),Ce=1,ke=/mobile|tablet|ip(ad|hone|od)|android/i,_e="ontouchstart"in o,Ee=k(o,"PointerEvent")!==a,Se=_e&&ke.test(navigator.userAgent),Ae=25,Fe=1,Me=2,Te=4,Oe=8,Be=1,Le=2,Pe=4,Ne=8,Ie=16,Re=Le|Pe,ze=Ne|Ie,je=Re|ze,Ve=["x","y"],He=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(E(this.element),this.evWin,this.domHandler)}};var We={mousedown:Fe,mousemove:Me,mouseup:Te},Ue="mousedown",qe="mousemove mouseup";d(V,S,{handler:function(e){var t=We[e.type];t&Fe&&0===e.button&&(this.pressed=!0),t&Me&&1!==e.which&&(t=Te),this.pressed&&(t&Te&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Ke={pointerdown:Fe,pointermove:Me,pointerup:Te,pointercancel:Oe,pointerout:Oe},Ge={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ye="pointerdown",Xe="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Ye="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),d(H,S,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),o=Ke[n],r=Ge[e.pointerType]||e.pointerType,s="touch"==r,a=w(t,e.pointerId,"pointerId");o&Fe&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):o&(Te|Oe)&&(i=!0),a<0||(t[a]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),i&&t.splice(a,1))}});var Je={touchstart:Fe,touchmove:Me,touchend:Te,touchcancel:Oe},Ze="touchstart",$e="touchstart touchmove touchend touchcancel";d(W,S,{handler:function(e){var t=Je[e.type];if(t===Fe&&(this.started=!0),this.started){var i=U.call(this,e,t);t&(Te|Oe)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}}});var Qe={touchstart:Fe,touchmove:Me,touchend:Te,touchcancel:Oe},et="touchstart touchmove touchend touchcancel";d(q,S,{handler:function(e){var t=Qe[e.type],i=K.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}});var tt=2500,it=25;d(G,S,{handler:function(e,t,i){var n="touch"==i.pointerType,o="mouse"==i.pointerType;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Y.call(this,t,i);else if(o&&J.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var nt=k(ge.style,"touchAction"),ot=nt!==a,rt="auto",st="manipulation",at="none",ut="pan-x",lt="pan-y",ht=function(){if(!ot)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!t||o.CSS.supports("touch-action",i)}),e}();Z.prototype={set:function(e){"compute"==e&&(e=this.compute()),ot&&this.manager.element.style&&ht[e]&&(this.manager.element.style[nt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){f(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),$(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var n=this.actions,o=b(n,at)&&!ht[at],r=b(n,lt)&&!ht[lt],s=b(n,ut)&&!ht[ut];if(o){var a=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(a&&u&&l)return}if(!s||!r)return o||r&&i&Re||s&&i&ze?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ct=1,dt=2,pt=4,ft=8,mt=ft,gt=16;Q.prototype={defaults:{},set:function(e){return fe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(l(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ie(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return l(e,"dropRecognizeWith",this)?this:(e=ie(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(l(e,"requireFailure",this))return this;var t=this.requireFail;return e=ie(e,this),-1===w(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(l(e,"dropRequireFailure",this))return this;e=ie(e,this);var t=w(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){i.manager.emit(t,e)}var i=this,n=this.state;n<ft&&t(i.options.event+ee(n)),t(i.options.event),e.additionalEvent&&t(e.additionalEvent),n>=ft&&t(i.options.event+ee(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|ct)))return!1;e++}return!0},recognize:function(e){var t=fe({},e);if(!f(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(mt|gt|32)&&(this.state=ct),this.state=this.process(t),this.state&(dt|pt|ft|gt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},d(ne,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(dt|pt),o=this.attrTest(e);return n&&(i&Oe||!o)?t|gt:n||o?i&Te?t|ft:t&dt?t|pt:dt:32}}),d(oe,ne,{defaults:{event:"pan",threshold:10,pointers:1,direction:je},getTouchAction:function(){var e=this.options.direction,t=[];return e&Re&&t.push(lt),e&ze&&t.push(ut),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,o=e.direction,r=e.deltaX,s=e.deltaY;return o&t.direction||(t.direction&Re?(o=0===r?Be:r<0?Le:Pe,i=r!=this.pX,n=Math.abs(e.deltaX)):(o=0===s?Be:s<0?Ne:Ie,i=s!=this.pY,n=Math.abs(e.deltaY))),e.direction=o,i&&n>t.threshold&&o&t.direction},attrTest:function(e){return ne.prototype.attrTest.call(this,e)&&(this.state&dt||!(this.state&dt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=te(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),d(re,ne,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[at]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&dt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),d(se,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[rt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(Te|Oe)&&!o)this.reset();else if(e.eventType&Fe)this.reset(),this._timer=u(function(){this.state=mt,this.tryEmit()},t.time,this);else if(e.eventType&Te)return mt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===mt&&(e&&e.eventType&Te?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=xe(),this.manager.emit(this.options.event,this._input)))}}),d(ae,ne,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[at]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&dt)}}),d(ue,ne,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Re|ze,pointers:1},getTouchAction:function(){return oe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(Re|ze)?t=e.overallVelocity:i&Re?t=e.overallVelocityX:i&ze&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&be(t)>this.options.velocity&&e.eventType&Te},emit:function(e){var t=te(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),d(le,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[st]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Fe&&0===this.count)return this.failTimeout();if(n&&o&&i){if(e.eventType!=Te)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||I(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&r?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=u(function(){this.state=mt,this.tryEmit()},t.interval,this),dt):mt}return 32},failTimeout:function(){return this._timer=u(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),he.VERSION="2.0.7",he.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ae,{enable:!1}],[re,{enable:!1},["rotate"]],[ue,{direction:Re}],[oe,{direction:Re},["swipe"]],[le],[le,{event:"doubletap",taps:2},["tap"]],[se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ce.prototype={set:function(e){return fe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&mt)&&(o=t.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===t.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(e),!o&&i.state&(dt|pt|ft)&&(o=t.curRecognizer=i),r++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(l(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(l(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=w(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var i=this.handlers;return h(x(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this}},off:function(e,t){if(e!==a){var i=this.handlers;return h(x(e),function(e){t?i[e]&&i[e].splice(w(i[e],t),1):delete i[e]}),this}},emit:function(e,t){this.options.domEvents&&pe(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&de(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},fe(he,{INPUT_START:Fe,INPUT_MOVE:Me,INPUT_END:Te,INPUT_CANCEL:Oe,STATE_POSSIBLE:ct,STATE_BEGAN:dt,STATE_CHANGED:pt,STATE_ENDED:ft,STATE_RECOGNIZED:mt,STATE_CANCELLED:gt,STATE_FAILED:32,DIRECTION_NONE:Be,DIRECTION_LEFT:Le,DIRECTION_RIGHT:Pe,DIRECTION_UP:Ne,DIRECTION_DOWN:Ie,DIRECTION_HORIZONTAL:Re,DIRECTION_VERTICAL:ze,DIRECTION_ALL:je,Manager:ce,Input:S,TouchAction:Z,TouchInput:q,MouseInput:V,PointerEventInput:H,TouchMouseInput:G,SingleTouchInput:W,Recognizer:Q,AttrRecognizer:ne,Tap:le,Pan:oe,Swipe:ue,Pinch:re,Rotate:ae,Press:se,on:g,off:v,each:h,merge:De,extend:we,assign:fe,inherit:d,bindFn:p,prefixed:k}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=he,(n=function(){return he}.call(t,i,t,e))!==a&&(e.exports=n)}(window,document)},function(e,t,i){t.util=i(2),t.DOMutil=i(14),t.DataSet=i(11),t.DataView=i(12),t.Queue=i(43),t.Timeline=i(178),t.Graph2d=i(180),t.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}},t.moment=i(9),t.Hammer=i(10),t.keycharm=i(35)},function(e,t,i){function n(e,t,i,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof l||i instanceof h)&&i instanceof Object){var r=o;o=i,i=r}o&&o.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var s=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:a,width:null,height:null,maxHeight:null,minHeight:null},this.options=u.deepExtend({},this.defaultOptions),this._create(e),!o||o&&void 0===o.rtl){this.dom.root.style.visibility="hidden";for(var d,m=this.dom.root;!d&&m;)d=window.getComputedStyle(m,null).direction,m=m.parentElement;this.options.rtl=d&&"rtl"==d.toLowerCase()}else this.options.rtl=o.rtl;this.options.rollingMode=o&&o.rollingMode,this.options.onInitialDrawComplete=o&&o.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return s.timeAxis.step.scale},getStep:function(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new c(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new p(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new f(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new g(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(e){s.emit("click",s.getEventProperties(e))},this.dom.root.ondblclick=function(e){s.emit("doubleClick",s.getEventProperties(e))},this.dom.root.oncontextmenu=function(e){s.emit("contextmenu",s.getEventProperties(e))},this.dom.root.onmouseover=function(e){s.emit("mouseOver",s.getEventProperties(e))},window.PointerEvent?(this.dom.root.onpointerdown=function(e){s.emit("mouseDown",s.getEventProperties(e))},this.dom.root.onpointermove=function(e){s.emit("mouseMove",s.getEventProperties(e))},this.dom.root.onpointerup=function(e){s.emit("mouseUp",s.getEventProperties(e))}):(this.dom.root.onmousemove=function(e){s.emit("mouseMove",s.getEventProperties(e))},this.dom.root.onmousedown=function(e){s.emit("mouseDown",s.getEventProperties(e))},this.dom.root.onmouseup=function(e){s.emit("mouseUp",s.getEventProperties(e))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!s.initialFitDone)if(s.initialFitDone=!0,void 0!=s.options.start||void 0!=s.options.end){if(void 0==s.options.start||void 0==s.options.end)var e=s.getItemRange();var t=void 0!=s.options.start?s.options.start:e.min,i=void 0!=s.options.end?s.options.end:e.max;s.setWindow(t,i,{animation:!1})}else s.fit({animation:!1});!s.initialDrawDone&&s.initialRangeChangeDone&&(s.initialDrawDone=!0,s.dom.root.style.visibility="visible",s.options.onInitialDrawComplete&&setTimeout(function(){return s.options.onInitialDrawComplete()},0))}}),o&&this.setOptions(o),i&&this.setGroups(i),t&&this.setItems(t),this._redraw()}function o(e){return u.convert(e.data.start,"Date").valueOf()}function r(e){var t=void 0!=e.data.end?e.data.end:e.data.start;return u.convert(t,"Date").valueOf()}function s(e,t){var i=e.props.leftContainer.height,n=e.props.left.height,o=t.parent,r=o.top,s=!0,a=e.timeAxis.options.orientation.axis,u=function(){return"bottom"==a?o.height-t.top-t.height:t.top},l=-1*e._getScrollTop(),h=r+u(),c=t.height;return h<l?r+i<=r+u()+c&&(r+=u()-e.itemSet.options.margin.item.vertical):h+c>l+i?r+=u()+c-i+e.itemSet.options.margin.item.vertical:s=!1,r=Math.min(r,n-i),{shouldScroll:s,scrollOffset:r,itemTop:h}}var a=i(9),u=i(2),l=i(11),h=i(12),c=i(64),d=i(65),p=i(45),f=i(67),m=i(46),g=i(99),v=i(15).printStyle,y=i(105).allOptions,b=i(105).configureOptions,x=i(71).default,w=i(15).default;n.prototype=new d,n.prototype._createConfigurator=function(){return new x(this,this.dom.container,b)},n.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},n.prototype.setOptions=function(e){if(!0===w.validate(e,y)&&console.log("%cErrors have been found in the supplied options object.",v),d.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;var t=this.itemsData;if(t){var i=this.getSelection();this.setItems(null),this.setItems(t),this.setSelection(i)}}},n.prototype.setItems=function(e){var t;t=e?e instanceof l||e instanceof h?e:new l(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.itemSet&&this.itemSet.setItems(t)},n.prototype.setGroups=function(e){var t;if(e){var i=function(e){return!1!==e.visible};t=e instanceof l||e instanceof h?new h(e,{filter:i}):new l(e.filter(i))}else t=null;this.groupsData=t,this.itemSet.setGroups(t)},n.prototype.setData=function(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)},n.prototype.setSelection=function(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)},n.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},n.prototype.focus=function(e,t){if(this.itemsData&&void 0!=e){var i=Array.isArray(e)?e:[e],n=null,o=null;if(this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}).forEach(function(e){var t=e.start.valueOf(),i="end"in e?e.end.valueOf():e.start.valueOf();(null===n||t<n)&&(n=t),(null===o||i>o)&&(o=i)}),null!==n&&null!==o){var r=this,a=this.itemSet.items[i[0]],u=-1*this._getScrollTop(),l=null,h=function(e,t,i){var n=s(r,a);if(l||(l=n),l.itemTop!=n.itemTop||l.shouldScroll){l.itemTop!=n.itemTop&&n.shouldScroll&&(l=n,u=-1*r._getScrollTop());var o=u,h=l.scrollOffset,c=i?h:o+(h-o)*e;r._setScrollTop(-c),t||r._redraw()}},c=function(){var e=s(r,a);e.shouldScroll&&e.itemTop!=l.itemTop&&(r._setScrollTop(-e.scrollOffset),r._redraw())},d=function(){c(),setTimeout(c,100)},p=(n+o)/2,f=Math.max(this.range.end-this.range.start,1.1*(o-n)),m=!t||void 0===t.animation||t.animation;m||(l={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(p-f/2,p+f/2,{animation:m},d,h)}}},n.prototype.fit=function(e,t){var i,n=!e||void 0===e.animation||e.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:n},t)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:n},t))},n.prototype.getItemRange=function(){var e=this.getDataRange(),t=null!==e.min?e.min.valueOf():null,i=null!==e.max?e.max.valueOf():null,n=null,s=null;if(null!=t&&null!=i){var a=i-t;a<=0&&(a=10);var l=a/this.props.center.width,h={},c=0;if(u.forEach(this.itemSet.items,function(e,t){e.groupShowing&&(h[t]=e.redraw(!0),c=h[t].length)}),c>0)for(var d=0;d<c;d++)u.forEach(h,function(e){e[d]()});if(u.forEach(this.itemSet.items,function(e){var a,u,h=o(e),c=r(e);this.options.rtl?(a=h-(e.getWidthRight()+10)*l,u=c+(e.getWidthLeft()+10)*l):(a=h-(e.getWidthLeft()+10)*l,u=c+(e.getWidthRight()+10)*l),a<t&&(t=a,n=e),u>i&&(i=u,s=e)}.bind(this)),n&&s){var p=n.getWidthLeft()+10,f=s.getWidthRight()+10,m=this.props.center.width-p-f;m>0&&(this.options.rtl?(t=o(n)-f*a/m,i=r(s)+p*a/m):(t=o(n)-p*a/m,i=r(s)+f*a/m))}}return{min:null!=t?new Date(t):null,max:null!=i?new Date(i):null}},n.prototype.getDataRange=function(){var e=null,t=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var n=u.convert(i.start,"Date").valueOf(),o=u.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===e||n<e)&&(e=n),(null===t||o>t)&&(t=o)}),{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},n.prototype.getEventProperties=function(e){var t,i=e.center?e.center.x:e.clientX,n=e.center?e.center.y:e.clientY;t=this.options.rtl?u.getAbsoluteRight(this.dom.centerContainer)-i:i-u.getAbsoluteLeft(this.dom.centerContainer);var o=n-u.getAbsoluteTop(this.dom.centerContainer),r=this.itemSet.itemFromTarget(e),s=this.itemSet.groupFromTarget(e),a=m.customTimeFromTarget(e),l=this.itemSet.options.snap||null,h=this.body.util.getScale(),c=this.body.util.getStep(),d=this._toTime(t),p=l?l(d,h,c):d,f=u.getTarget(e),g=null;return null!=r?g="item":null!=a?g="custom-time":u.hasParent(f,this.timeAxis.dom.foreground)?g="axis":this.timeAxis2&&u.hasParent(f,this.timeAxis2.dom.foreground)?g="axis":u.hasParent(f,this.itemSet.dom.labelSet)?g="group-label":u.hasParent(f,this.currentTime.bar)?g="current-time":u.hasParent(f,this.dom.center)&&(g="background"),{event:e,item:r?r.id:null,group:s?s.groupId:null,what:g,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:t,y:o,time:d,snappedTime:p}},n.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(void 0==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},e.exports=n},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(19)),r=n(i(0)),s=n(i(1)),a=i(10),u=i(37),l=i(2),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,r.default)(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,s.default)(e,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){var t={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"==typeof e)return t[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var i=void 0,n=this._isColorString(e);if(void 0!==n&&(e=n),!0===l.isString(e)){if(!0===l.isValidRGB(e)){var r=e.substr(4).substr(0,e.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===l.isValidRGBA(e)){var s=e.substr(5).substr(0,e.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===l.isValidHex(e)){var a=l.hexToRGB(e);i={r:a.r,g:a.g,b:a.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var u=void 0!==e.a?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:u}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,o.default)(e));this._setColor(i,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=l.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=l.extend({},e)),this.color=e;var t=l.RGBToHSV(e.r,e.g,e.b),i=2*Math.PI,n=this.r*t.s,o=this.centerCoordinates.x+n*Math.sin(i*t.h),r=this.centerCoordinates.y+n*Math.cos(i*t.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=l.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;var i=l.HSVToRGB(t.h,t.s,t.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=l.RGBToHSV(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-t.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),u.onTouch(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,i);var n=void 0,o=void 0,r=void 0,s=void 0;this.centerCoordinates={x:.5*t,y:.5*i},this.r=.49*t;var a=2*Math.PI/360,u=1/this.r,h=void 0;for(r=0;r<360;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),h=l.HSVToRGB(r*(1/360),s*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(n-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,i)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-t.left,n=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=n-o,u=Math.atan2(s,a),h=.98*Math.min(Math.sqrt(s*s+a*a),r),c=Math.cos(u)*h+o,d=Math.sin(u)*h+r;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";var p=u/(2*Math.PI);p=p<0?p+1:p;var f=h/this.r,m=l.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=p,m.s=f;var g=l.HSVToRGB(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();t.default=h},function(e,t,i){function n(e,t,i,n){if(!(Array.isArray(i)||i instanceof s||i instanceof a)&&i instanceof Object){var l=n;n=i,i=l}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var d=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:o,width:null,height:null,maxHeight:null,minHeight:null},this.options=r.deepExtend({},this.defaultOptions),this._create(e),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:d._toScreen.bind(d),toGlobalScreen:d._toGlobalScreen.bind(d),toTime:d._toTime.bind(d),toGlobalTime:d._toGlobalTime.bind(d)}},this.range=new u(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.components.push(this.timeAxis),this.currentTime=new c(this.body),this.components.push(this.currentTime),this.linegraph=new p(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(e){d.emit("click",d.getEventProperties(e))}),this.on("doubletap",function(e){d.emit("doubleClick",d.getEventProperties(e))}),this.dom.root.oncontextmenu=function(e){d.emit("contextmenu",d.getEventProperties(e))},n&&this.setOptions(n),i&&this.setGroups(i),t&&this.setItems(t),this._redraw()}var o=i(9),r=i(2),s=i(11),a=i(12),u=i(64),l=i(65),h=i(45),c=i(67),d=i(46),p=i(106),f=i(15).printStyle,m=i(113).allOptions,g=i(113).configureOptions,v=i(71).default,y=i(15).default;(n.prototype=new l).setOptions=function(e){!0===y.validate(e,m)&&console.log("%cErrors have been found in the supplied options object.",f),l.prototype.setOptions.call(this,e)},n.prototype.setItems=function(e){var t,i=null==this.itemsData;if(t=e?e instanceof s||e instanceof a?e:new s(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.linegraph&&this.linegraph.setItems(t),i)if(void 0!=this.options.start||void 0!=this.options.end){var n=void 0!=this.options.start?this.options.start:null,o=void 0!=this.options.end?this.options.end:null;this.setWindow(n,o,{animation:!1})}else this.fit({animation:!1})},n.prototype.setGroups=function(e){var t;t=e?e instanceof s||e instanceof a?e:new s(e):null,this.groupsData=t,this.linegraph.setGroups(t)},n.prototype.getLegend=function(e,t,i){return void 0===t&&(t=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[e]?this.linegraph.groups[e].getLegend(t,i):"cannot find group:'"+e+"'"},n.prototype.isGroupVisible=function(e){return void 0!==this.linegraph.groups[e]&&this.linegraph.groups[e].visible&&(void 0===this.linegraph.options.groups.visibility[e]||1==this.linegraph.options.groups.visibility[e])},n.prototype.getDataRange=function(){var e=null,t=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var o=this.linegraph.groups[i].itemsData[n],s=r.convert(o.x,"Date").valueOf();e=null==e?s:e>s?s:e,t=null==t?s:t<s?s:t}return{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},n.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX,i=e.center?e.center.y:e.clientY,n=t-r.getAbsoluteLeft(this.dom.centerContainer),o=i-r.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(n),a=d.customTimeFromTarget(e),u=r.getTarget(e),l=null;r.hasParent(u,this.timeAxis.dom.foreground)?l="axis":this.timeAxis2&&r.hasParent(u,this.timeAxis2.dom.foreground)?l="axis":r.hasParent(u,this.linegraph.yAxisLeft.dom.frame)?l="data-axis":r.hasParent(u,this.linegraph.yAxisRight.dom.frame)?l="data-axis":r.hasParent(u,this.linegraph.legendLeft.dom.frame)?l="legend":r.hasParent(u,this.linegraph.legendRight.dom.frame)?l="legend":null!=a?l="custom-time":r.hasParent(u,this.currentTime.bar)?l="current-time":r.hasParent(u,this.dom.center)&&(l="background");var h=[],c=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return!c.hidden&&this.itemsData.length>0&&h.push(c.screenToValue(o)),!p.hidden&&this.itemsData.length>0&&h.push(p.screenToValue(o)),{event:e,what:l,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:n,y:o,time:s,value:h}},n.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},e.exports=n},function(e,t,i){t.util=i(2),t.DOMutil=i(14),t.DataSet=i(11),t.DataView=i(12),t.Queue=i(43),t.Network=i(182),t.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)},t.network.convertDot=function(e){return t.network.dotparser.DOTToGraph(e)},t.network.convertGephi=function(e,i){return t.network.gephiParser.parseGephi(e,i)},t.moment=i(9),t.Hammer=i(10),t.keycharm=i(35)},function(e,t,i){function n(e,t,i){var o=this;if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:l,clickToUse:!1},r.extend(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new h(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new c,this.canvas=new v(this.body),this.selectionHandler=new x(this.body,this.canvas),this.interactionHandler=new b(this.body,this.canvas,this.selectionHandler),this.view=new y(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new f(this.body),this.layoutEngine=new w(this.body),this.clustering=new m(this.body),this.manipulation=new D(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new d(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new p(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new F(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(t)}i(183);var o=i(44),r=i(2),s=i(114),a=i(115),u=i(97),l=i(184),h=i(116).default,c=i(186).default,d=i(187).default,p=i(214).default,f=i(220).default,m=i(227).default,g=i(229).default,v=i(230).default,y=i(231).default,b=i(232).default,x=i(234).default,w=i(235).default,D=i(237).default,C=i(71).default,k=i(15).default,_=i(15).printStyle,E=i(122),S=E.allOptions,A=E.configureOptions,F=i(238).default;o(n.prototype),n.prototype.setOptions=function(e){var t=this;if(void 0!==e){!0===k.validate(e,S)&&console.log("%cErrors have been found in the supplied options object.",_);var i=["locale","locales","clickToUse"];if(r.selectiveDeepExtend(i,this.options,e),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new C(this,this.body.container,A,this.canvas.pixelRatio)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};r.deepExtend(n.nodes,this.nodesHandler.options),r.deepExtend(n.edges,this.edgesHandler.options),r.deepExtend(n.layout,this.layoutEngine.options),r.deepExtend(n.interaction,this.selectionHandler.options),r.deepExtend(n.interaction,this.renderer.options),r.deepExtend(n.interaction,this.interactionHandler.options),r.deepExtend(n.manipulation,this.manipulation.options),r.deepExtend(n.physics,this.physics.options),r.deepExtend(n.global,this.canvas.options),r.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new u(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},n.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var i in e)e.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==e[i].options.hidden||this.body.nodeIndices.push(e[i].id));for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],r=e[o.fromId],s=e[o.toId],a=void 0!==r&&void 0!==s;!this.clustering._isClusteredEdge(n)&&!1===o.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(o.id)}},n.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")})},n.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=s.DOTToGraph(e.dot);this.setData(t)}else if(e&&e.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=a.parseGephi(e.gephi);this.setData(i)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},n.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&delete this.body.nodes[e];for(var t in this.body.edges)this.body.edges.hasOwnProperty(t)&&delete this.body.edges[t];r.recursiveDOMDelete(this.body.container)},n.prototype._updateValueRange=function(e){var t,i=void 0,n=void 0,o=0;for(t in e)if(e.hasOwnProperty(t)){var r=e[t].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),n=void 0===n?r:Math.max(r,n),o+=r)}if(void 0!==i&&void 0!==n)for(t in e)e.hasOwnProperty(t)&&e[t].setValueRange(i,n,o)},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},n.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},n.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},n.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},n.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},n.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},n.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},n.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},n.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},n.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},n.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},n.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},n.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},n.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},n.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},n.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},n.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},n.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},n.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},n.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},n.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},n.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},n.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},n.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},n.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},n.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},n.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},n.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},n.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},n.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},n.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},n.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},n.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},n.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},n.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},n.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},n.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},n.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},n.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},n.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},n.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},n.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},n.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},n.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e},e.exports=n},function(e,t,i){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(e,t,i){this.beginPath(),this.arc(e,t,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(e,t,i){this.beginPath(),this.rect(e-i,t-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(e,t,i){this.beginPath(),t+=.275*(i*=1.15);var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(e,t-(s-r)),this.lineTo(e+o,t+r),this.lineTo(e-o,t+r),this.lineTo(e,t-(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(e,t,i){this.beginPath(),t-=.275*(i*=1.15);var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(e,t+(s-r)),this.lineTo(e+o,t-r),this.lineTo(e-o,t-r),this.lineTo(e,t+(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(e,t,i){this.beginPath(),t+=.1*(i*=.82);for(var n=0;n<10;n++){var o=n%2==0?1.3*i:.5*i;this.lineTo(e+o*Math.sin(2*n*Math.PI/10),t-o*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(e,t,i){this.beginPath(),this.lineTo(e,t+i),this.lineTo(e+i,t),this.lineTo(e,t-i),this.lineTo(e-i,t),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(e,t,i,n,o){var r=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),this.beginPath(),this.moveTo(e+o,t),this.lineTo(e+i-o,t),this.arc(e+i-o,t+o,o,270*r,360*r,!1),this.lineTo(e+i,t+n-o),this.arc(e+i-o,t+n-o,o,0,90*r,!1),this.lineTo(e+o,t+n),this.arc(e+o,t+n-o,o,90*r,180*r,!1),this.lineTo(e,t+o),this.arc(e+o,t+o,o,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(e,t,i,n){var o=i/2*.5522848,r=n/2*.5522848,s=e+i,a=t+n,u=e+i/2,l=t+n/2;this.beginPath(),this.moveTo(e,l),this.bezierCurveTo(e,l-r,u-o,t,u,t),this.bezierCurveTo(u+o,t,s,l-r,s,l),this.bezierCurveTo(s,l+r,u+o,a,u,a),this.bezierCurveTo(u-o,a,e,l+r,e,l),this.closePath()},CanvasRenderingContext2D.prototype.database=function(e,t,i,n){var o=i,r=n*(1/3),s=o/2*.5522848,a=r/2*.5522848,u=e+o,l=t+r,h=e+o/2,c=t+r/2,d=t+(n-r/2),p=t+n;this.beginPath(),this.moveTo(u,c),this.bezierCurveTo(u,c+a,h+s,l,h,l),this.bezierCurveTo(h-s,l,e,c+a,e,c),this.bezierCurveTo(e,c-a,h-s,t,h,t),this.bezierCurveTo(h+s,t,u,c-a,u,c),this.lineTo(u,d),this.bezierCurveTo(u,d+a,h+s,p,h,p),this.bezierCurveTo(h-s,p,e,d+a,e,d),this.lineTo(e,c)},CanvasRenderingContext2D.prototype.dashedLine=function(e,t,i,n,o){this.beginPath(),this.moveTo(e,t);for(var r=o.length,s=i-e,a=n-t,u=a/s,l=Math.sqrt(s*s+a*a),h=0,c=!0,d=0,p=o[0];l>=.1;)(p=o[h++%r])>l&&(p=l),d=Math.sqrt(p*p/(1+u*u)),e+=d=s<0?-d:d,t+=u*d,!0===c?this.lineTo(e,t):this.moveTo(e,t),l-=p,c=!c},CanvasRenderingContext2D.prototype.hexagon=function(e,t,i){this.beginPath();var n=2*Math.PI/6;this.moveTo(e+i,t);for(var o=1;o<6;o++)this.lineTo(e+i*Math.cos(n*o),t+i*Math.sin(n*o));this.closePath()})},function(e,t,i){t.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},t.en_EN=t.en,t.en_US=t.en,t.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},t.de_DE=t.de,t.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},t.es_ES=t.es,t.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},t.it_IT=t.it,t.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},t.nl_NL=t.nl,t.nl_BE=t.nl,t["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},t["pt-BR"]=t["pt-br"],t.pt_BR=t["pt-br"],t.pt_br=t["pt-br"],t.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},t.ru_RU=t.ru,t.cn={edit:"编辑",del:"删除选定",back:"返回",addNode:"添加节点",addEdge:"添加连接线",editNode:"编辑节点",editEdge:"编辑连接线",addDescription:"单击空白处放置新节点。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",createEdgeError:"无法将连接线连接到群集。",deleteClusterError:"无法删除群集。",editClusterError:"无法编辑群集。"},t.zh_CN=t.cn},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(){(0,o.default)(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,r.default)(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var i=Math.floor(t/2),n=Math.floor(t/4),o=Math.floor(t/8),r=Math.floor(t/16),s=Math.floor(e/2),a=Math.floor(e/4),u=Math.floor(e/8),l=Math.floor(e/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,u,o],[5*u,n,l,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,i,n,o,r){if(this.initialized())if(t>2){t*=.5;for(var s=0;t>2&&s<this.NUM_ITERATIONS;)t*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,o,r)}else e.drawImage(this.image,i,n,o,r)}}]),e}();t.default=s},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(2),a=function(){function e(){(0,o.default)(this,e),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return(0,r.default)(e,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var i in e)if(e.hasOwnProperty(i)&&-1===t.indexOf(i)){var n=e[i];this.add(i,n)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[e];if(void 0===i&&t)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,(i={}).color=this.groups[this.groupsArray[n]],this.groups[e]=i}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(i={}).color=this.defaultGroups[o],this.groups[e]=i}return i}},{key:"add",value:function(e,t){return this.groups[e]=t,this.groupsArray.push(e),t}}]),e}();t.default=a},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(2),a=i(11),u=i(12),l=i(47).default,h=function(){function e(t,i,n,r){var a=this;if((0,o.default)(this,e),this.body=t,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(e,t){a.add(t.items)},update:function(e,t){a.update(t.items,t.data,t.oldData)},remove:function(e,t){a.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,i,n){if(t===e)return.5;var o=1/(t-e);return Math.max(0,(n-e)*o)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=s.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,r.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(e.nodesListeners,function(t,i){e.body.data.nodes&&e.body.data.nodes.off(i,t)}),delete e.body.functions.createNode,delete e.nodesListeners.add,delete e.nodesListeners.update,delete e.nodesListeners.remove,delete e.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(l.parseOptions(this.options,e),void 0!==e.shape)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t].updateShape();if(void 0!==e.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==e.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(e instanceof a||e instanceof u)this.body.data.nodes=e;else if(Array.isArray(e))this.body.data.nodes=new a,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new a}if(i&&s.forEach(this.nodesListeners,function(e,t){i.off(t,e)}),this.body.nodes={},this.body.data.nodes){var n=this;s.forEach(this.nodesListeners,function(e,t){n.body.data.nodes.on(t,e)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=[],o=0;o<e.length;o++){i=e[o];var r=this.body.data.nodes.get(i),s=this.create(r);n.push(s),this.body.nodes[i]=s}this.layoutEngine.positionInitially(n),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,i){for(var n=this.body.nodes,o=!1,r=0;r<e.length;r++){var s=e[r],a=n[s],u=t[r];void 0!==a?a.setOptions(u)&&(o=!0):(o=!0,a=this.create(u),n[s]=a)}o||void 0===i||(o=t.some(function(e,t){var n=i[t];return n&&n.level!==e.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,i=0;i<e.length;i++)delete t[e[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.forEach(this.body.nodes,function(i,n){var o=e.body.data.nodes.get(n);void 0!==o&&(!0===t&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===Array.isArray(e)){for(var i=0;i<e.length;i++)if(void 0!==this.body.nodes[e[i]]){var n=this.body.nodes[e[i]];t[e[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[e]){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return t}},{key:"storePositions",value:function(){var e=[],t=this.body.data.nodes.getDataSet();for(var i in t._data)if(t._data.hasOwnProperty(i)){var n=this.body.nodes[i];t._data[i].x==Math.round(n.x)&&t._data[i].y==Math.round(n.y)||e.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}t.update(e)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var i=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],o={},r=0;r<n.edges.length;r++){var s=n.edges[r];"to"!==t&&s.toId==n.id?void 0===o[s.fromId]&&(i.push(s.fromId),o[s.fromId]=!0):"from"!==t&&s.fromId==n.id&&void 0===o[s.toId]&&(i.push(s.toId),o[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],n=0;n<i.edges.length;n++)t.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,i){var n=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(i),setTimeout(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",e)}}]),e}();t.default=h},function(e,t,i){e.exports={default:i(189),__esModule:!0}},function(e,t,i){i(49),i(60),e.exports=i(190)},function(e,t,i){var n=i(86),o=i(13)("iterator"),r=i(31);e.exports=i(7).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||r.hasOwnProperty(n(t))}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(192).default,a=i(48).default,u=function(){function e(t,i,n,r){var a=this;(0,o.default)(this,e),this.ctx=t,this.parent=i,this.lines=new s(function(e,i){if(void 0===e)return 0;var o=a.parent.getFormattingValues(t,n,r,i),s=0;return""!==e&&(s=a.ctx.measureText(e).width),{width:s,values:o}})}return(0,r.default)(e,[{key:"process",value:function(e){if(!a.isValidLabel(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(e).split("\n"),n=i.length;if(t.multi)for(var o=0;o<n;o++){var r=this.splitBlocks(i[o],t.multi);if(void 0!==r)if(0!==r.length){if(t.maxWdt>0)for(var s=0;s<r.length;s++){var u=r[s].mod,l=r[s].text;this.splitStringIntoLines(l,u,!0)}else for(var h=0;h<r.length;h++){var c=r[h].mod,d=r[h].text;this.lines.append(d,c)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var p=0;p<n;p++)this.splitStringIntoLines(i[p]);else for(var f=0;f<n;f++)this.lines.newLine(i[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){var t=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[]};for(i.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]},i.modName=function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},i.emitBlock=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(t.push({text:this.buffer,mod:this.modName()}),this.buffer="")},i.add=function(e){" "===e&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)};i.position<e.length;){var n=e.charAt(i.position);/[ \t]/.test(n)?i.mono?i.add(n):i.spacing=!0:/</.test(n)?i.mono||i.bold||!/<b>/.test(e.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(e.substr(i.position,3))?!i.mono&&/<code>/.test(e.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(e.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(e.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(e.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(n):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(n)?/&lt;/.test(e.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(e.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(n),i.position++}return i.emitBlock(),t}},{key:"splitMarkdownBlocks",value:function(e){var t=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[]};for(i.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]},i.modName=function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},i.emitBlock=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(t.push({text:this.buffer,mod:this.modName()}),this.buffer="")},i.add=function(e){" "===e&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)};i.position<e.length;){var n=e.charAt(i.position);/[ \t]/.test(n)?(i.mono?i.add(n):i.spacing=!0,i.beginable=!0):/\\/.test(n)?i.position<e.length+1&&(i.position++,n=e.charAt(i.position),/ \t/.test(n)?i.spacing=!0:(i.add(n),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(n)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(n)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(n)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(n)?i.position===e.length-1||/[.,_` \t\n]/.test(e.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(n):!i.mono&&"ital"===i.mod()&&/\_/.test(n)?i.position===e.length-1||/[.,*` \t\n]/.test(e.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(n):i.mono&&"mono"===i.mod()&&/`/.test(n)?i.position===e.length-1||/[.,*_ \t\n]/.test(e.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(n):(i.add(n),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),t}},{key:"splitBlocks",value:function(e,t){var i=this.decodeMarkupSystem(t);return"none"===i?[{text:e,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(e):"html"===i?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",i=0;i<e.length;){var n=t+(""===t?"":" ")+e[i];if(this.overMaxWidth(n))break;t=n,i++}return i}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(e.slice(0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var o=this.getLongestFit(n);if(0===o){var r=n[0],s=this.getLongestFitWord(r);this.lines.newLine(r.slice(0,s),t),n[0]=r.slice(s)}else{var a=o;" "===n[o-1]?o--:" "===n[a]&&a++;var u=n.slice(0,o).join("");o==n.length&&i?this.lines.append(u,t):this.lines.newLine(u,t),n=n.slice(a)}}}}]),e}();t.default=u},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(90)),r=n(i(0)),s=n(i(1)),a=function(){function e(t){(0,r.default)(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,s.default)(e,[{key:"_add",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var n=t;void 0!==t&&""!==t||(n=" ");var r=this.measureText(n,i),s=(0,o.default)({},r.values);s.text=t,s.width=r.width,s.mod=i,void 0!==t&&""!==t||(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],i=0;if(void 0!==t.blocks)for(var n=0;n<t.blocks.length;n++){var o=t.blocks[n];i<o.height&&(i=o.height)}t.height=i}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var i=this.lines[t];if(0!==i.blocks.length&&(t!==this.lines.length-1||0!==i.width)){var n={};(0,o.default)(n,i),n.blocks=[];for(var r=void 0,s=[],a=0;a<i.blocks.length;a++){var u=i.blocks[a];0!==u.width?s.push(u):void 0===r&&(r=u)}0===s.length&&void 0!==r&&s.push(r),n.blocks=s,e.push(n)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}();t.default=a},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){(0,r.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return s._setMargins(n),s}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,i)){var n=this.getDimensionsFromLabel(e,t,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(e,t,i,n,o,r){this.resize(e,n,o),this.left=t-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,r),e.roundRect(this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(e,r),this.updateBoundingBox(t,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"updateBoundingBox",value:function(e,t,i,n,o){this._updateBoundingBox(e,t,i,n,o);var r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}}]),t}(n(i(23)).default);t.default=l},function(e,t,i){i(195),e.exports=i(7).Object.getPrototypeOf},function(e,t,i){var n=i(41),o=i(85);i(87)("getPrototypeOf",function(){return function(e){return o(n(e))}})},function(e,t,i){e.exports={default:i(197),__esModule:!0}},function(e,t,i){i(198),e.exports=i(7).Object.setPrototypeOf},function(e,t,i){var n=i(17);n(n.S,"Object",{setPrototypeOf:i(199).set})},function(e,t,i){var n=i(32),o=i(27),r=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return r(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:r}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){(0,r.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return s._setMargins(n),s}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,i)){var n=this.getDimensionsFromLabel(e,t,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(e,t,i,n,o,r){this.resize(e,n,o),this.left=t-this.width/2,this.top=i-this.height/2,this._drawRawCircle(e,t,i,r),this.updateBoundingBox(t,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,i,n,o)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),.5*this.width}}]),t}(n(i(73)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n,s,u){(0,r.default)(this,t);var l=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return l.setImages(s,u),l}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(t,i)&&this._resizeImage()}},{key:"draw",value:function(e,t,i,n,o,r){this.switchImages(n),this.resize(),this.left=t-this.width/2,this.top=i-this.height/2,this._drawRawCircle(e,t,i,r),e.save(),e.clip(),this._drawImageAtPosition(e,r),e.restore(),this._drawImageLabel(e,t,i,n,o),this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),.5*this.width}}]),t}(n(i(73)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){(0,r.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return s._setMargins(n),s}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e,t,i){if(this.needsRefresh(t,i)){var n=this.getDimensionsFromLabel(e,t,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(e,t,i,n,o,r){this.resize(e,n,o),this.left=t-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,r),e.database(t-this.width/2,i-this.height/2,this.width,this.height),this.performFill(e,r),this.updateBoundingBox(t,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(23)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(e,t,i,n,o,r){this._drawShape(e,"diamond",4,t,i,n,o,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(24)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(e,t,i,n,o,r){this._drawShape(e,"circle",2,t,i,n,o,r)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),this.options.size}}]),t}(n(i(24)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,i)){var n=this.getDimensionsFromLabel(e,t,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,i,n,o,r){this.resize(e,n,o),this.left=t-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(e,r),e.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(e,r),this.updateBoundingBox(t,i,e,n,o),this.labelModule.draw(e,t,i,n,o)}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var i=.5*this.width,n=.5*this.height,o=Math.sin(t)*i,r=Math.cos(t)*n;return i*n/Math.sqrt(o*o+r*r)}}]),t}(n(i(23)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){(0,r.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return s._setMargins(n),s}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e,t,i){this.needsRefresh(t,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,i,n,o,r){this.resize(e,n,o),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=i-this.height/2,this._icon(e,t,i,n,o,r),void 0!==this.options.label&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(e,t,i,n,o,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=(n?"bold ":"")+s+"px "+this.options.icon.face,e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,r),e.fillText(this.options.icon.code,t,i),this.disableShadow(e,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(23)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n,s,u){(0,r.default)(this,t);var l=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return l.setImages(s,u),l}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(t,i)&&this._resizeImage()}},{key:"draw",value:function(e,t,i,n,o,r){if(this.switchImages(n),this.resize(),this.left=t-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var s=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,u=(n?a:s)/this.body.view.scale;e.lineWidth=Math.min(this.width,u),e.beginPath(),e.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,e.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),e.fill(),this.performStroke(e,r),e.closePath()}this._drawImageAtPosition(e,r),this._drawImageLabel(e,t,i,n,o),this.updateBoundingBox(t,i)}},{key:"updateBoundingBox",value:function(e,t){this.resize(),this._updateBoundingBox(e,t),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(73)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(e,t,i,n,o,r){this._drawShape(e,"square",2,t,i,n,o,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(24)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(e,t,i,n,o,r){this._drawShape(e,"hexagon",4,t,i,n,o,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(24)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(e,t,i,n,o,r){this._drawShape(e,"star",4,t,i,n,o,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(24)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){(0,r.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n));return s._setMargins(n),s}return(0,u.default)(t,e),(0,s.default)(t,[{key:"resize",value:function(e,t,i){this.needsRefresh(t,i)&&(this.textSize=this.labelModule.getTextSize(e,t,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,i,n,o,r){this.resize(e,n,o),this.left=t-this.width/2,this.top=i-this.height/2,this.enableShadow(e,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(e,r),this.updateBoundingBox(t,i,e,n,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(23)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(e,t,i,n,o,r){this._drawShape(e,"triangle",3,t,i,n,o,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(24)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(e,t,i,n,o,r){this._drawShape(e,"triangleDown",3,t,i,n,o,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(n(i(24)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(2),a=i(11),u=i(12),l=i(74).default,h=function(){function e(t,i,n){var r=this;(0,o.default)(this,e),this.body=t,this.images=i,this.groups=n,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(e,t){r.add(t.items)},update:function(e,t){r.update(t.items)},remove:function(e,t){r.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,i,n){if(t===e)return.5;var o=1/(t-e);return Math.max(0,(n-e)*o)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},s.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var n=!1;for(var o in e.body.edges)if(e.body.edges.hasOwnProperty(o)){var r=e.body.edges[o],s=e.body.data.edges._data[o];if(void 0!==s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?r.setOptions({smooth:!1}):r.setOptions({smooth:{type:t}}),n=!0)}}!0===i&&!0===n&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(e.edgesListeners,function(t,i){e.body.data.edges&&e.body.data.edges.off(i,t)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){l.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(t=this.body.edges[i].updateEdgeType()||t);if(void 0!==e.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(e instanceof a||e instanceof u)this.body.data.edges=e;else if(Array.isArray(e))this.body.data.edges=new a,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new a}if(n&&s.forEach(this.edgesListeners,function(e,t){n.off(t,e)}),this.body.edges={},this.body.data.edges){s.forEach(this.edgesListeners,function(e,i){t.body.data.edges.on(i,e)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,o=0;o<e.length;o++){var r=e[o],s=i[r];s&&s.disconnect();var a=n.get(r,{showInternalIds:!0});i[r]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,i=this.body.data.edges,n=!1,o=0;o<e.length;o++){var r=e[o],s=i.get(r),a=t[r];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[r]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var i=this.body.edges;s.forEach(e,function(e){var t=i[e];void 0!==t&&t.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;s.forEach(this.body.edges,function(t,i){var n=e.body.data.edges._data[i];void 0!==n&&t.setOptions(n)})}},{key:"create",value:function(e){return new l(e,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,i=this.body.edges;for(e in t)t.hasOwnProperty(e)&&(t[e].edges=[]);for(e in i)if(i.hasOwnProperty(e)){var n=i[e];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var i=this.body.edges[e];void 0!==i.fromId&&t.push(i.fromId),void 0!==i.toId&&t.push(i.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];s.forEach(this.body.edges,function(i,n){var o=e.body.nodes[i.toId],r=e.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==r&&!0===r.isCluster||void 0!==o&&void 0!==r||t.push(n)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.edges,t=[];this.body.data.edges.forEach(function(i,n){void 0===e[n]&&t.push(n)}),this.add(t,!0)}}]),e}();t.default=h},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(30)),r=n(i(3)),s=n(i(0)),a=n(i(1)),u=n(i(4)),l=n(i(5)),h=function(e){function t(e,i,n){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,i,n))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_line",value:function(e,t,i){var n=i[0],o=i[1];this._bezierCurve(e,t,n,o)}},{key:"_getViaCoordinates",value:function(){var e=this.from.x-this.to.x,t=this.from.y-this.to.y,i=void 0,n=void 0,o=void 0,r=void 0,s=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,r=this.to.y,i=this.from.x-s*e,o=this.to.x+s*e):(n=this.from.y-s*t,r=this.to.y+s*t,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:"_getDistanceToEdge",value:function(e,t,i,n,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),u=(0,o.default)(a,2),l=u[0],h=u[1];return this._getDistanceToBezierEdge(e,t,i,n,r,s,l,h)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=(0,o.default)(t,2),n=i[0],r=i[1],s=e,a=[];return a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3),{x:a[0]*this.fromPoint.x+a[1]*n.x+a[2]*r.x+a[3]*this.toPoint.x,y:a[0]*this.fromPoint.y+a[1]*n.y+a[2]*r.y+a[3]*this.toPoint.y}}}]),t}(n(i(216)).default);t.default=h},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_getDistanceToBezierEdge",value:function(e,t,i,n,o,r,s,a){var u=1e9,l=void 0,h=void 0,c=void 0,d=void 0,p=void 0,f=e,m=t,g=[0,0,0,0];for(h=1;h<10;h++)c=.1*h,g[0]=Math.pow(1-c,3),g[1]=3*c*Math.pow(1-c,2),g[2]=3*Math.pow(c,2)*(1-c),g[3]=Math.pow(c,3),d=g[0]*e+g[1]*s.x+g[2]*a.x+g[3]*i,p=g[0]*t+g[1]*s.y+g[2]*a.y+g[3]*n,h>0&&(u=(l=this._getDistanceToLine(f,m,d,p,o,r))<u?l:u),f=d,m=p;return u}}]),t}(n(i(75)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(30)),r=n(i(3)),s=n(i(0)),a=n(i(1)),u=n(i(4)),l=n(i(5)),h=function(e){function t(e,i,n){(0,s.default)(this,t);var o=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,i,n));return o._boundFunction=function(){o.positionBezierNode()},o.body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return(0,l.default)(t,e),(0,a.default)(t,[{key:"setOptions",value:function(e){var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this.body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this.body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,t,i){this._bezierCurve(e,t,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,i=e,n=void 0,r=void 0;if(this.from===this.to){var s=this._getCircleData(this.from),a=(0,o.default)(s,3),u=a[0],l=a[1],h=a[2],c=2*Math.PI*(1-i);n=u+h*Math.sin(c),r=l+h-h*(1-Math.cos(c))}else n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*t.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*t.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:r}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,i,n,o,r){return this._getDistanceToBezierEdge(e,t,i,n,o,r,this.via)}}]),t}(n(i(75)).default);t.default=h},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_line",value:function(e,t,i){this._bezierCurve(e,t,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e=void 0,t=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var s=void 0,a=void 0;s=a=o<=r?i*r:i*o,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a),e=this.from.x+s,t=this.from.y+a,"discrete"===n&&(o<=r?e=o<i*r?this.from.x:e:t=r<i*o?this.from.y:t)}else if("straightCross"===n){var u=(1-i)*o,l=(1-i)*r;o<=r?(u=0,this.from.y<this.to.y&&(l=-l)):(this.from.x<this.to.x&&(u=-u),l=0),e=this.to.x+u,t=this.to.y+l}else if("horizontal"===n){var h=(1-i)*o;this.from.x<this.to.x&&(h=-h),e=this.to.x+h,t=this.from.y}else if("vertical"===n){var c=(1-i)*r;this.from.y<this.to.y&&(c=-c),e=this.from.x,t=this.to.y+c}else if("curvedCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var d=Math.sqrt(o*o+r*r),p=Math.PI,f=(Math.atan2(r,o)+(.5*i+.5)*p)%(2*p);e=this.from.x+(.5*i+.5)*d*Math.sin(f),t=this.from.y+(.5*i+.5)*d*Math.cos(f)}else if("curvedCCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var m=Math.sqrt(o*o+r*r),g=Math.PI,v=(Math.atan2(r,o)+(.5*-i+.5)*g)%(2*g);e=this.from.x+(.5*i+.5)*m*Math.sin(v),t=this.from.y+(.5*i+.5)*m*Math.cos(v)}else{var y=void 0,b=void 0;y=b=o<=r?i*r:i*o,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(b=-b),e=this.from.x+y,t=this.from.y+b,o<=r?e=this.from.x<=this.to.x?this.to.x<e?this.to.x:e:this.to.x>e?this.to.x:e:t=this.from.y>=this.to.y?this.to.y>t?this.to.y:t:this.to.y<t?this.to.y:t}return{x:e,y:t}}},{key:"_findBorderPosition",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,i.via)}},{key:"_getDistanceToEdge",value:function(e,t,i,n,o,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,i,n,o,r,s)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=e;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*t.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*t.y+Math.pow(i,2)*this.toPoint.y}}}]),t}(n(i(75)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){var i=this.to,n=this.from;e.id===this.from.id&&(i=this.from,n=this.to);var o=Math.atan2(i.y-n.y,i.x-n.x),r=i.x-n.x,s=i.y-n.y,a=Math.sqrt(r*r+s*s),u=(a-e.distanceToBorder(t,o))/a,l={};return l.x=(1-u)*n.x+u*i.x,l.y=(1-u)*n.y+u*i.y,l}},{key:"_getDistanceToEdge",value:function(e,t,i,n,o,r){return this._getDistanceToLine(e,t,i,n,o,r)}}]),t}(n(i(118)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(8)),r=n(i(0)),s=n(i(1)),a=i(120).default,u=i(221).default,l=i(222).default,h=i(223).default,c=i(224).default,d=i(121).default,p=i(225).default,f=i(226).default,m=i(2),g=i(119).default,v=function(){function e(t){(0,r.default)(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},m.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,s.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){void 0!==e&&(!1===e?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===e?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,m.selectiveNotDeepExtend(["stabilization"],this.options,e),m.mergeOptions(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new p(this.body,this.physicsBody,e),this.edgesSolver=new h(this.body,this.physicsBody,e),this.gravitySolver=new f(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new u(this.body,this.physicsBody,e),this.edgesSolver=new h(this.body,this.physicsBody,e),this.gravitySolver=new d(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new l(this.body,this.physicsBody,e),this.edgesSolver=new c(this.body,this.physicsBody,e),this.gravitySolver=new d(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new a(this.body,this.physicsBody,e),this.edgesSolver=new h(this.body,this.physicsBody,e),this.gravitySolver=new d(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Date.now();this.physicsTick(),(Date.now()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var i in e)e.hasOwnProperty(i)&&!0===e[i].options.physics&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(var n in t)t.hasOwnProperty(n)&&!0===t[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var r=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===e[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var e=(0,o.default)(this.previousStates),t=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<e.length;n++){var r=e[n];void 0!==t[r]?!0===t[r].options.physics&&(this.referenceState[r]={positions:{x:t[r].x,y:t[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,t[r].x=this.previousStates[r].x,t[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var e=void 0,t=void 0,i=this.body.nodes,n=this.referenceState;for(var o in this.referenceState)if(this.referenceState.hasOwnProperty(o)&&void 0!==i[o]&&(e=i[o].x-n[o].positions.x,t=i[o].y-n[o].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,i=0,n=0;n<e.length;n++){var o=e[n],r=this._performStep(o);t=Math.max(t,r),i+=r}this.adaptiveTimestepEnabled=i/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,i){e+=(t-this.modelOptions.damping*e)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(e)>n&&(e=e>0?n:-n),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],i=this.physicsBody.forces[e],n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},!1===t.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,t.options.mass),t.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===t.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,t.options.mass),t.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(e.hasOwnProperty(t)&&e[t].x&&e[t].y){var i=e[t].options.fixed;this.freezeCache[t]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},i=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&i();for(var n=0;t()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;i(),t()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var i=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[i],o=this.physicsBody.forces[i],r=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),s=Math.min(Math.max(5,r),15),a=3*s,u=m.HSVToHex((180-180*Math.min(1,Math.max(0,.03*r)))/360,1,1),l={x:n.x+20*o.x,y:n.y+20*o.y};e.lineWidth=s,e.strokeStyle=u,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(l.x,l.y),e.stroke();var h=Math.atan2(o.y,o.x);e.fillStyle=u,g.draw(e,{type:"arrow",point:l,angle:h,length:a}),e.fill()}}}]),e}();t.default=v},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(t,i,n){(0,o.default)(this,e),this.body=t,this.physicsBody=i,this.setOptions(n)}return(0,r.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,o,r,s,a,u=this.body.nodes,l=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,c=this.options.nodeDistance,d=-2/3/c,p=0;p<l.length-1;p++){s=u[l[p]];for(var f=p+1;f<l.length;f++)e=(a=u[l[f]]).x-s.x,t=a.y-s.y,0===(i=Math.sqrt(e*e+t*t))&&(e=i=.1*Math.random()),i<2*c&&(r=i<.5*c?1:d*i+4/3,n=e*(r/=i),o=t*r,h[s.id].x-=n,h[s.id].y-=o,h[a.id].x+=n,h[a.id].y+=o)}}}]),e}();t.default=s},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(t,i,n){(0,o.default)(this,e),this.body=t,this.physicsBody=i,this.setOptions(n)}return(0,r.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){var e,t,i,n,o,r,s,a,u,l,h=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,p=this.options.nodeDistance;for(u=0;u<c.length-1;u++)for(s=h[c[u]],l=u+1;l<c.length;l++)a=h[c[l]],s.level===a.level&&(e=a.x-s.x,t=a.y-s.y,r=(i=Math.sqrt(e*e+t*t))<p?-Math.pow(.05*i,2)+Math.pow(.05*p,2):0,0===i?i=.01:r/=i,n=e*r,o=t*r,d[s.id].x-=n,d[s.id].y-=o,d[a.id].x+=n,d[a.id].y+=o)}}]),e}();t.default=s},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(t,i,n){(0,o.default)(this,e),this.body=t,this.physicsBody=i,this.setOptions(n)}return(0,r.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,o=void 0,r=void 0,s=void 0,a=0;a<i.length;a++)!0===(t=n[i[a]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(e=void 0===t.options.length?this.options.springLength:t.options.length,o=t.to,r=t.edgeType.via,s=t.from,this._calculateSpringForce(o,r,.5*e),this._calculateSpringForce(r,s,.5*e)):(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,i){var n=e.x-t.x,o=e.y-t.y,r=Math.max(Math.sqrt(n*n+o*o),.01),s=this.options.springConstant*(i-r)/r,a=n*s,u=o*s;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=a,this.physicsBody.forces[e.id].y+=u),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=a,this.physicsBody.forces[t.id].y-=u)}}]),e}();t.default=s},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(t,i,n){(0,o.default)(this,e),this.body=t,this.physicsBody=i,this.setOptions(n)}return(0,r.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,o,r,s,a,u=this.body.edges,l=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,d=0;d<h.length;d++){var p=h[d];c[p].springFx=0,c[p].springFy=0}for(var f=0;f<l.length;f++)!0===(t=u[l[f]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,i=t.from.x-t.to.x,n=t.from.y-t.to.y,a=0===(a=Math.sqrt(i*i+n*n))?.01:a,o=i*(s=this.options.springConstant*(e-a)/a),r=n*s,t.to.level!=t.from.level?(void 0!==c[t.toId]&&(c[t.toId].springFx-=o,c[t.toId].springFy-=r),void 0!==c[t.fromId]&&(c[t.fromId].springFx+=o,c[t.fromId].springFy+=r)):(void 0!==c[t.toId]&&(c[t.toId].x-=.5*o,c[t.toId].y-=.5*r),void 0!==c[t.fromId]&&(c[t.fromId].x+=.5*o,c[t.fromId].y+=.5*r)));s=1;for(var m,g,v=0;v<h.length;v++){var y=h[v];m=Math.min(s,Math.max(-s,c[y].springFx)),g=Math.min(s,Math.max(-s,c[y].springFy)),c[y].x+=m,c[y].y+=g}for(var b=0,x=0,w=0;w<h.length;w++){var D=h[w];b+=c[D].x,x+=c[D].y}for(var C=b/h.length,k=x/h.length,_=0;_<h.length;_++){var E=h[_];c[E].x-=C,c[E].y-=k}}}]),e}();t.default=s},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_calculateForces",value:function(e,t,i,n,o){0===e&&(t=e=.1*Math.random()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var r=n.edges.length+1,s=this.options.gravitationalConstant*o.mass*n.options.mass*r/Math.pow(e,2),a=t*s,u=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=u}}]),t}(n(i(120)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=function(e){function t(e,i,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_calculateForces",value:function(e,t,i,n,o){if(e>0){var r=o.edges.length+1,s=this.options.centralGravity*r*o.options.mass;n[o.id].x=t*s,n[o.id].y=i*s}}}]),t}(n(i(121)).default);t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(8)),r=n(i(6)),s=n(i(0)),a=n(i(1)),u=i(2),l=i(76).default,h=i(228).default,c=i(74).default,d=i(47).default,p=function(){function e(t){var i=this;(0,s.default)(this,e),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},u.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return(0,a.default)(e,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===(void 0===e?"undefined":(0,r.default)(e))&&(t=this._checkOptions(e),e=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&i.push(o.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var n={},o={};u.forEach(this.body.nodes,function(i,r){var s=l.cloneOptions(i);!0===t.joinCondition(s)&&(n[r]=i,u.forEach(i.edges,function(t){void 0===e.clusteredEdges[t.id]&&(o[t.id]=t)}))}),this._cluster(n,o,t,i)}},{key:"clusterByEdgeCount",value:function(e,t){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var r=[],s={},a=void 0,u=void 0,h=void 0,c=0;c<this.body.nodeIndices.length;c++){var d,p,f;!function(n){var c={},m={},g=i.body.nodeIndices[n],v=i.body.nodes[g];if(void 0===s[g]){h=0,u=[];for(var y=0;y<v.edges.length;y++)a=v.edges[y],void 0===i.clusteredEdges[a.id]&&(a.toId!==a.fromId&&h++,u.push(a));if(h===e){d=function(e){if(void 0===t.joinCondition||null===t.joinCondition)return!0;var i=l.cloneOptions(e);return t.joinCondition(i)};for(var b=!0,x=0;x<u.length;x++){a=u[x];var w=i._getConnectedId(a,g);if(!d(v)){b=!1;break}m[a.id]=a,c[g]=v,c[w]=i.body.nodes[w],s[g]=!0}if((0,o.default)(c).length>0&&(0,o.default)(m).length>0&&!0===b)if(p=function(){for(var e=0;e<r.length;++e)for(var t in c)if(void 0!==r[e].nodes[t])return r[e]},void 0!==(f=p())){for(var D in c)void 0===f.nodes[D]&&(f.nodes[D]=c[D]);for(var C in m)void 0===f.edges[C]&&(f.edges[C]=m[C])}else r.push({nodes:c,edges:m})}}}(c)}for(c=0;c<r.length;c++)this._cluster(r[c].nodes,r[c].edges,t,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[e];void 0===(t=this._checkOptions(t,n)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=n.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=n.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=n.options.fixed.x,t.clusterNodeProperties.fixed.y=n.options.fixed.y);var r={},s={},a=n.id,u=l.cloneOptions(n);r[a]=n;for(var h=0;h<n.edges.length;h++){var c=n.edges[h];if(void 0===this.clusteredEdges[c.id]){var d=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[d])if(d!==a)if(void 0===t.joinCondition)s[c.id]=c,r[d]=this.body.nodes[d];else{var p=l.cloneOptions(this.body.nodes[d]);!0===t.joinCondition(u,p)&&(s[c.id]=c,r[d]=this.body.nodes[d])}else s[c.id]=c}}var f=(0,o.default)(r).map(function(e){return r[e].id});for(m in r)if(r.hasOwnProperty(m))for(var m=r[m],g=0;g<m.edges.length;g++){var v=m.edges[g];f.indexOf(this._getConnectedId(v,m.id))>-1&&(s[v.id]=v)}this._cluster(r,s,t,i)}},{key:"_createClusterEdges",value:function(e,t,i,n){for(var r=void 0,s=void 0,a=void 0,u=void 0,l=void 0,h=void 0,c=(0,o.default)(e),d=[],p=0;p<c.length;p++){a=e[s=c[p]];for(var f=0;f<a.edges.length;f++)r=a.edges[f],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?t[r.id]=r:r.toId==s?(u=i.id,h=l=r.fromId):(u=r.toId,l=i.id,h=u),void 0===e[h]&&d.push({edge:r,fromId:l,toId:u}))}for(var m=[],g=0;g<d.length;g++){var v=d[g],y=v.edge,b=function(e){for(var t=0;t<m.length;t++){var i=m[t],n=e.fromId===i.fromId&&e.toId===i.toId,o=e.fromId===i.toId&&e.toId===i.fromId;if(n||o)return i}return null}(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,n),m.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in e)e.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var a=0;a<r.length;++a)delete e[r[a]];if(0!=(0,o.default)(e).length&&(1!=(0,o.default)(e).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var c=u.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var d=[];for(var p in e)if(e.hasOwnProperty(p)){var f=l.cloneOptions(e[p]);d.push(f)}var m=[];for(var g in t)if(t.hasOwnProperty(g)&&"clusterEdge:"!==g.substr(0,12)){var v=l.cloneOptions(t[g],"edge");m.push(v)}if(!(c=i.processProperties(c,d,m)))throw new Error("The processProperties function does not return properties!")}void 0===c.id&&(c.id="cluster:"+u.randomUUID());var y=c.id;void 0===c.label&&(c.label="cluster");var b=void 0;void 0===c.x&&(b=this._getClusterPosition(e),c.x=b.x),void 0===c.y&&(void 0===b&&(b=this._getClusterPosition(e)),c.y=b.y),c.id=y;var x=this.body.functions.createNode(c,h);x.containedNodes=e,x.containedEdges=t,x.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[c.id]=x,this._clusterEdges(e,t,c,i.clusterEdgeProperties),c.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t=(0,o.default)(e),i=e[t[0]].x,n=e[t[0]].x,r=e[t[0]].y,s=e[t[0]].y,a=void 0,u=1;u<t.length;u++)i=(a=e[t[u]]).x<i?a.x:i,n=a.x>n?a.x:n,r=a.y<r?a.y:r,s=a.y>s?a.y:s;return{x:.5*(i+n),y:.5*(r+s)}}},{key:"openCluster",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[e];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),r=o.indexOf(e)-1;if(r>=0){var s=o[r];return this.body.nodes[s]._openChildCluster(e),delete this.body.nodes[e],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var a=n.containedNodes,l=n.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var h={},c={x:n.x,y:n.y};for(var d in a)if(a.hasOwnProperty(d)){var p=this.body.nodes[d];h[d]={x:p.x,y:p.y}}var f=t.releaseFunction(c,h);for(var m in a)if(a.hasOwnProperty(m)){var g=this.body.nodes[m];void 0!==f[m]&&(g.x=void 0===f[m].x?n.x:f[m].x,g.y=void 0===f[m].y?n.y:f[m].y)}}else u.forEach(a,function(e){!1===e.options.fixed.x&&(e.x=n.x),!1===e.options.fixed.y&&(e.y=n.y)});for(var v in a)if(a.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=n.vx,y.vy=n.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],x=0;x<n.edges.length;x++)b.push(n.edges[x]);for(var w=0;w<b.length;w++){for(var D=b[w],C=this._getConnectedId(D,e),k=this.clusteredNodes[C],_=0;_<D.clusteringEdgeReplacingIds.length;_++){var E=D.clusteringEdgeReplacingIds[_],S=this.body.edges[E];if(void 0!==S)if(void 0!==k){var A=this.body.nodes[k.clusterId];A.containedEdges[S.id]=S,delete l[S.id];var F=S.fromId,M=S.toId;S.toId==C?M=k.clusterId:F=k.clusterId,this._createClusteredEdge(F,M,S,A.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(S)}D.remove()}for(var T in l)l.hasOwnProperty(T)&&this._restoreEdge(l[T]);delete this.body.nodes[e],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var i=this.body.nodes[e].containedNodes;for(var n in i)i.hasOwnProperty(n)&&t.push(this.body.nodes[n].id)}return t}},{key:"findNode",value:function(e){for(var t=[],i=0,n=void 0;void 0!==this.clusteredNodes[e]&&i<100;){if(void 0===(n=this.body.nodes[e]))return[];t.push(n.id),e=this.clusteredNodes[e].clusterId,i++}return void 0===(n=this.body.nodes[e])?[]:(t.push(n.id),t.reverse(),t)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(e),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],i=0;void 0!==e&&void 0!==this.body.edges[e]&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return t.reverse(),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],i=[],n=[],o=0;t.length>0&&o<100;){var r=t.pop();if(void 0!==r){var s=this.body.edges[r];if(void 0!==s){o++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)n.push(r);else for(var u=0;u<a.length;++u){var l=a[u];-1===t.indexOf(a)&&-1===i.indexOf(a)&&t.push(l)}i.push(r)}}}return n}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,i=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>n&&(n=r.edges.length),e+=r.edges.length,t+=Math.pow(r.edges.length,2),i+=1}e/=i;var s=(t/=i)-Math.pow(e,2),a=Math.sqrt(s),u=Math.floor(e+2*a);return u>n&&(u=n),u}},{key:"_createClusteredEdge",value:function(e,t,i,n,o){var r=l.cloneOptions(i,"edge");u.deepExtend(r,n),r.from=e,r.to=t,r.id="clusterEdge:"+u.randomUUID(),void 0!==o&&u.deepExtend(r,o);var s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(e,t,i,n){if(t instanceof c){var o=t,r={};r[o.id]=o,t=r}if(e instanceof d){var s=e,a={};a[s.id]=s,e=a}if(void 0===i||null===i)throw new Error("_clusterEdges: parameter clusterNode required");void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(e,t,i,n);for(var u in t)if(t.hasOwnProperty(u)&&void 0!==this.body.edges[u]){var l=this.body.edges[u];this._backupEdgeOptions(l),l.setOptions({physics:!1})}for(var h in e)e.hasOwnProperty(h)&&(this.clusteredNodes[h]={clusterId:i.id,node:this.body.nodes[h]},this.body.nodes[h].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var i=t.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(e,t){var i=[];return u.forEach(e,function(e){t(e)&&i.push(e)}),i}},{key:"_updateState",value:function(){var e=this,t=void 0,i=[],n=[],r=function(t){u.forEach(e.body.nodes,function(e){!0===e.isCluster&&t(e)})};for(t in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(t)&&void 0===this.body.nodes[t]&&i.push(t);r(function(e){for(var t=0;t<i.length;t++)delete e.containedNodes[i[t]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];u.forEach(this.clusteredEdges,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||n.push(t)}),r(function(e){u.forEach(e.containedEdges,function(e,t){e.endPointsValid()||-1!==n.indexOf(t)||n.push(t)})}),u.forEach(this.body.edges,function(t,i){var o=!0,r=t.clusteringEdgeReplacingIds;if(void 0!==r){var s=0;u.forEach(r,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(s+=1)}),o=s>0}t.endPointsValid()&&o||n.push(i)}),r(function(t){u.forEach(n,function(i){delete t.containedEdges[i],u.forEach(t.edges,function(o,r){o.id!==i?o.clusteringEdgeReplacingIds=e._filter(o.clusteringEdgeReplacingIds,function(e){return-1===n.indexOf(e)}):t.edges[r]=null}),t.edges=e._filter(t.edges,function(e){return null!==e})})}),u.forEach(n,function(t){delete e.clusteredEdges[t]}),u.forEach(n,function(t){delete e.body.edges[t]});var a=(0,o.default)(this.body.edges);u.forEach(a,function(t){var i=e.body.edges[t],n=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(n!==e._isClusteredEdge(i.id)){if(!n)throw new Error("remove edge from clustering not implemented!");var o=e._getClusterNodeForNode(i.fromId);void 0!==o&&e._clusterEdges(e.body.nodes[i.fromId],i,o);var r=e._getClusterNodeForNode(i.toId);void 0!==r&&e._clusterEdges(e.body.nodes[i.toId],i,r)}});for(var l=!1,h=!0;h;)!function(){var t=[];r(function(e){var i=(0,o.default)(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)});for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);h=t.length>0,l=l||h}();l&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),e}();t.default=p},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(3)),r=n(i(0)),s=n(i(1)),a=n(i(4)),u=n(i(5)),l=i(2),h=function(e){function t(e,i,n,s,u,l){(0,r.default)(this,t);var h=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i,n,s,u,l));return h.isCluster=!0,h.containedNodes={},h.containedEdges={},h}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_openChildCluster",value:function(e){var t=this,i=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],l.forEach(i.edges,function(e){delete t.containedEdges[e.id]}),l.forEach(i.containedNodes,function(e,i){t.containedNodes[i]=e}),i.containedNodes={},l.forEach(i.containedEdges,function(e,i){t.containedEdges[i]=e}),i.containedEdges={},l.forEach(i.edges,function(e){l.forEach(t.edges,function(i){var n=i.clusteringEdgeReplacingIds.indexOf(e.id);-1!==n&&(l.forEach(e.clusteringEdgeReplacingIds,function(e){i.clusteringEdgeReplacingIds.push(e),t.body.edges[e].edgeReplacedById=i.id}),i.clusteringEdgeReplacingIds.splice(n,1))})}),i.edges=[]}}]),t}(i(47).default);t.default=h},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e;void 0!==window&&(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===e?function(e){e()}:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(0)),s=n(i(1)),a=i(2),u=function(){function e(t,i){(0,r.default)(this,e),o(),this.body=t,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},a.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,s.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===e.renderingActive&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(void 0!==e){var t=["hideEdgesOnDrag","hideNodesOnDrag"];a.selectiveDeepExtend(t,this.options,e)}}},{key:"_requestNextFrame",value:function(e,t){if("undefined"!=typeof window){var i=void 0,n=window;return!0===this.requiresTimeout?i=n.setTimeout(e,t):n.requestAnimationFrame&&(i=n.requestAnimationFrame(e)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var t=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(t.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(t),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(t,e),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),!0===e&&t.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t=this.body.nodes,i=void 0;for(var n in t)t.hasOwnProperty(n)&&((i=t[n]).resize(e),i.updateBoundingBox(e,i.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,n=this.body.nodeIndices,o=void 0,r=[],s=this.canvas.DOMtoCanvas({x:-20,y:-20}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),u={top:s.y,left:s.x,bottom:a.y,right:a.x},l=0;l<n.length;l++)(o=i[n[l]]).isSelected()?r.push(n[l]):!0===t?o.draw(e):!0===o.isBoundingBoxOverlappingWith(u)?o.draw(e):o.updateBoundingBox(e,o.selected);for(var h=0;h<r.length;h++)(o=i[r[h]]).draw(e)}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,n=void 0,o=0;o<i.length;o++)!0===(n=t[i[o]]).connected&&n.draw(e)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=e.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),e}();t.default=u},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(10),a=i(37),u=i(2),l=function(){function e(t){(0,o.default)(this,e),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},u.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var t=this;if(void 0!==e){var i=["width","height","autoResize"];u.selectiveDeepExtend(i,this.options,e)}!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===t.setSize()&&t.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),u.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),u.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=e&&1!=t?i=.5*this.cameraState.scale*(e+t):1!=e?i=this.cameraState.scale*e:1!=t&&(i=this.cameraState.scale*t),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==e.indexOf("%")||-1!==e.indexOf("px"))return e;if(-1===e.indexOf("%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),a.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new s(this.frame),a.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var i=!1,n=this.frame.canvas.width,o=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(r),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(r),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return"undefined"!=typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),e}();t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(2),a=i(76).default,u=function(){function e(t,i){var n=this;(0,o.default)(this,e),this.body=t,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,r.default)(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=void 0;if(void 0!==e.nodes&&0!==e.nodes.length||(e.nodes=this.body.nodeIndices),!0===t){var o=0;for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&!0===this.body.nodes[r].predefinedPosition&&(o+=1);if(o>.5*this.body.nodeIndices.length)return void this.fit(e,!1);i=a.getRange(this.body.nodes,e.nodes),n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,n*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),i=a.getRange(this.body.nodes,e.nodes);var s=1.1*Math.abs(i.maxX-i.minX),u=1.1*Math.abs(i.maxY-i.minY),l=this.canvas.frame.canvas.clientWidth/s,h=this.canvas.frame.canvas.clientHeight/u;n=l<=h?l:h}n>1?n=1:0===n&&(n=1);var c={position:a.findCenter(i),scale:n,animation:e.animation};this.moveTo(c)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=i,t.lockedOnNode=e,this.moveTo(t)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){void 0!==e?(void 0===e.offset&&(e.offset={x:0,y:0}),void 0===e.offset.x&&(e.offset.x=0),void 0===e.offset.y&&(e.offset.y=0),void 0===e.scale&&(e.scale=this.body.view.scale),void 0===e.position&&(e.position=this.getViewPosition()),void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)):e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:t.x-e.position.x,y:t.y-e.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+e.offset.y},0===e.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:t.x-e.x,y:t.y-e.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var t=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}();t.default=u},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(2),a=i(233).default,u=i(104).default,l=function(){function e(t,i,n){(0,o.default)(this,e),this.body=t,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new a(t,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(void 0!==e){var t=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];s.selectiveNotDeepExtend(t,this.options,e),s.mergeOptions(this.options,e,"keyboard"),e.tooltip&&(s.extend(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=s.parseColor(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-s.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-s.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,e,i),this.selectionHandler._generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,e,i),this.selectionHandler._generateClickEvent("click",e,t),this.selectionHandler._generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.selectionHandler.getSelection(),o=!1;o=!0===i?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var r=this.selectionHandler.getSelection(),s=this._determineDifference(n,r),a=this._determineDifference(r,n);s.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",t,e,n),o=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",t,e,n),o=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",t,e),o=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",t,e),o=!0),!0===o&&this.selectionHandler._generateClickEvent("select",t,e)}},{key:"_determineDifference",value:function(e,t){var i=function(e,t){for(var i=[],n=0;n<e.length;n++){var o=e[n];-1===t.indexOf(o)&&i.push(o)}return i};return{nodes:i(e.nodes,t.nodes),edges:i(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=s.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],r={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",e,i);var o=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;n.forEach(function(e){var i=e.node;!1===e.xFixed&&(i.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+o)),!1===e.yFixed&&(i.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+r))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",e,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);var s=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(e){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(t.forEach(function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*e.scale;this.zoom(i,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,r=e/i,s=(1-r)*t.x+o.x*r,a=(1-r)*t.y+o.y*r;if(this.body.view.scale=e,this.body.view.translation={x:s,y:a},void 0!=n){var u=this.canvas.canvasToDOM(n);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),0!==t){var i=this.body.view.scale,n=t/10;t<0&&(n/=1-n),i*=1+n;var o=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(i,o)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,i=this.getPointer({x:e.clientX,y:e.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return t._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,i)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:i,right:t,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,l=this.body.nodes,h=void 0,c=[],d=0;d<a.length;d++)!0===(h=l[a[d]]).isOverlappingWith(n)&&void 0!==h.getTitle()&&c.push(a[d]);c.length>0&&(this.popupObj=l[c[c.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var p=this.body.edgeIndices,f=this.body.edges,m=void 0,g=[],v=0;v<p.length;v++)!0===(m=f[p[v]]).isOverlappingWith(n)&&!0===m.connected&&void 0!==m.getTitle()&&g.push(p[v]);g.length>0&&(this.popupObj=f[g[g.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new u(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var n=this.selectionHandler.getNodeAt(e);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}();t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(10),a=i(37),u=i(35),l=function(){function e(t,i){var n=this;(0,o.default)(this,e),this.body=t,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return(0,r.default)(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<t.length;n++){this.navigationDOM[t[n]]=document.createElement("div"),this.navigationDOM[t[n]].className="vis-button vis-"+t[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[n]]);var o=new s(this.navigationDOM[t[n]]);"_fit"===i[n]?a.onTouch(o,this._fit.bind(this)):a.onTouch(o,this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(o)}var r=new s(this.canvas.frame);a.onRelease(r,function(){e._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=this[e].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=u({container:window,preventDefault:!0}):this.keycharm=u({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){e.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){e.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){e.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){e.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")))}}]),e}();t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=i(47).default,a=i(74).default,u=i(2),l=function(){function e(t,i){var n=this;(0,o.default)(this,e),this.body=t,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},u.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return(0,r.default)(e,[{key:"setOptions",value:function(e){if(void 0!==e){var t=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];u.selectiveDeepExtend(t,this.options,e)}}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==i&&(t=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var i=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==i&&(t=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var i={};return i.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},i.event=e,i}},{key:"_generateClickEvent",value:function(e,t,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(t,i);if(!0===o)r.nodes=[],r.edges=[];else{var s=this.getSelection();r.nodes=s.nodes,r.edges=s.edges}void 0!==n&&(r.previousSelection=n),"click"==e&&(r.items=this.getClickedItems(i)),this.body.emitter.emit(e,r)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof s&&!0===t&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];i[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===t?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];i[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(e),n=10,o=null,r=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],u=r[a];if(u.connected){var l=u.from.x,h=u.from.y,c=u.to.x,d=u.to.y,p=u.edgeType.getDistanceToEdge(l,h,c,d,i.x,i.y);p<n&&(o=a,n=p)}}return null!==o?!0===t?this.body.edges[o]:o:void 0}},{key:"_addToSelection",value:function(e){e instanceof s?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function(e){e instanceof s?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){e instanceof s?(delete this.selectionObj.nodes[e.id],this._unselectConnectedEdges(e)):delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:"_getSelectedEdge",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:"_getSelectedEdgeCount",value:function(){var e=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(e,t,i){var n=this._initBaseEvent(e,t);!0===i.hover&&(i.hover=!1,i instanceof s?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(e,t,i){var n=this._initBaseEvent(e,t),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof s?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}},{key:"hoverObject",value:function(e,t){var i=this.getNodeAt(t);void 0===i&&(i=this.getEdgeAt(t));var n=!1;for(var o in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===i||i instanceof s&&i.id!=o||i instanceof a)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(!0===n?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===i||i instanceof a&&i.id!=r||i instanceof s&&!i.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],n=!0));void 0!==i&&(n=n||this.emitHoverEvent(e,t,i),i instanceof s&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)),!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&e.push(this.selectionObj.nodes[t].id);return e}},{key:"getSelectedEdges",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&e.push(this.selectionObj.edges[t].id);return e}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,n=void 0;if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes)for(i=0;i<e.nodes.length;i++){n=e.nodes[i];var o=this.body.nodes[n];if(!o)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(o,t.highlightEdges)}if(e.edges)for(i=0;i<e.edges.length;i++){n=e.edges[i];var r=this.body.edges[n];if(!r)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),i=[],n=this.body.nodeIndices,o=this.body.nodes,r=n.length-1;r>=0;r--){var s=o[n[r]].getItemsOnPoint(t);i.push.apply(i,s)}for(var a=this.body.edgeIndices,u=this.body.edges,l=a.length-1;l>=0;l--){var h=u[a[l]].getItemsOnPoint(t);i.push.apply(i,h)}return i}}]),e}();t.default=l},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(30)),r=n(i(6)),s=n(i(8)),a=n(i(0)),u=n(i(1)),l=i(2),h=i(76).default,c=i(236),d=c.HorizontalStrategy,p=c.VerticalStrategy,f=function(){function e(){(0,a.default)(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,u.default)(e,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,i={};return function e(n){if(void 0!==i[n])return i[n];var o=t.levels[n];if(t.childrenReference[n]){var r=t.childrenReference[n];if(r.length>0)for(var s=0;s<r.length;s++)o=Math.max(o,e(r[s]))}return i[n]=o,o}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var i in e)e.hasOwnProperty(i)&&void 0!==this.levels[i]&&(t=Math.min(this.levels[i],t));for(var n in e)e.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=t)}},{key:"getTreeSize",value:function(e,t){var i=1e9,n=-1e9,o=1e9,r=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===t){var a=e[s];i=Math.min(a.x,i),n=Math.max(a.x,n),o=Math.min(a.y,o),r=Math.max(a.y,r)}return{min_x:i,max_x:n,min_y:o,max_y:r}}},{key:"hasSameParent",value:function(e,t){var i=this.parentReference[e.id],n=this.parentReference[t.id];if(void 0===i||void 0===n)return!1;for(var o=0;o<i.length;o++)for(var r=0;r<n.length;r++)if(i[o]==n[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return(0,s.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var i=!1,n=this.distributionOrdering[t];for(var o in n)if(n[o]===e){i=!0;break}i||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),e}(),m=function(){function e(t){(0,a.default)(this,e),this.body=t,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,u.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var i=this.options.hierarchical,n=i.enabled;if(l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,e),l.mergeOptions(this.options,e,"hierarchical"),void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===n)return this.body.emitter.emit("refresh"),l.deepExtend(t,this.optionsBackup)}return t}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===(0,r.default)(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{var n=e.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},e.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var t=e.length+50,i=0;i<e.length;i++){var n=e[i],o=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=t*Math.cos(o)),void 0===n.y&&(n.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,i=0;i<e.length;i++)!0===this.body.nodes[e[i]].predefinedPosition&&(t+=1);if(t<.5*e.length){var n=0,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>150){for(var r=e.length;e.length>150&&n<=10;){n+=1;var s=e.length;if(n%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),s==e.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var a=0;a<e.length;a++){var u=this.body.nodes[e[a]];!1===u.predefinedPosition&&(u.x+=70*(.5-this.seededRandom()),u.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=h.getRangeCore(this.body.nodes,this.body.nodeIndices),t=h.findCenter(e),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=t.x,n.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e=void 0,t=void 0,i=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new f;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(void 0!==(e=this.body.nodes[t]).options.level?(i=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,i={},n=function(t,i){var n=e.hierarchical.trees;for(var o in n)n.hasOwnProperty(o)&&n[o]===t&&e.direction.shift(o,i)},r=function(){for(var t=[],i=0;i<e.hierarchical.numTrees();i++)t.push(e.direction.getTreeSize(i));return t},s=function t(i,n){if(!n[i.id]&&(n[i.id]=!0,e.hierarchical.childrenReference[i.id])){var o=e.hierarchical.childrenReference[i.id];if(o.length>0)for(var r=0;r<o.length;r++)t(e.body.nodes[o[r]],n)}},a=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,s=1e9,a=-1e9;for(var u in t)if(t.hasOwnProperty(u)){var l=e.body.nodes[u],h=e.hierarchical.levels[l.id],c=e.direction.getPosition(l),d=e._getSpaceAroundNode(l,t),p=(0,o.default)(d,2),f=p[0],m=p[1];n=Math.min(f,n),r=Math.min(m,r),h<=i&&(s=Math.min(c,s),a=Math.max(c,a))}return[s,a,n,r]},u=function(t,i){var n=e.hierarchical.getMaxLevel(t.id),o=e.hierarchical.getMaxLevel(i.id);return Math.min(n,o)},l=function(t,i,n){for(var o=e.hierarchical,r=0;r<i.length;r++){var s=i[r],a=o.distributionOrdering[s];if(a.length>1)for(var u=0;u<a.length-1;u++){var l=a[u],h=a[u+1];o.hasSameParent(l,h)&&o.inSameSubNetwork(l,h)&&t(l,h,n)}}},h=function(i,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.direction.getPosition(i),l=e.direction.getPosition(n),h=Math.abs(l-r),c=e.options.hierarchical.nodeSpacing;if(h>c){var d={},p={};s(i,d),s(n,p);var f=u(i,n),m=a(d,f),g=a(p,f),v=m[1],y=g[0],b=g[2];if(Math.abs(v-y)>c){var x=v-y+c;x<-b+c&&(x=-b+c),x<0&&(e._shiftBlock(n.id,x),t=!0,!0===o&&e._centerParent(n))}}},c=function(n,r){for(var u=r.id,l=r.edges,h=e.hierarchical.levels[r.id],c=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,d={},p=[],f=0;f<l.length;f++){var m=l[f];if(m.toId!=m.fromId){var g=m.toId==u?m.from:m.to;d[l[f].id]=g,e.hierarchical.levels[g.id]<h&&p.push(m)}}var v=function(t,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==d[i[o].id]){var r=e.direction.getPosition(d[i[o].id])-t;n+=r/Math.sqrt(r*r+c)}return n},y=function(t,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==d[i[o].id]){var r=e.direction.getPosition(d[i[o].id])-t;n-=c*Math.pow(r*r+c,-1.5)}return n},b=function(t,i){for(var n=e.direction.getPosition(r),o={},s=0;s<t;s++){var a=v(n,i),u=y(n,i);if(n-=Math.max(-40,Math.min(40,Math.round(a/u))),void 0!==o[n])break;o[n]=s}return n},x=b(n,p);!function(n){var o=e.direction.getPosition(r);if(void 0===i[r.id]){var u={};s(r,u),i[r.id]=u}var l=a(i[r.id]),h=l[2],c=l[3],d=n-o,p=0;d>0?p=Math.min(d,c-e.options.hierarchical.nodeSpacing):d<0&&(p=-Math.min(-d,h-e.options.hierarchical.nodeSpacing)),0!=p&&(e._shiftBlock(r.id,p),t=!0)}(x),function(i){var n=e.direction.getPosition(r),s=e._getSpaceAroundNode(r),a=(0,o.default)(s,2),u=a[0],l=a[1],h=i-n,c=n;h>0?c=Math.min(n+(l-e.options.hierarchical.nodeSpacing),i):h<0&&(c=Math.max(n-(u-e.options.hierarchical.nodeSpacing),i)),c!==n&&(e.direction.setPosition(r,c),t=!0)}(x=b(n,l))};!0===this.options.hierarchical.blockShifting&&(function(i){var n=e.hierarchical.getLevels();n=n.reverse();for(var o=0;o<5&&(t=!1,l(h,n,!0),!0===t);o++);}(),function(){for(var t in e.body.nodes)e.body.nodes.hasOwnProperty(t)&&e._centerParent(e.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=e.hierarchical.getLevels();n=n.reverse();for(var o=0;o<20;o++){t=!1;for(var r=0;r<n.length;r++)for(var s=n[r],a=e.hierarchical.distributionOrdering[s],u=0;u<a.length;u++)c(1e3,a[u]);if(!0!==t)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var t=e.hierarchical.getLevels();t=t.reverse();for(var i=0;i<t.length;i++)for(var n=t[i],o=e.hierarchical.distributionOrdering[n],r=0;r<o.length;r++)e._centerParent(o[r])}(),function(){for(var t=r(),i=0,o=0;o<t.length-1;o++)i+=t[o].max-t[o+1].min+e.options.hierarchical.treeSpacing,n(o+1,i)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var i=!0;void 0===t&&(i=!1);var n=this.hierarchical.levels[e.id];if(void 0!==n){var o=this.hierarchical.distributionIndex[e.id],r=this.direction.getPosition(e),s=this.hierarchical.distributionOrdering[n],a=1e9,u=1e9;if(0!==o){var l=s[o-1];(!0===i&&void 0===t[l.id]||!1===i)&&(a=r-this.direction.getPosition(l))}if(o!=s.length-1){var h=s[o+1];if(!0===i&&void 0===t[h.id]||!1===i){var c=this.direction.getPosition(h);u=Math.min(u,c-r)}}return[a,u]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],i=0;i<t.length;i++){var n=t[i],r=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(void 0!==s){var a=this._getCenterPosition(s),u=this.direction.getPosition(r),l=this._getSpaceAroundNode(r),h=(0,o.default)(l,2),c=h[0],d=h[1],p=u-a;(p<0&&Math.abs(p)<d-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var t in e)if(e.hasOwnProperty(t)){var i=(0,s.default)(e[t]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var n=0,o=0;o<i.length;o++){var r=i[o];if(void 0===this.positionedNodes[r.id]){var a=this.options.hierarchical.nodeSpacing,u=a*n;n>0&&(u=this.direction.getPosition(i[o-1])+a),this.direction.setPosition(r,u,t),this._validatePositionAndContinue(r,t,u),n++}}}}},{key:"_placeBranchNodes",value:function(e,t){var i=this.hierarchical.childrenReference[e];if(void 0!==i){for(var n=[],o=0;o<i.length;o++)n.push(this.body.nodes[i[o]]);this.direction.sort(n);for(var r=0;r<n.length;r++){var s=n[r],a=this.hierarchical.levels[s.id];if(!(a>t&&void 0===this.positionedNodes[s.id]))return;var u=this.options.hierarchical.nodeSpacing,l=void 0;l=0===r?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(n[r-1])+u,this.direction.setPosition(s,l,a),this._validatePositionAndContinue(s,a,l)}var h=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[e],h,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(i-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],i=0;i<e.length;i++)t.push(this.body.nodes[e[i]]);return t}},{key:"_getDistribution",value:function(){var e={},t=void 0,i=void 0;for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){i=this.body.nodes[t];var n=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(i,n),void 0===e[n]&&(e[n]={}),e[n][t]=i}return e}},{key:"_getActiveEdges",value:function(e){var t=this,i=[];return l.forEach(e.edges,function(e){-1!==t.body.edgeIndices.indexOf(e.id)&&i.push(e)}),i}},{key:"_getHubSizes",value:function(){var e=this,t={},i=this.body.nodeIndices;l.forEach(i,function(i){var n=e.body.nodes[i],o=e._getActiveEdges(n).length;t[o]=!0});var n=[];return l.forEach(t,function(e){n.push(Number(e))}),n.sort(function(e,t){return t-e}),n}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(t,i){e.hierarchical.levelDownstream(t,i)},i=this._getHubSizes(),n=0;n<i.length&&"break"!==function(n){var o=i[n];if(0===o)return"break";l.forEach(e.body.nodeIndices,function(i){var n=e.body.nodes[i];o===e._getActiveEdges(n).length&&e._crawlNetwork(t,i)})}(n);++n);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,t=function(e,t,i){};this._crawlNetwork(function(i,n,o){var r=e.hierarchical.levels[i.id];void 0===r&&(r=e.hierarchical.levels[i.id]=1e5);var s=t(h.cloneOptions(i,"node"),h.cloneOptions(n,"node"),h.cloneOptions(o,"edge"));e.hierarchical.levels[n.id]=r+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e=this,t=function(t){return l.forEach(e.body.edges,function(e){if(e.toId===t.fromId&&e.fromId===t.toId)return!0}),!1};this._crawlNetwork(function(i,n,o){var r=e.hierarchical.levels[i.id],s=e.hierarchical.levels[n.id];t(o)&&void 0!==r&&void 0!==s||(void 0===r&&(r=e.hierarchical.levels[i.id]=1e4),o.toId==n.id?e.hierarchical.levels[n.id]=r+1:e.hierarchical.levels[n.id]=r-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,i){e.hierarchical.levels[i.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments[1],n={},o=function i(o,r){if(void 0===n[o.id]){e.hierarchical.setTreeIndex(o,r),n[o.id]=!0;for(var s=void 0,a=e._getActiveEdges(o),u=0;u<a.length;u++){var l=a[u];!0===l.connected&&(s=l.toId==o.id?l.from:l.to,o.id!=s.id&&(t(o,s,l),i(s,r)))}}};if(void 0===i)for(var r=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];void 0===n[a]&&(o(this.body.nodes[a],r),r+=1)}else{var u=this.body.nodes[i];if(void 0===u)return void console.error("Node not found:",i);o(u)}}},{key:"_shiftBlock",value:function(e,t){var i=this,n={};!function e(o){if(!n[o]){n[o]=!0,i.direction.shift(o,t);var r=i.hierarchical.childrenReference[o];if(void 0!==r)for(var s=0;s<r.length;s++)e(r[s])}}(e)}},{key:"_findCommonParent",value:function(e,t){var i=this,n={};return function e(t,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];t[s]=!0,e(t,s)}}(n,e),function e(t,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];if(void 0!==t[s])return{foundParent:s,withChild:n};var a=e(t,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,t)}},{key:"setDirectionStrategy",value:function(){var e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new p(this):new d(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,i=-1e9,n=0;n<e.length;n++){var o=void 0;if(void 0!==e[n].id)o=e[n];else{var r=e[n];o=this.body.nodes[r]}var s=this.direction.getPosition(o);t=Math.min(t,s),i=Math.max(i,s)}return.5*(t+i)}}]),e}();t.default=m},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalStrategy=t.HorizontalStrategy=void 0;var o=n(i(3)),r=n(i(4)),s=n(i(5)),a=n(i(0)),u=n(i(1)),l=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,i),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),e}(),h=function(e){function t(e){(0,a.default)(this,t);var i=(0,r.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return i.layout=e,i}return(0,s.default)(t,e),(0,u.default)(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(e){return e.x}},{key:"setPosition",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(e,i),e.x=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}},{key:"sort",value:function(e){e.sort(function(e,t){return void 0===e.x||void 0===t.x?0:e.x-t.x})}},{key:"fix",value:function(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].x+=t}}]),t}(l),c=function(e){function t(e){(0,a.default)(this,t);var i=(0,r.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return i.layout=e,i}return(0,s.default)(t,e),(0,u.default)(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(e){return e.y}},{key:"setPosition",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(e,i),e.y=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}},{key:"sort",value:function(e){e.sort(function(e,t){return void 0===e.y||void 0===t.y?0:e.y-t.y})}},{key:"fix",value:function(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].y+=t}}]),t}(l);t.HorizontalStrategy=c,t.VerticalStrategy=h},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(8)),r=n(i(19)),s=n(i(6)),a=n(i(0)),u=n(i(1)),l=i(2),h=i(10),c=i(37),d=function(){function e(t,i,n){var o=this;(0,a.default)(this,e),this.body=t,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},l.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,u.default)(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,i){void 0!==t&&(void 0!==t.locale?this.options.locale=t.locale:this.options.locale=i.locale,void 0!==t.locales?this.options.locales=t.locales:this.options.locales=i.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,l.deepExtend(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount(),t=this.selectionHandler._getSelectedEdgeCount(),i=e+t,n=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(n)),1===e&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(n)):1===t&&0===e&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(n)),0!==i&&(e>0&&!1!==this.options.deleteNode?(!0===o&&this._createSeperator(4),this._createDeleteButton(n)):0===e&&!1!==this.options.deleteEdge&&(!0===o&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var i=l.deepExtend({},t.options,!1);if(i.x=t.x,i.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(t){null!==t&&void 0!==t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,s.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var t=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(t.from.x,t.from.y),n=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(e){var o=t.edgeType.findBorderPositions(e);!1===i.selected&&(i.x=o.from.x,i.y=o.from.y),!1===n.selected&&(n.x=o.to.x,n.y=o.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from,o.to)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(!0===this.body.nodes[t[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var r={nodes:t,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(r,function(t){null!==t&&void 0!==t&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var i=l.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+l.randomUUID(),i.hidden=!1,i.physics=!1,i.x=e,i.y=t;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},l.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),l.recursiveDOMDelete(this.manipulationDiv),l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t=this._createButton("addNode","vis-button vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(e){var t=this._createButton("addEdge","vis-button vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(e){var t=this._createButton("editNode","vis-button vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(e){var t=this._createButton("editEdge","vis-button vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(e){var t;t=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var i=this._createButton("delete",t,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(e){var t=this._createButton("back","vis-button vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("div"),this.manipulationDOM[e+"Div"].className=t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerHTML=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+(0,r.default)((0,o.default)(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(e,t){var i=new h(e,{});c.onTouch(i,t),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var t=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);-1!==t&&this.body.edgeIndices.splice(t,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=l.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(e){var t=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(t),n=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=n.isOverlappingWith(i),a=o.isOverlappingWith(i);!0===s?(this.selectedControlNode=n,r.edgeType.from=n):!0===a&&(this.selectedControlNode=o,r.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(t);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var n=t.x-this.lastTouch.x,o=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(o[s]!==this.selectedControlNode.id){r=this.body.nodes[o[s]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=l.extend({},this.body.view.translation);var t=this.lastTouch,i=this.selectionHandler.getNodeAt(t);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+l.randomUUID(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(t.x),i.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else{var n=t.x-this.lastTouch.x,o=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(-1===this.temporaryIds.nodes.indexOf(o[s])){r=this.body.nodes[o[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,i={id:l.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(e){null!==e&&void 0!==e&&"addNode"===t.inMode&&(t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var i=this,n={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(e){null!==e&&void 0!==e&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(e),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var i=this,n={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===(void 0===o?"undefined":(0,s.default)(o))&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(e){null===e||void 0===e||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(e),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}();t.default=d},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(30)),r=n(i(0)),s=n(i(1)),a=n(i(239)),u=function(){function e(t,i,n){(0,r.default)(this,e),this.body=t,this.springLength=i,this.springConstant=n,this.distanceSolver=new a.default}return(0,s.default)(e,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var r=0,s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,u=0,l=0,h=0,c=0,d=0;a>.01&&r<s;){r+=1;var p=this._getHighestEnergyNode(i),f=(0,o.default)(p,4);for(u=f[0],a=f[1],l=f[2],h=f[3],c=a,d=0;c>1&&d<5;){d+=1,this._moveNode(u,l,h);var m=this._getEnergy(u),g=(0,o.default)(m,3);c=g[0],l=g[1],h=g[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,n=0,r=t[0],s=0,a=0,u=0;u<t.length;u++){var l=t[u];if(!1===i[l].predefinedPosition||!0===i[l].isCluster&&!0===e||!0===i[l].options.fixed.x||!0===i[l].options.fixed.y){var h=this._getEnergy(l),c=(0,o.default)(h,3),d=c[0],p=c[1],f=c[2];n<d&&(n=d,r=l,s=p,a=f)}}return[r,n,s,a]}},{key:"_getEnergy",value:function(e){var t=(0,o.default)(this.E_sums[e],2),i=t[0],n=t[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(e,t,i){for(var n=this.body.nodeIndices,o=this.body.nodes,r=0,s=0,a=0,u=o[e].x,l=o[e].y,h=this.K_matrix[e],c=this.L_matrix[e],d=0;d<n.length;d++){var p=n[d];if(p!==e){var f=o[p].x,m=o[p].y,g=h[p],v=c[p],y=1/Math.pow(Math.pow(u-f,2)+Math.pow(l-m,2),1.5);r+=g*(1-v*Math.pow(l-m,2)*y),s+=g*(v*(u-f)*(l-m)*y),a+=g*(1-v*Math.pow(u-f,2)*y)}}var b=r,x=s,w=t,D=(w/b+i/x)/(x/b-a/x),C=-(x*D+w)/b;o[e].x+=C,o[e].y+=D,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[n]][t[o]]=i*e[t[n]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[n]][t[o]]=i*Math.pow(e[t[n]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(var n=0;n<e.length;n++){for(var o=e[n],r=t[o].x,s=t[o].y,a=0,u=0,l=n;l<e.length;l++){var h=e[l];if(h!==o){var c=t[h].x,d=t[h].y,p=1/Math.sqrt(Math.pow(r-c,2)+Math.pow(s-d,2));this.E_matrix[o][l]=[this.K_matrix[o][h]*(r-c-this.L_matrix[o][h]*(r-c)*p),this.K_matrix[o][h]*(s-d-this.L_matrix[o][h]*(s-d)*p)],this.E_matrix[h][n]=this.E_matrix[o][l],a+=this.E_matrix[o][l][0],u+=this.E_matrix[o][l][1]}}this.E_sums[o]=[a,u]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],r=this.L_matrix[e],s=i[e].x,a=i[e].y,u=0,l=0,h=0;h<t.length;h++){var c=t[h];if(c!==e){var d=n[h],p=d[0],f=d[1],m=i[c].x,g=i[c].y,v=1/Math.sqrt(Math.pow(s-m,2)+Math.pow(a-g,2)),y=o[c]*(s-m-r[c]*(s-m)*v),b=o[c]*(a-g-r[c]*(a-g)*v);n[h]=[y,b],u+=y,l+=b;var x=this.E_sums[c];x[0]+=y-p,x[1]+=b-f}}this.E_sums[e]=[u,l]}}]),e}();t.default=u},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(0)),r=n(i(1)),s=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,[{key:"getDistances",value:function(e,t,i){for(var n={},o=e.edges,r=0;r<t.length;r++){var s={};n[t[r]]=s;for(var a=0;a<t.length;a++)s[t[a]]=r==a?0:1e9}for(var u=0;u<i.length;u++){var l=o[i[u]];!0===l.connected&&void 0!==n[l.fromId]&&void 0!==n[l.toId]&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}for(var h=t.length,c=0;c<h;c++)for(var d=t[c],p=n[d],f=0;f<h-1;f++)for(var m=t[f],g=n[m],v=f+1;v<h;v++){var y=t[v],b=n[y],x=Math.min(g[y],g[d]+p[y]);g[y]=x,b[m]=x}return n}}]),e}();t.default=s}])}),define("viewmodel-sandbox@1.0.0#dependency-data/get-dependencies",["exports","can-reflect@1.17.7#can-reflect","can@5.17.0#enable-can-debug","can-component@4.4.9#can-component","can-key@1.2.0#can-key"],function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);e.default=function(e){var t=n.default.getOwnKeys(e),o=t.reduce(function(e,t){return e[t]=new Set,e},{}),r=function(e,t){o[e]||(o[e]=new Set),o[e].add(t)},s=function e(t){return function(i){var o=n.default.getValueDependencies(i)||{},s=o.keyDependencies||[];(o.valueDependencies||[]).forEach(e(t)),s.forEach(function(e){e.forEach(function(e){r(t,e)})})}};t.forEach(function(t){n.default.onKeyValue(e,t,function(){});var i=n.default.getKeyDependencies(e,t),o=i&&i.keyDependencies||[],a=i&&i.valueDependencies||[];o.forEach(function(e,i){r(t,i)}),a.forEach(s(t))});var a={};for(var u in o)a[u]=[].concat(i(o[u]));return a}}),define("viewmodel-sandbox@1.0.0#dependency-data/dependency-data",["vis@4.21.0#dist/vis","viewmodel-sandbox@1.0.0#dependency-data/get-dependencies","can-component@4.4.9#can-component","viewmodel-sandbox@1.0.0#dependency-data/dependency-data.less!steal-less@1.3.4#less","can@5.17.0#enable-can-debug","can-key@1.2.0#can-key","can-reflect@1.17.7#can-reflect"],function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=n(e),s=n(t),a=n(i);a.default.extend({tag:"dependency-graph",view:'\n    <h3>dependencies for "{{key}}":</h3>\n    <div class="graph"></div>\n  ',ViewModel:{connectedCallback:function(e){var t=this.key,i=this.dependencyData,n=1,s=o({},t,n),a=[{id:1,label:t}],u=[];!function e(t){var o=i[t];o&&o.forEach(function(i){s[i]||(s[i]=++n,a.push({id:n,label:i})),u.push({from:s[i],to:s[t],arrows:"to"}),e(i)})}(t);var l={layout:{hierarchical:{direction:"RL"}}};new r.default.Network(e.querySelector(".graph"),{nodes:new r.default.DataSet(a),edges:new r.default.DataSet(u)},l)},key:"string",dependencyData:"any"}}),a.default.extend({tag:"dependency-data",view:'\n    <h2 class="center">Dependencies</h2>\n\n    <div>\n      {{# each(dependencies, key=key }}\n        <dependency-graph\n          key:from="key"\n          dependencyData:from="scope.vm.dependencies"\n        ></dependency-graph>\n      {{/ each }}\n    </div>\n  ',ViewModel:{ViewModel:"any",vm:{value:function(e){var t=this,i=e.listenTo,n=e.resolve;i("ViewModel",function(e,i){n(new t.ViewModel)})}},dependencies:{value:function(e){var t=e.listenTo,i=e.resolve;t("vm",function(e,t){try{var n=(0,s.default)(t);i(n)}catch(e){}})}}}})}),define("viewmodel-sandbox@1.0.0#app",["can-component@4.4.9#can-component","viewmodel-sandbox@1.0.0#app.less!steal-less@1.3.4#less","viewmodel-sandbox@1.0.0#code-editor/code-editor","viewmodel-sandbox@1.0.0#dependency-data/dependency-data","can@5.17.0#enable-can-debug","can-debug@2.0.1#can-debug","can-namespace@1.0.0#can-namespace","can-globals@1.2.0#can-globals","can-globals@1.2.0#can-globals-instance","can-globals@1.2.0#can-globals-proto","can-reflect@1.17.7#can-reflect","can-reflect@1.17.7#reflections/call/call","can-symbol@1.6.1#can-symbol","can-reflect@1.17.7#reflections/type/type","can-reflect@1.17.7#reflections/helpers","can-reflect@1.17.7#reflections/get-set/get-set","can-reflect@1.17.7#reflections/observe/observe","can-reflect@1.17.7#reflections/shape/shape","can-reflect@1.17.7#reflections/shape/schema/schema","can-reflect@1.17.7#reflections/get-name/get-name","can-reflect@1.17.7#types/map","can-reflect@1.17.7#types/set","can-globals@1.2.0#global/global","can-globals@1.2.0#document/document","can-globals@1.2.0#location/location","can-globals@1.2.0#mutation-observer/mutation-observer","can-globals@1.2.0#is-browser-window/is-browser-window","can-globals@1.2.0#is-node/is-node","can-globals@1.2.0#custom-elements/custom-elements","can-debug@2.0.1#src/proxy-namespace","can-debug@2.0.1#src/temporarily-bind","can-debug@2.0.1#src/get-graph/get-graph","can-debug@2.0.1#src/graph/graph","can-debug@2.0.1#src/get-graph/make-node","can-reflect-dependencies@1.1.1#can-reflect-dependencies","can-reflect-dependencies@1.1.1#src/add-mutated-by","can-reflect-dependencies@1.1.1#src/delete-mutated-by","can-reflect-dependencies@1.1.1#src/get-dependency-data-of","can-reflect-dependencies@1.1.1#src/is-function","can-assign@1.3.1#can-assign","can-debug@2.0.1#src/format-graph/format-graph","can-debug@2.0.1#src/what-i-change/what-i-change","can-debug@2.0.1#src/log-data/log-data","can-debug@2.0.1#src/get-data/get-data","can-debug@2.0.1#src/label-cycles/label-cycles","can-debug@2.0.1#src/what-changes-me/what-changes-me","can-debug@2.0.1#src/get-what-i-change/get-what-i-change","can-debug@2.0.1#src/get-what-changes-me/get-what-changes-me","can-queues@1.2.1#can-queues","can-log@1.0.0#dev/dev","can-log@1.0.0#can-log","can-queues@1.2.1#queue","can-queues@1.2.1#queue-state","can-queues@1.2.1#priority-queue","can-queues@1.2.1#completion-queue","can-diff@1.4.2#merge-deep/merge-deep","can-diff@1.4.2#list/list","can-component@4.4.9#control/control","can-control@4.4.1#can-control","can-construct@3.5.3#can-construct","can-string@1.0.0#can-string","can-stache-key@1.4.0#can-stache-key","can-observation-recorder@1.2.0#can-observation-recorder","can-reflect-promise@2.2.0#can-reflect-promise","can-key-tree@1.2.0#can-key-tree","can-observation@4.1.1#can-observation","can-event-queue@1.1.3#value/value","can-define-lazy-value@1.1.0#define-lazy-value","can-event-queue@1.1.3#dependency-record/merge","can-observation@4.1.1#recorder-dependency-helpers","can-observation@4.1.1#temporarily-bind","can-event-queue@1.1.3#map/map","can-dom-events@1.3.3#can-dom-events","can-dom-events@1.3.3#helpers/util","can-dom-events@1.3.3#helpers/make-event-registry","can-dom-events@1.3.3#helpers/-make-delegate-event-tree","can-key@1.2.0#get/get","can-key@1.2.0#utils","can-dom-mutate@1.3.5#can-dom-mutate","can-dom-mutate@1.3.5#-util","can-bind@1.1.1#can-bind","can-stache@4.15.8#can-stache","can-view-parser@4.1.2#can-view-parser","can-attribute-encoder@1.1.1#can-attribute-encoder","can-view-callbacks@4.3.1#can-view-callbacks","can-dom-mutate@1.3.5#node","can-view-nodelist@4.3.2#can-view-nodelist","can-fragment@1.3.0#can-fragment","can-child-nodes@1.2.0#can-child-nodes","can-stache@4.15.8#src/html_section","can-view-target@4.1.1#can-view-target","can-stache@4.15.8#src/utils","can-view-scope@4.11.1#can-view-scope","can-view-scope@4.11.1#template-context","can-simple-map@4.3.0#can-simple-map","can-view-scope@4.11.1#compute_data","can-view-scope@4.11.1#scope-key-data","can-view-scope@4.11.1#make-compute-like","can-single-reference@1.2.0#can-single-reference","can-cid@1.3.0#can-cid","can-stache-helpers@1.2.0#can-stache-helpers","can-simple-observable@2.4.1#can-simple-observable","can-simple-observable@2.4.1#log","can-stache@4.15.8#src/key-observable","can-simple-observable@2.4.1#settable/settable","can-stache@4.15.8#src/text_section","can-view-live@4.2.7#can-view-live","can-view-live@4.2.7#lib/core","can-view-live@4.2.7#lib/attr","can-attribute-observable@1.1.6#behaviors","can-dom-data-state@1.0.5#can-dom-data-state","can-view-live@4.2.7#lib/attrs","can-view-live@4.2.7#lib/html","can-view-live@4.2.7#lib/list","can-view-live@4.2.7#lib/set-observable","can-diff@1.4.2#patcher/patcher","can-view-live@4.2.7#lib/text","can-stache@4.15.8#src/mustache_core","can-stache@4.15.8#src/expression","can-stache@4.15.8#expressions/arg","can-stache@4.15.8#expressions/literal","can-stache@4.15.8#expressions/hashes","can-stache@4.15.8#src/expression-helpers","can-simple-observable@2.4.1#setter/setter","can-stache@4.15.8#expressions/bracket","can-stache@4.15.8#expressions/call","can-stache@4.15.8#src/set-identifier","can-stache@4.15.8#expressions/helper","can-stache@4.15.8#expressions/lookup","can-stache@4.15.8#helpers/core","can-globals@1.2.0#base-url/base-url","can-join-uris@1.2.0#can-join-uris","can-parse-uri@1.2.0#can-parse-uri","can-stache@4.15.8#helpers/-debugger","can-stache@4.15.8#src/truthy-observable","can-dom-data@1.0.1#can-dom-data","can-stache@4.15.8#helpers/-for-of","can-stache@4.15.8#helpers/-let","can-stache@4.15.8#helpers/converter","can-stache-ast@1.1.0#can-stache-ast","can-stache-ast@1.1.0#controls","can-import-module@1.2.0#can-import-module","can-stache-bindings@4.6.4#can-stache-bindings","can-view-model@4.0.1#can-view-model","can-attribute-observable@1.1.6#can-attribute-observable","can-attribute-observable@1.1.6#event","can-attribute-observable@1.1.6#get-event-name","can-event-dom-radiochange@2.2.0#can-event-dom-radiochange","can-define@2.7.1#map/map","can-define@2.7.1#can-define","can-simple-observable@2.4.1#async/async","can-simple-observable@2.4.1#resolver/resolver","can-event-queue@1.1.3#type/type","can-string-to-any@1.2.0#can-string-to-any","can-data-types@1.2.0#maybe-boolean/maybe-boolean","can-data-types@1.2.0#maybe-date/maybe-date","can-data-types@1.2.0#maybe-number/maybe-number","can-data-types@1.2.0#maybe-string/maybe-string","can-define@2.7.1#define-helpers/define-helpers","can-define@2.7.1#ensure-meta","can-define@2.7.1#list/list","can-key@1.2.0#can-key","can-key@1.2.0#delete/delete","can-key@1.2.0#replace-with/replace-with","can-key@1.2.0#set/set","can-key@1.2.0#transform/transform","can-key@1.2.0#walk/walk","codemirror@5.42.0#lib/codemirror","codemirror@5.42.0#lib/codemirror.css!steal-css@1.3.2#css","esprima@3.1.3#dist/esprima","escodegen@1.11.0#escodegen","estraverse@4.2.0#estraverse","estraverse@4.2.0#package.json","esutils@2.0.2#lib/utils","esutils@2.0.2#lib/ast","esutils@2.0.2#lib/code","esutils@2.0.2#lib/keyword","source-map@0.6.1#source-map","source-map@0.6.1#lib/source-map-generator","source-map@0.6.1#lib/base64-vlq","source-map@0.6.1#lib/base64","source-map@0.6.1#lib/util","source-map@0.6.1#lib/array-set","source-map@0.6.1#lib/mapping-list","source-map@0.6.1#lib/source-map-consumer","source-map@0.6.1#lib/binary-search","source-map@0.6.1#lib/quick-sort","source-map@0.6.1#lib/source-node","escodegen@1.11.0#package.json","codemirror@5.42.0#mode/javascript/javascript","viewmodel-sandbox@1.0.0#code-editor/code-editor.less!steal-less@1.3.4#less","vis@4.21.0#dist/vis","vis@4.21.0#dist/vis.css!steal-css@1.3.2#css","viewmodel-sandbox@1.0.0#dependency-data/get-dependencies","viewmodel-sandbox@1.0.0#dependency-data/dependency-data.less!steal-less@1.3.4#less"],function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e).default.extend({tag:"sand-box",view:'\n    <div class="grid-container">\n      <div class="header">\n        <h1 class="center">CanJS ViewModel Sandbox</h1>\n      </div>\n      <div class="source-panel">\n        <code-editor\n          ViewModel:to="scope.vars.ViewModel"\n        ></code-editor>\n      </div>\n      <div class="results-panel">\n        <dependency-data\n          ViewModel:from="scope.vars.ViewModel"\n        ></dependency-data>\n      </div>\n    </div>\n  ',ViewModel:{}})});